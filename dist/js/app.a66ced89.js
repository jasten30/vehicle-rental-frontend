(function(){"use strict";var e={9821:function(e,t,a){var i=a(5130),s=a(6768),o=a(4232);const l={id:"app",class:"app-container"},n={key:0,class:"app-header"},r=["src"],c={class:"header-nav"},d={class:"header-right"},u=["title"],p={key:0,class:"bi bi-slash-circle icon-left"},h={class:"user-menu-container"},m={key:0,class:"dropdown-menu",ref:"dropdownMenu"},v={key:0,class:"dropdown-section"},k={key:1,class:"dropdown-section user-info-header"},g=["src"],f=["src"],y={class:"user-details"},b={class:"dropdown-header user-name-header"},w={class:"user-email-text"},C={key:0,class:"suspended-badge"},S={key:2,class:"dropdown-section"},P={key:3,class:"dropdown-divider"},E={key:4,class:"dropdown-section"},D={key:5,class:"dropdown-section"},A={class:"dropdown-section"},_={key:6,class:"dropdown-divider"},V={key:7,class:"dropdown-section"},I={class:"app-content"};function F(e,t,a,L,F,x){const M=(0,s.g2)("router-link"),T=(0,s.g2)("NotificationBell"),R=(0,s.g2)("NotificationBadge"),B=(0,s.g2)("router-view"),U=(0,s.g2)("FooterSection"),N=(0,s.g2)("VehicleTypeChoiceModal");return(0,s.uX)(),(0,s.CE)("div",l,["admin"!==e.userRole?((0,s.uX)(),(0,s.CE)("header",n,[(0,s.bF)(M,{to:"/",class:"app-title-link"},{default:(0,s.k6)(()=>[(0,s.Lk)("img",{src:F.logo,alt:"RentCycle Logo",class:"app-logo-image"},null,8,r)]),_:1}),(0,s.Lk)("nav",c,[(0,s.bF)(M,{to:"/",class:"nav-link"},{default:(0,s.k6)(()=>[...t[6]||(t[6]=[(0,s.eW)("Home",-1)])]),_:1}),(0,s.bF)(M,{to:"/vehicles",class:"nav-link"},{default:(0,s.k6)(()=>[...t[7]||(t[7]=[(0,s.eW)("Vehicles",-1)])]),_:1}),(0,s.bF)(M,{to:"/about",class:"nav-link"},{default:(0,s.k6)(()=>[...t[8]||(t[8]=[(0,s.eW)("About",-1)])]),_:1}),(0,s.bF)(M,{to:"/contact",class:"nav-link"},{default:(0,s.k6)(()=>[...t[9]||(t[9]=[(0,s.eW)("Contact",-1)])]),_:1})]),(0,s.Lk)("div",d,[e.isAuthenticated?((0,s.uX)(),(0,s.Wv)(T,{key:0})):(0,s.Q3)("",!0),"VehicleList"!==e.$route.name?((0,s.uX)(),(0,s.CE)("button",{key:1,onClick:t[0]||(t[0]=(0,i.D$)((...e)=>x.handleHostClick&&x.handleHostClick(...e),["prevent"])),class:(0,o.C4)(["become-host-button",{"disabled-btn":x.isSuspended&&"owner"===e.userRole}]),title:x.isSuspended?"Account Suspended":""},[x.isSuspended&&"owner"===e.userRole?((0,s.uX)(),(0,s.CE)("i",p)):(0,s.Q3)("",!0),(0,s.eW)(" "+(0,o.v_)(x.hostLinkText),1)],10,u)):(0,s.Q3)("",!0),(0,s.Lk)("div",h,[(0,s.Lk)("button",{class:"menu-button",onClick:t[1]||(t[1]=(...e)=>x.toggleMenu&&x.toggleMenu(...e)),ref:"menuButton"},[...t[10]||(t[10]=[(0,s.Lk)("i",{class:"bi bi-list menu-icon"},null,-1),(0,s.Lk)("i",{class:"bi bi-person-circle avatar-icon"},null,-1)])],512),(0,s.bF)(i.eB,{name:"dropdown-fade"},{default:(0,s.k6)(()=>[F.isMenuOpen?((0,s.uX)(),(0,s.CE)("div",m,[e.isAuthenticated?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",v,[(0,s.bF)(M,{to:"/login",class:"dropdown-item",onClick:x.closeMenu},{default:(0,s.k6)(()=>[...t[11]||(t[11]=[(0,s.eW)(" Login ",-1)])]),_:1},8,["onClick"]),(0,s.bF)(M,{to:"/register",class:"dropdown-item",onClick:x.closeMenu},{default:(0,s.k6)(()=>[...t[12]||(t[12]=[(0,s.eW)(" Sign up ",-1)])]),_:1},8,["onClick"])])),e.isAuthenticated?((0,s.uX)(),(0,s.CE)("div",k,[e.user.profilePhotoUrl?((0,s.uX)(),(0,s.CE)("img",{key:0,src:e.user.profilePhotoUrl,alt:"User Avatar",class:"dropdown-avatar"},null,8,g)):((0,s.uX)(),(0,s.CE)("img",{key:1,src:F.initialsDataUrl,alt:"User Initials",class:"dropdown-avatar"},null,8,f)),(0,s.Lk)("div",y,[(0,s.bF)(M,{to:{name:"ProfileSettings"},class:"profile-link",onClick:x.closeMenu},{default:(0,s.k6)(()=>[(0,s.Lk)("h6",b," Hello, "+(0,o.v_)(e.user.name||"User"),1)]),_:1},8,["onClick"]),(0,s.Lk)("span",w,(0,o.v_)(e.user.email),1),x.isSuspended?((0,s.uX)(),(0,s.CE)("span",C," SUSPENDED ")):(0,s.Q3)("",!0)])])):(0,s.Q3)("",!0),e.isAuthenticated?((0,s.uX)(),(0,s.CE)("div",S,[t[17]||(t[17]=(0,s.Lk)("h6",{class:"dropdown-header"},"My RentCycle",-1)),(0,s.bF)(M,{to:{name:"MyFavorites"},class:"dropdown-item with-icon",onClick:x.closeMenu},{default:(0,s.k6)(()=>[...t[13]||(t[13]=[(0,s.Lk)("i",{class:"bi bi-heart-fill"},null,-1),(0,s.eW)("Favorites ",-1)])]),_:1},8,["onClick"]),(0,s.bF)(M,{to:{name:"MyBookings"},class:"dropdown-item with-icon",onClick:x.closeMenu},{default:(0,s.k6)(()=>[...t[14]||(t[14]=[(0,s.Lk)("i",{class:"bi bi-briefcase-fill"},null,-1),(0,s.eW)("Trips ",-1)])]),_:1},8,["onClick"]),(0,s.bF)(M,{to:{name:"Chat"},class:"dropdown-item with-icon",onClick:x.closeMenu},{default:(0,s.k6)(()=>[t[15]||(t[15]=(0,s.Lk)("i",{class:"bi bi-envelope-fill"},null,-1)),t[16]||(t[16]=(0,s.eW)("Inbox ",-1)),(0,s.bF)(R,{count:x.unreadChatsCount},null,8,["count"])]),_:1},8,["onClick"])])):(0,s.Q3)("",!0),!e.isAuthenticated||"owner"!==e.userRole&&"renter"!==e.userRole?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("hr",P)),e.isAuthenticated&&"owner"===e.userRole?((0,s.uX)(),(0,s.CE)("div",E,[t[22]||(t[22]=(0,s.Lk)("h6",{class:"dropdown-header"},"Hosting",-1)),(0,s.bF)(M,{to:{name:"OwnerVehicles"},class:"dropdown-item with-icon",onClick:x.closeMenu},{default:(0,s.k6)(()=>[...t[18]||(t[18]=[(0,s.Lk)("i",{class:"bi bi-card-checklist"},null,-1),(0,s.eW)("My Listings ",-1)])]),_:1},8,["onClick"]),(0,s.bF)(M,{to:{name:"OwnerBilling"},class:"dropdown-item with-icon",onClick:x.closeMenu},{default:(0,s.k6)(()=>[...t[19]||(t[19]=[(0,s.Lk)("i",{class:"bi bi-cash-stack"},null,-1),(0,s.eW)("Earnings ",-1)])]),_:1},8,["onClick"]),(0,s.bF)(M,{to:{name:"OwnerBookings"},class:"dropdown-item with-icon",onClick:x.closeMenu},{default:(0,s.k6)(()=>[...t[20]||(t[20]=[(0,s.Lk)("i",{class:"bi bi-calendar-check-fill"},null,-1),(0,s.eW)("Calendar ",-1)])]),_:1},8,["onClick"]),(0,s.Lk)("a",{href:"#",class:(0,o.C4)(["dropdown-item with-icon",{"disabled-item":x.isSuspended}]),onClick:t[2]||(t[2]=(0,i.D$)((...e)=>x.handleHostClick&&x.handleHostClick(...e),["prevent"]))},[t[21]||(t[21]=(0,s.Lk)("i",{class:"bi bi-plus-circle-fill"},null,-1)),(0,s.eW)(" "+(0,o.v_)(x.isSuspended?"Listing Disabled":"List New Asset"),1)],2)])):(0,s.Q3)("",!0),e.isAuthenticated&&"renter"===e.userRole?((0,s.uX)(),(0,s.CE)("div",D,[(0,s.Lk)("a",{href:"#",class:(0,o.C4)(["dropdown-item with-icon",{"disabled-item":x.isSuspended}]),onClick:t[3]||(t[3]=(0,i.D$)((...e)=>x.handleHostClick&&x.handleHostClick(...e),["prevent"]))},[...t[23]||(t[23]=[(0,s.Lk)("i",{class:"bi bi-plus-circle-fill"},null,-1),(0,s.eW)("Become a host ",-1)])],2)])):(0,s.Q3)("",!0),t[28]||(t[28]=(0,s.Lk)("hr",{class:"dropdown-divider"},null,-1)),(0,s.Lk)("div",A,[(0,s.bF)(M,{to:"/how-it-works",class:"dropdown-item with-icon",onClick:x.closeMenu},{default:(0,s.k6)(()=>[...t[24]||(t[24]=[(0,s.Lk)("i",{class:"bi bi-key"},null,-1),(0,s.eW)("How RentCycle Works ",-1)])]),_:1},8,["onClick"]),(0,s.bF)(M,{to:"/contact",class:"dropdown-item with-icon",onClick:x.closeMenu},{default:(0,s.k6)(()=>[...t[25]||(t[25]=[(0,s.Lk)("i",{class:"bi bi-headset"},null,-1),(0,s.eW)("Contact Support ",-1)])]),_:1},8,["onClick"]),(0,s.bF)(M,{to:"#",class:"dropdown-item with-icon"},{default:(0,s.k6)(()=>[...t[26]||(t[26]=[(0,s.Lk)("i",{class:"bi bi-file-earmark-text"},null,-1),(0,s.eW)("Legal ",-1)])]),_:1})]),e.isAuthenticated?((0,s.uX)(),(0,s.CE)("hr",_)):(0,s.Q3)("",!0),e.isAuthenticated?((0,s.uX)(),(0,s.CE)("div",V,[(0,s.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>x.handleLogout&&x.handleLogout(...e)),class:"dropdown-item with-icon logout-button"},[...t[27]||(t[27]=[(0,s.Lk)("i",{class:"bi bi-box-arrow-right"},null,-1),(0,s.eW)("Logout ",-1)])])])):(0,s.Q3)("",!0)],512)):(0,s.Q3)("",!0)]),_:1})])])])):(0,s.Q3)("",!0),(0,s.Lk)("main",I,[(0,s.bF)(B)]),"admin"!==e.userRole?((0,s.uX)(),(0,s.Wv)(U,{key:1})):(0,s.Q3)("",!0),(0,s.bF)(N,{show:F.isChoiceModalVisible,onClose:t[5]||(t[5]=e=>F.isChoiceModalVisible=!1),onNavigate:x.handleTypeChoice},null,8,["show","onNavigate"])])}a(4114),a(8111),a(2489),a(1701);var x=a(782);const M={key:0,class:"notification-badge"};function T(e,t,a,i,l,n){return a.count>0?((0,s.uX)(),(0,s.CE)("span",M,(0,o.v_)(a.count),1)):(0,s.Q3)("",!0)}var R={name:"NotificationBadge",props:{count:{type:Number,default:0}}},B=a(1241);const U=(0,B.A)(R,[["render",T],["__scopeId","data-v-1b00f698"]]);var N=U;const X={class:"notification-bell-container",ref:"bellContainer"},O={key:0,class:"notification-badge"},q={key:0,class:"notification-dropdown"},$={class:"dropdown-header"},Q={key:0,class:"loading-state"},W={key:1,class:"empty-state"},H={key:2,class:"notification-list"},j=["onClick"],Y={class:"notification-content"},K={class:"notification-message"},G={class:"notification-timestamp"},J={key:0,class:"unread-indicator"};function z(e,t,a,l,n,r){return(0,s.uX)(),(0,s.CE)("div",X,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.toggleDropdown&&r.toggleDropdown(...e)),class:"bell-button"},[t[2]||(t[2]=(0,s.Lk)("i",{class:"bi bi-bell-fill"},null,-1)),e.unreadNotificationsCount>0?((0,s.uX)(),(0,s.CE)("span",O,(0,o.v_)(e.unreadNotificationsCount),1)):(0,s.Q3)("",!0)]),(0,s.bF)(i.eB,{name:"dropdown-fade"},{default:(0,s.k6)(()=>[n.isDropdownOpen?((0,s.uX)(),(0,s.CE)("div",q,[(0,s.Lk)("div",$,[t[3]||(t[3]=(0,s.Lk)("h3",null,"Notifications",-1)),e.unreadNotificationsCount>0?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:t[1]||(t[1]=(0,i.D$)((...e)=>r.handleMarkAllAsRead&&r.handleMarkAllAsRead(...e),["stop"])),class:"mark-all-read-btn"},"Mark all as read")):(0,s.Q3)("",!0)]),e.isLoadingNotifications?((0,s.uX)(),(0,s.CE)("div",Q,[...t[4]||(t[4]=[(0,s.Lk)("p",null,"Loading...",-1)])])):0===e.notifications.length?((0,s.uX)(),(0,s.CE)("div",W,[...t[5]||(t[5]=[(0,s.Lk)("i",{class:"bi bi-check2-circle"},null,-1),(0,s.Lk)("p",null,"You're all caught up!",-1)])])):((0,s.uX)(),(0,s.CE)("ul",H,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.notifications,e=>((0,s.uX)(),(0,s.CE)("li",{key:e.id,class:(0,o.C4)([{"is-read":e.isRead},"notification-item"]),onClick:t=>r.handleNotificationClick(e)},[(0,s.Lk)("div",Y,[(0,s.Lk)("p",K,(0,o.v_)(e.message),1),(0,s.Lk)("span",G,(0,o.v_)(r.formatTimestamp(e.createdAt)),1)]),e.isRead?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",J))],10,j))),128))]))])):(0,s.Q3)("",!0)]),_:1})],512)}a(116),a(7588);var Z=a(8340),ee={name:"NotificationBell",data(){return{isDropdownOpen:!1,pollingInterval:null}},computed:{...(0,x.L8)(["notifications","unreadNotificationsCount","isLoadingNotifications","isAuthenticated"])},methods:{...(0,x.i0)(["fetchNotifications","markAllNotificationsAsRead","markNotificationAsRead"]),toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen,this.isDropdownOpen&&this.fetchNotifications()},handleNotificationClick(e){if(!e.isRead){const t=this.notifications.find(t=>t.id===e.id);t&&(t.isRead=!0),this.markNotificationAsRead(e.id).catch(e=>{console.error("Failed to mark notification as read:",e),t&&(t.isRead=!1)})}e.link&&this.$router.push(e.link),this.isDropdownOpen=!1},async handleMarkAllAsRead(){if(this.unreadNotificationsCount>0){this.notifications.forEach(e=>e.isRead=!0);try{await this.markAllNotificationsAsRead()}catch(e){console.error("Failed to mark all notifications as read:",e),await this.fetchNotifications()}}},formatTimestamp(e){if(!e)return"";try{let t;return t=e.toDate&&"function"===typeof e.toDate?e.toDate():void 0!==e._seconds&&void 0!==e._nanoseconds?new Date(1e3*e._seconds+e._nanoseconds/1e6):new Date(e),isNaN(t.getTime())?(console.warn("Could not parse timestamp:",e),"Invalid date"):Z.c9.fromJSDate(t).toRelative()}catch(t){return console.error("Error formatting timestamp:",e,t),"Invalid date"}},startPolling(){this.isAuthenticated&&this.fetchNotifications(),this.pollingInterval&&clearInterval(this.pollingInterval),this.pollingInterval=setInterval(()=>{this.isAuthenticated?this.fetchNotifications():this.stopPolling()},3e4)},stopPolling(){clearInterval(this.pollingInterval),this.pollingInterval=null}},watch:{isAuthenticated(e){e?this.startPolling():this.stopPolling()}},mounted(){document.addEventListener("click",this.closeDropdownOnClickOutside),this.startPolling()},beforeUnmount(){document.removeEventListener("click",this.closeDropdownOnClickOutside),this.stopPolling()}};const te=(0,B.A)(ee,[["render",z],["__scopeId","data-v-73f8727c"]]);var ae=te;const ie={class:"modal-body"},se={class:"choice-grid"},oe={class:"modal-footer"};function le(e,t,a,o,l,n){return(0,s.uX)(),(0,s.Wv)(i.eB,{name:"modal-fade"},{default:(0,s.k6)(()=>[a.show?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"modal-overlay",onClick:t[4]||(t[4]=t=>e.$emit("close"))},[(0,s.Lk)("div",{class:"modal-card",onClick:t[3]||(t[3]=(0,i.D$)(()=>{},["stop"]))},[t[7]||(t[7]=(0,s.Lk)("div",{class:"modal-header"},[(0,s.Lk)("h3",null,"List a New Asset"),(0,s.Lk)("p",null,"What are you listing? Choose the category that best fits your asset.")],-1)),(0,s.Lk)("div",ie,[(0,s.Lk)("div",se,[(0,s.Lk)("button",{class:"choice-card",onClick:t[0]||(t[0]=t=>e.$emit("navigate","AddVehicle"))},[...t[5]||(t[5]=[(0,s.Lk)("div",{class:"icon-wrapper car"},[(0,s.Lk)("i",{class:"bi bi-car-front-fill"})],-1),(0,s.Lk)("span",{class:"choice-label"},"Car / 4-Wheels",-1),(0,s.Lk)("span",{class:"choice-description"},"List sedans, SUVs, vans, trucks, etc.",-1)])]),(0,s.Lk)("button",{class:"choice-card",onClick:t[1]||(t[1]=t=>e.$emit("navigate","AddMotorcycle"))},[...t[6]||(t[6]=[(0,s.Lk)("div",{class:"icon-wrapper motorcycle"},[(0,s.Lk)("i",{class:"bi bi-bicycle"})],-1),(0,s.Lk)("span",{class:"choice-label"},"Motorcycle / 2-Wheels",-1),(0,s.Lk)("span",{class:"choice-description"},"List scooters, motorbikes, etc.",-1)])])])]),(0,s.Lk)("div",oe,[(0,s.Lk)("button",{class:"button secondary-button",onClick:t[2]||(t[2]=t=>e.$emit("close"))},"Cancel")])])])):(0,s.Q3)("",!0)]),_:1})}var ne={name:"VehicleTypeChoiceModal",props:{show:{type:Boolean,default:!1}},emits:["close","navigate"]};const re=(0,B.A)(ne,[["render",le],["__scopeId","data-v-73eaf42e"]]);var ce=re;const de={class:"footer-container"},ue={class:"footer-content"},pe={class:"footer-column links"},he={class:"footer-column links"},me={class:"footer-column links"},ve={class:"footer-bottom"};function ke(e,t,a,i,l,n){const r=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("footer",de,[(0,s.Lk)("div",ue,[t[12]||(t[12]=(0,s.Fv)('<div class="footer-column brand" data-v-1bf32b2c><h2 class="footer-title" data-v-1bf32b2c><span class="rent-text" data-v-1bf32b2c>RENT</span><span class="cycle-text" data-v-1bf32b2c>CYCLE</span></h2><p class="tagline" data-v-1bf32b2c>Your adventure starts here. Rent cars and motorcycles from trusted local hosts.</p><div class="social-icons" data-v-1bf32b2c><a href="#" aria-label="Facebook" data-v-1bf32b2c><i class="bi bi-facebook" data-v-1bf32b2c></i></a><a href="#" aria-label="Instagram" data-v-1bf32b2c><i class="bi bi-instagram" data-v-1bf32b2c></i></a><a href="#" aria-label="Twitter" data-v-1bf32b2c><i class="bi bi-twitter" data-v-1bf32b2c></i></a></div></div>',1)),(0,s.Lk)("div",pe,[t[3]||(t[3]=(0,s.Lk)("h4",{class:"column-title"},"Company",-1)),(0,s.Lk)("ul",null,[(0,s.Lk)("li",null,[(0,s.bF)(r,{to:"/about"},{default:(0,s.k6)(()=>[...t[0]||(t[0]=[(0,s.eW)("About Us",-1)])]),_:1})]),(0,s.Lk)("li",null,[(0,s.bF)(r,{to:"/careers"},{default:(0,s.k6)(()=>[...t[1]||(t[1]=[(0,s.eW)("Careers",-1)])]),_:1})]),(0,s.Lk)("li",null,[(0,s.bF)(r,{to:"/blog"},{default:(0,s.k6)(()=>[...t[2]||(t[2]=[(0,s.eW)("Blog",-1)])]),_:1})])])]),(0,s.Lk)("div",he,[t[8]||(t[8]=(0,s.Lk)("h4",{class:"column-title"},"Support",-1)),(0,s.Lk)("ul",null,[(0,s.Lk)("li",null,[(0,s.bF)(r,{to:"/contact"},{default:(0,s.k6)(()=>[...t[4]||(t[4]=[(0,s.eW)("Contact Support",-1)])]),_:1})]),(0,s.Lk)("li",null,[(0,s.bF)(r,{to:"/faq"},{default:(0,s.k6)(()=>[...t[5]||(t[5]=[(0,s.eW)("FAQ",-1)])]),_:1})]),(0,s.Lk)("li",null,[(0,s.bF)(r,{to:"/trust-and-safety"},{default:(0,s.k6)(()=>[...t[6]||(t[6]=[(0,s.eW)("Trust & Safety",-1)])]),_:1})]),(0,s.Lk)("li",null,[(0,s.bF)(r,{to:"/how-it-works"},{default:(0,s.k6)(()=>[...t[7]||(t[7]=[(0,s.eW)("How it Works",-1)])]),_:1})])])]),(0,s.Lk)("div",me,[t[11]||(t[11]=(0,s.Lk)("h4",{class:"column-title"},"Hosting",-1)),(0,s.Lk)("ul",null,[(0,s.Lk)("li",null,[(0,s.bF)(r,{to:"/become-a-host"},{default:(0,s.k6)(()=>[...t[9]||(t[9]=[(0,s.eW)("Become a host",-1)])]),_:1})]),(0,s.Lk)("li",null,[(0,s.bF)(r,{to:"/hosting-guide"},{default:(0,s.k6)(()=>[...t[10]||(t[10]=[(0,s.eW)("Hosting Guide",-1)])]),_:1})])])])]),(0,s.Lk)("div",ve,[(0,s.Lk)("p",null,"© "+(0,o.v_)((new Date).getFullYear())+" RentCycle, Inc. All rights reserved.",1),(0,s.Lk)("ul",null,[(0,s.Lk)("li",null,[(0,s.bF)(r,{to:"/privacy-policy"},{default:(0,s.k6)(()=>[...t[13]||(t[13]=[(0,s.eW)("Privacy Policy",-1)])]),_:1})]),(0,s.Lk)("li",null,[(0,s.bF)(r,{to:"/terms-of-service"},{default:(0,s.k6)(()=>[...t[14]||(t[14]=[(0,s.eW)("Terms of Service",-1)])]),_:1})])])])])}var ge={name:"FooterSection"};const fe=(0,B.A)(ge,[["render",ke],["__scopeId","data-v-1bf32b2c"]]);var ye=fe,be=a.p+"img/rentcycle_logo.009b27df.png",Le={name:"App",components:{NotificationBadge:N,NotificationBell:ae,VehicleTypeChoiceModal:ce,FooterSection:ye},data(){return{isMenuOpen:!1,initialsDataUrl:null,isChoiceModalVisible:!1,logo:be}},computed:{...(0,x.L8)(["isAuthenticated","userRole","user","userChats"]),isSuspended(){return!0===this.user?.isSuspended},hostLinkText(){return this.isAuthenticated&&"owner"===this.userRole?this.isSuspended?"Listing Disabled":"List your asset":"Become a host"},initials(){if(!this.user)return"";const e=this.user.name||"User";return e.split(" ").map(e=>e[0]).join("").toUpperCase().substring(0,2)},unreadChatsCount(){return this.user&&this.userChats&&0!==this.userChats.length?this.userChats.filter(e=>e.lastMessage&&e.lastMessage.readBy&&!e.lastMessage.readBy.includes(this.user.uid)).length:0}},watch:{initials:{immediate:!0,handler(e){e?this.generateInitialsImage(e):this.initialsDataUrl=null}},isAuthenticated(e){e&&this.fetchUserChats()}},methods:{...(0,x.i0)(["logout","fetchUserChats"]),handleHostClick(){this.closeMenu(),this.isSuspended?alert("Your account is suspended. You cannot perform this action. Please contact support."):this.isAuthenticated&&"owner"===this.userRole?this.isChoiceModalVisible=!0:this.$router.push({name:"BecomeOwnerApplication"})},handleTypeChoice(e){this.isChoiceModalVisible=!1,this.$router.push({name:e})},generateInitialsImage(e){const t=document.createElement("canvas"),a=t.getContext("2d"),i=100;t.width=i,t.height=i,a.fillStyle="#C0C0C0",a.fillRect(0,0,i,i),a.fillStyle="#FFFFFF",a.font=`bold ${i/2}px Nunito`,a.textAlign="center",a.textBaseline="middle",a.fillText(e,i/2,i/2),this.initialsDataUrl=t.toDataURL()},handleLogout(){this.logout(),this.closeMenu()},toggleMenu(){this.isMenuOpen=!this.isMenuOpen},closeMenu(){this.isMenuOpen=!1},closeMenuOnClickOutside(e){this.isMenuOpen&&this.$refs.dropdownMenu&&this.$refs.menuButton&&(this.$refs.dropdownMenu.contains(e.target)||this.$refs.menuButton.contains(e.target)||this.closeMenu())}},mounted(){document.addEventListener("click",this.closeMenuOnClickOutside)},beforeUnmount(){document.removeEventListener("click",this.closeMenuOnClickOutside)},created(){this.isAuthenticated&&this.fetchUserChats()}};const we=(0,B.A)(Le,[["render",F]]);var Ce=we,Se=(a(3579),a(1387)),Pe=(a(8237),a(7642),a(8004),a(3853),a(5876),a(2475),a(5024),a(1698),a(4373));const Ee=Pe.A.create({baseURL:{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_API_BASE_URL||"http://localhost:5001/api",headers:{"Content-Type":"application/json"}});Ee.interceptors.request.use(e=>{const t=Oe.getters.authToken;return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));const De=e=>{e?Ee.defaults.headers.common["Authorization"]=`Bearer ${e}`:delete Ee.defaults.headers.common["Authorization"]};var Ae={login:e=>Ee.post("/auth/login",e),register:e=>Ee.post("/auth/register",e),tokenLogin:()=>Ee.post("/auth/token-login"),reauthenticate:e=>Ee.post("/auth/reauthenticate",{password:e}),forgotPassword:e=>Ee.post("/auth/forgot-password",{email:e}),sendContactForm:e=>Ee.post("/auth/contact",e),getUserProfile:()=>Ee.get("/users/profile"),updateUserProfile:e=>Ee.put("/users/profile",e),getAllUsers:()=>Ee.get("/users/all-users"),updateUserRole:(e,t)=>Ee.put(`/users/update-role/${e}`,{role:t}),deleteUser:e=>Ee.delete(`/users/${e}`),sendEmailVerificationCode:()=>Ee.post("/users/send-email-verification"),verifyEmailCode:e=>Ee.post("/users/verify-email-code",{code:e}),submitDriveApplication:e=>Ee.post("/users/drive-application",e),toggleFavoriteVehicle:e=>Ee.post("/users/me/favorites/toggle",e),submitHostApplication:e=>Ee.post("/users/submit-host-application",e),getHostApplications:()=>Ee.get("/users/host-applications"),approveHostApplication:(e,t)=>Ee.put("/admin/approve-host-application",{applicationId:e,userId:t}),declineHostApplication:e=>Ee.put("/admin/decline-host-application",{applicationId:e}),getDriveApplications:()=>Ee.get("/admin/drive-applications"),approveDriveApplication:(e,t)=>Ee.post("/admin/drive-applications/approve",{applicationId:e,userId:t}),declineDriveApplication:(e,t)=>Ee.post("/admin/drive-applications/decline",{applicationId:e,userId:t}),getBookingReports:()=>Ee.get("/admin/reports"),resolveBookingReport:e=>Ee.put(`/admin/reports/${e}/resolve`),findOrCreateAdminUserChat:e=>Ee.post("/admin/chats/find-or-create",e),toggleUserSuspension:(e,t)=>Ee.put(`/users/update-suspension/${e}`,{isSuspended:t}),getAllVehicles:()=>Ee.get("/vehicles"),getVehicleById:e=>Ee.get(`/vehicles/${e}`),addVehicle:e=>Ee.post("/vehicles",e),updateVehicle:(e,t)=>Ee.put(`/vehicles/${e}`,{updates:t}),getVehiclesByOwner:()=>Ee.get("/vehicles/my-listings"),getPublicVehiclesByOwner:e=>Ee.get(`/vehicles/owner/${e}`),deleteVehicle:e=>Ee.delete(`/vehicles/${e}`),checkVehicleAvailability:(e,t,a)=>Ee.get(`/bookings/availability/${e}`,{params:{startDate:t,endDate:a}}),createBooking:e=>Ee.post("/bookings",e),getBookingById:e=>Ee.get(`/bookings/${e}`),getAllBookings:e=>Ee.get("/bookings/all",{params:e}),getOwnerBookings:()=>Ee.get("/bookings/owner"),fetchBookingsByUser:e=>Ee.get(`/bookings/user/${e}`),updateBookingStatus:(e,t)=>Ee.put(`/bookings/${e}/status`,t),approveBooking:e=>Ee.put(`/bookings/${e}/approve`),declineBooking:e=>Ee.put(`/bookings/${e}/decline`),cancelBooking:e=>Ee.put(`/bookings/${e}/cancel`),submitBookingReport:e=>Ee.post(`/bookings/${e.bookingId}/report`,e),downloadBookingContract:e=>Ee.get(`/bookings/${e}/contract`,{responseType:"blob"}),getPaymentStatus:e=>Ee.get(`/payment/status/${e}`),updateBookingPaymentMethod:(e,t)=>Ee.put(`/bookings/${e}/payment-method`,t),confirmDownpaymentByUser:(e,t)=>Ee.post(`/bookings/${e}/confirm-downpayment-by-user`,t),confirmOwnerPayment:e=>Ee.post(`/bookings/${e}/confirm-owner-payment`),confirmBookingPayment:e=>Ee.put(`/bookings/${e}/confirm-payment`),requestBookingExtension:(e,t)=>Ee.post(`/bookings/${e}/request-extension`,t),confirmExtensionPayment:(e,t)=>Ee.post(`/bookings/${e}/confirm-extension`,t),deferExtensionPayment:(e,t)=>Ee.post(`/bookings/${e}/defer-extension`,t),getAllPlatformFees:()=>Ee.get("/admin/platform-fees"),getAllHostMonthlyStatements:()=>Ee.get("/admin/host-statements"),verifyPlatformFee:e=>Ee.put(`/bookings/admin/platform-fees/${e}/verify`),getOwnerPlatformFees:()=>Ee.get("/bookings/owner/my-fees"),submitPlatformFeePayment:e=>Ee.post("/bookings/pay-platform-fee",e),getUserChats:()=>Ee.get("/chats"),sendMessage:(e,t)=>Ee.post(`/chats/${e}/messages`,t),markChatAsRead:e=>Ee.put(`/chats/${e}/read`),submitReview:e=>Ee.post("/reviews",e),getReviewsForHost:e=>Ee.get(`/reviews/host/${e}`),submitReviewReply:(e,t)=>Ee.post(`/reviews/${e}/reply`,t),getNotifications:()=>Ee.get("/notifications"),markNotificationAsRead:e=>Ee.post(`/notifications/${e}/mark-read`),markAllNotificationsAsRead:()=>Ee.post("/notifications/mark-all-read")},_e=a(9915);const Ve={ownerBookings:[],ownerBookingsStatus:"loading",ownerBookingsError:null},Ie={setOwnerBookings(e,t){e.ownerBookings=t},setOwnerBookingsStatus(e,t){e.ownerBookingsStatus=t},setOwnerBookingsError(e,t){e.ownerBookingsError=t}},Fe={async fetchOwnerBookings({commit:e,rootGetters:t}){e("setOwnerBookingsStatus","loading");const a=t.authToken;if(!a)return e("setOwnerBookingsError","Authentication token not found."),void e("setOwnerBookingsStatus","error");try{const t=await Ae.getOwnerBookings();e("setOwnerBookings",t.data),e("setOwnerBookingsStatus","success")}catch(i){const t=i.response?.data?.message||"Failed to fetch bookings.";e("setOwnerBookingsError",t),e("setOwnerBookingsStatus","error")}},async confirmBookingDownpayment({_commit:e},t){try{await Ae.updateBooking(t,{newStatus:"downpayment_received"})}catch(a){throw console.error(`Error confirming downpayment for booking ${t}:`,a),a}},async approveBooking({commit:e},t){try{const a=await Ae.approveBooking(t);return a.data&&a.data.updatedOwner?e("SET_USER",a.data.updatedOwner,{root:!0}):console.warn("[Vuex owner.js] API response did NOT contain updatedOwner."),a.data}catch(a){throw console.error("Failed to approve booking:",a),a}},async declineBooking({_commit:e},t){try{const e=await Ae.declineBooking(t);return e.data}catch(a){throw console.error("Failed to decline booking:",a),a}}},xe={ownerBookings:e=>e.ownerBookings,ownerBookingsStatus:e=>e.ownerBookingsStatus,ownerBookingsError:e=>e.ownerBookingsError};var Me={namespaced:!0,state:Ve,mutations:Ie,actions:Fe,getters:xe},Te=a(7617),Re=a(6400),Be=a(7844);const Ue={apiKey:{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_FIREBASE_API_KEY,authDomain:{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_FIREBASE_AUTH_DOMAIN,projectId:{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_FIREBASE_PROJECT_ID,storageBucket:{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_FIREBASE_MESSAGING_SENDER_ID,appId:{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_FIREBASE_APP_ID,measurementId:{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_FIREBASE_MEASUREMENT_ID},Ne=(0,Re.Wp)(Ue),Xe=((0,_e.xI)(Ne),(0,Te.aU)(Ne));(0,Be.c7)(Ne);var Oe=(0,x.y$)({state:{user:null,isAuthenticated:!1,authLoading:!0,userRole:null,authToken:null,vehicle:null,allBookings:[],allUsers:[],allPlatformFees:[],myPlatformFees:[],allHostStatements:[],vehicleFilters:{make:"",model:"",year:null,location:"",minPrice:null,maxPrice:null,availabilityStartDate:null,availabilityEndDate:null,vehicleType:"",seats:null,assetType:null},vehicleSort:{key:"rentalPricePerDay",order:"asc"},allVehicles:[],userChats:[],hostApplications:[],driveApplications:[],reports:[],notifications:[],isLoadingNotifications:!1},mutations:{SET_ALL_PLATFORM_FEES(e,t){e.allPlatformFees=t},SET_MY_PLATFORM_FEES(e,t){e.myPlatformFees=t},UPDATE_FEE_STATUS(e,{feeId:t,status:a}){const i=e.allPlatformFees.find(e=>e.id===t);i&&(i.status=a)},UPDATE_VEHICLE_SUCCESS(e,t){const a=e.allVehicles.findIndex(e=>e.id===t.id);-1!==a&&(e.allVehicles[a]={...e.allVehicles[a],...t}),e.vehicle&&e.vehicle.id===t.id&&(e.vehicle={...e.vehicle,...t})},SET_HOST_APPLICATIONS(e,t){e.hostApplications=t},SET_DRIVE_APPLICATIONS(e,t){e.driveApplications=t},SET_BOOKING_REPORTS(e,t){e.reports=t},SET_ALL_HOST_STATEMENTS(e,t){e.allHostStatements=t},SET_NOTIFICATIONS(e,t){e.notifications=t},SET_NOTIFICATIONS_LOADING(e,t){e.isLoadingNotifications=t},MARK_NOTIFICATION_AS_READ(e,t){const a=e.notifications.find(e=>e.id===t);a&&(a.isRead=!0)},MARK_ALL_NOTIFICATIONS_AS_READ(e){e.notifications.forEach(e=>e.isRead=!0)},SET_BOOKING(e,t){e.booking=t},UPDATE_BOOKING_STATUS(e,{bookingId:t,newStatus:a}){e.booking&&e.booking.id===t&&(e.booking.paymentStatus=a);const i=e.allBookings.find(e=>e.id===t);i&&(i.paymentStatus=a)},SET_USER(e,t){e.user=t},SET_AUTH_STATE(e,{user:t,userRole:a,authToken:i}){e.user=t,e.isAuthenticated=!!t,e.userRole=a,e.authToken=i,e.authLoading=!1},SET_AUTH_TOKEN(e,t){e.authToken=t},SET_ALL_BOOKINGS(e,t){e.allBookings=t},SET_AUTH_LOADING(e,t){e.authLoading=t},SET_VEHICLE_FILTER(e,{key:t,value:a}){Object.prototype.hasOwnProperty.call(e.vehicleFilters,t)?e.vehicleFilters[t]=a:console.warn(`[Vuex] Attempted to set unknown filter key: ${t}`)},SET_VEHICLE_SORT(e,{key:t,order:a}){e.vehicleSort.key=t,e.vehicleSort.order=a},RESET_VEHICLE_FILTERS(e){e.vehicleFilters={make:"",model:"",year:null,location:"",minPrice:null,maxPrice:null,availabilityStartDate:null,availabilityEndDate:null,vehicleType:"",seats:null,assetType:null}},SET_ALL_VEHICLES(e,t){e.allVehicles=t},SET_VEHICLE(e,t){e.vehicle=t},CLEAR_AUTH(e){e.user=null,e.isAuthenticated=!1,e.userRole=null,e.authToken=null},SET_ALL_USERS(e,t){e.allUsers=t},SET_USER_CHATS(e,t){e.userChats=t},UPDATE_USER_FAVORITES(e,t){e.user&&(e.user.favorites=t)}},actions:{async fetchAllPlatformFees({commit:e}){try{const t=(0,Te.rJ)(Xe,"platform_fees"),a=(0,Te.P)(t,(0,Te.My)("submittedAt","desc")),i=await(0,Te.GG)(a),s=i.docs.map(e=>{const t=e.data();return{id:e.id,...t,submittedAt:t.submittedAt?.toDate?t.submittedAt.toDate():t.submittedAt,verifiedAt:t.verifiedAt?.toDate?t.verifiedAt.toDate():t.verifiedAt}});e("SET_ALL_PLATFORM_FEES",s)}catch(t){console.error("[Vuex] Failed to fetch platform fees:",t)}},async fetchAllHostStatements({commit:e}){try{const t=await Ae.getAllHostMonthlyStatements();e("SET_ALL_HOST_STATEMENTS",t.data)}catch(t){console.error("[Vuex] Failed to fetch host statements:",t)}},async fetchOwnerPlatformFees({commit:e}){try{const t=await Ae.getOwnerPlatformFees();e("SET_MY_PLATFORM_FEES",t.data)}catch(t){console.error("[Vuex] Failed to fetch owner fees:",t)}},async submitPlatformFee({state:e,commit:t},a){try{const i=e.user;if(!i)throw new Error("User not identified");const s=`${i.uid}_${a.month}_${a.year}`,o=(0,Te.H9)(Xe,"platform_fees",s),l={id:s,ownerId:i.uid,hostName:i.name||i.fullName||"Unknown Host",hostEmail:i.email,month:a.month,year:a.year,amount:a.amount,referenceNumber:a.referenceNumber,status:"pending",submittedAt:(0,Te.O5)(),verifiedAt:null};await(0,Te.BN)(o,l);const n=e.myPlatformFees||[],r=n.findIndex(e=>e.id===s);return-1!==r?n[r]=l:n.push(l),t("SET_MY_PLATFORM_FEES",[...n]),!0}catch(i){throw console.error("[Vuex] Failed to submit fee payment:",i),i}},async verifyPlatformFee({commit:e},t){try{const a=(0,Te.H9)(Xe,"platform_fees",t);await(0,Te.mZ)(a,{status:"verified",verifiedAt:(0,Te.O5)()}),e("UPDATE_FEE_STATUS",{feeId:t,status:"verified"})}catch(a){throw console.error("[Vuex] Failed to verify fee:",a),a}},async fetchNotifications({commit:e}){e("SET_NOTIFICATIONS_LOADING",!0);try{const t=await Ae.getNotifications();e("SET_NOTIFICATIONS",t.data)}catch(t){console.error("[Vuex] Failed to fetch notifications:",t)}finally{e("SET_NOTIFICATIONS_LOADING",!1)}},async markAllNotificationsAsRead({commit:e}){try{await Ae.markAllNotificationsAsRead(),e("MARK_ALL_NOTIFICATIONS_AS_READ")}catch(t){throw console.error("[Vuex] Failed to mark all notifications as read:",t),t}},async markNotificationAsRead({commit:e},t){try{await Ae.markNotificationAsRead(t),e("MARK_NOTIFICATION_AS_READ",t)}catch(a){throw console.error(`[Vuex] Failed to mark notification ${t} as read:`,a),a}},async approveBooking({commit:e},t){try{await Ae.approveBooking(t),e("UPDATE_BOOKING_STATUS",{bookingId:t,newStatus:"pending_payment"})}catch(a){throw console.error("Error approving booking:",a),a}},async declineBooking({commit:e},t){try{await Ae.declineBooking(t),e("UPDATE_BOOKING_STATUS",{bookingId:t,newStatus:"declined_by_owner"})}catch(a){throw console.error("Error declining booking:",a),a}},async confirmDownpaymentByUser({commit:e},t){const{bookingId:a,referenceNumber:i}=t;try{await Ae.confirmDownpaymentByUser(a,{referenceNumber:i}),e("UPDATE_BOOKING_STATUS",{bookingId:a,newStatus:"downpayment_pending_verification"})}catch(s){throw console.error("Error confirming downpayment:",s),s}},async confirmOwnerPayment({commit:e},t){try{await Ae.confirmOwnerPayment(t),e("UPDATE_BOOKING_STATUS",{bookingId:t,newStatus:"downpayment_verified"})}catch(a){throw console.error("[Vuex] Failed to confirm owner payment:",a),a}},initializeAuth({commit:e}){return new Promise(t=>{const a=(0,_e.xI)();(0,_e.hg)(a,async a=>{if(a)try{const t=await a.getIdToken();De(t);const i=await Ae.getUserProfile(),s=i.data.role||"renter";e("SET_AUTH_STATE",{user:i.data,userRole:s,authToken:t})}catch(i){console.error("[Vuex] Failed to initialize auth:",i),De(null),e("CLEAR_AUTH")}else De(null),e("CLEAR_AUTH");e("SET_AUTH_LOADING",!1),t()})})},async login({commit:e,_dispatch:t},{email:a,password:i}){try{const t=(0,_e.xI)(),s=await(0,_e.x9)(t,a,i),o=s.user,l=await o.getIdToken();De(l);const n=await Ae.getUserProfile(),r=n.data.role||"renter";return e("SET_AUTH_STATE",{user:n.data,userRole:r,authToken:l}),"admin"===r?MF.push("/dashboard/admin/dashboard"):"owner"===r?MF.push("/dashboard/owner/vehicles"):MF.push("/dashboard/my-bookings"),!0}catch(s){throw console.error("[Vuex] Login failed:",s),s}},async fetchAllBookings({commit:e},t={}){try{const a={limit:1e3,...t},i=await Ae.getAllBookings(a);return e("SET_ALL_BOOKINGS",i.data),i.data}catch(a){throw console.error("Failed to fetch all bookings:",a),a}},async register({_commit:e},t){try{return await Ae.register(t),MF.push("/login"),!0}catch(a){throw console.error("[Vuex] Registration failed:",a),a}},async logout({commit:e}){e("CLEAR_AUTH");const t=(0,_e.xI)();try{await(0,_e.CI)(t),De(null),MF.push("/login")}catch(a){console.error("[Vuex] Firebase sign out failed:",a),e("CLEAR_AUTH")}},async fetchAllVehicles({commit:e}){try{const t=await Ae.getAllVehicles(),a=t.data.map(e=>{const t={...e};return t.rentalPricePerDay=parseFloat(e.rentalPricePerDay)||0,t.seats=parseInt(e.seatingCapacity,10)||0,t.year=parseInt(e.year,10)||0,t.make=e.make||"Unknown Make",t.model=e.model||"Unknown Model",e.location&&e.location.city||(t.location={city:"Location Unavailable"}),e.exteriorPhotos&&0!==e.exteriorPhotos.length||(t.exteriorPhotos=["https://placehold.co/400x300/e2e8f0/666666?text=No+Image"]),t});return e("SET_ALL_VEHICLES",a),a}catch(t){throw console.error("[Vuex] Failed to fetch all vehicles:",t),t}},async getVehicleById({commit:e},t){try{const a=await Ae.getVehicleById(t);return e("SET_VEHICLE",a.data),a.data}catch(a){throw console.error("[Vuex] Failed to fetch vehicle by ID:",a),a}},async checkVehicleAvailability({_commit:e},t){try{const{vehicleId:e,startDate:a,endDate:i}=t,s=await Ae.checkVehicleAvailability(e,a,i);return{...s.data}}catch(a){throw console.error("[Vuex] Failed to check vehicle availability:",a),a}},async createBooking({_commit:e},t){try{const e=await Ae.createBooking(t),a=e.data.id;return MF.push({name:"BookingStatus",params:{bookingId:a}}),e.data}catch(a){throw console.error("[Vuex] Failed to create booking:",a),a}},async getVehiclesByOwner({_commit:e}){try{const e=await Ae.getVehiclesByOwner();return e.data}catch(t){throw console.error("[Vuex] Failed to fetch owner vehicles:",t),t}},async addVehicle({_commit:e},t){try{const e=await Ae.addVehicle(t);return e.data}catch(a){throw console.error("[Vuex] Failed to add vehicle:",a),a}},async updateVehicle({commit:e},{id:t,updates:a}){try{const i=await Ae.updateVehicle(t,a);return e("UPDATE_VEHICLE_SUCCESS",{id:t,...a}),i.data}catch(i){throw console.error("[Vuex] Failed to update vehicle:",i),i}},async fetchUserProfile({commit:e}){try{const t=await Ae.getUserProfile();return e("SET_USER",t.data),t.data}catch(t){throw console.error("[Vuex] Failed to fetch user profile:",t),t}},async updateUserProfile({commit:e},t){try{const a=await Ae.updateUserProfile(t);return e("SET_USER",a.data.user),a.data.user}catch(a){throw console.error("[Vuex] Failed to update user profile:",a),a}},async getPaymentStatus({_commit:e},t){try{const e=await Ae.getPaymentStatus(t);return e.data}catch(a){throw console.error("[Vuex] Failed to get payment status:",a),a}},async getBookingById({_commit:e},t){try{const e=await Ae.getBookingById(t);return e.data}catch(a){throw console.error("[Vuex] Failed to get booking by ID:",a),a}},async updateBookingPaymentMethod({_commit:e},{bookingId:t,paymentMethod:a,newStatus:i}){try{const e=await Ae.updateBookingPaymentMethod(t,{paymentMethod:a,newStatus:i});return e.data}catch(s){throw console.error("[Vuex] Failed to update booking payment method:",s),s}},async confirmBookingPayment({_commit:e},t){try{const e=await Ae.confirmBookingPayment(t);return e.data}catch(a){throw console.error("Failed to confirm booking payment:",a),a}},async fetchAllUsers({commit:e}){try{const t=await Ae.getAllUsers();return e("SET_ALL_USERS",t.data),t.data}catch(t){throw console.error("[Vuex] Failed to fetch all users:",t),t}},async fetchBookingsByUser({_commit:e},t){try{const e=await Ae.fetchBookingsByUser(t);return e.data}catch(a){throw console.error("[Vuex] Failed to fetch user bookings:",a),a}},async sendEmailVerificationCode(){try{await Ae.sendEmailVerificationCode()}catch(e){throw console.error("Failed to send email verification code:",e),e}},async verifyEmailCode({_commit:e},t){try{await Ae.verifyEmailCode(t)}catch(a){throw console.error("Failed to verify email code:",a),a}},async reauthenticate({_commit:e},t){try{return await Ae.reauthenticate(t),!0}catch(a){throw console.error("[Vuex] Re-authentication failed:",a),a}},async submitHostApplication({_commit:e},t){try{const e=await Ae.submitHostApplication(t);return e.data}catch(a){throw console.error("Failed to submit host application:",a),a}},async fetchHostApplications({commit:e}){try{const t=await Ae.getHostApplications();return e("SET_HOST_APPLICATIONS",t.data),t.data}catch(t){throw console.error("[Vuex] Failed to fetch host applications:",t),t}},async approveHostApplication({_commit:e},{applicationId:t,userId:a}){try{await Ae.approveHostApplication(t,a)}catch(i){throw console.error("Failed to approve host application:",i),i}},async declineHostApplication({_commit:e},t){try{await Ae.declineHostApplication(t)}catch(a){throw console.error("Failed to decline host application:",a),a}},async fetchUserChats({commit:e}){try{const t=await Ae.getUserChats();e("SET_USER_CHATS",t.data)}catch(t){throw console.error("[Vuex] Failed to fetch user chats:",t),t}},async sendMessage({_commit:e},t){try{await Ae.sendMessage(t.chatId,{text:t.text,imageBase64:t.imageBase64})}catch(a){throw console.error("[Vuex] Failed to send message:",a),a}},async markChatAsRead({dispatch:e},t){try{await Ae.markChatAsRead(t),e("fetchUserChats")}catch(a){console.error("Failed to mark chat as read:",a)}},async fetchDriveApplications({commit:e}){try{const t=await Ae.getDriveApplications();return e("SET_DRIVE_APPLICATIONS",t.data),t.data}catch(t){throw console.error("[Vuex] Failed to fetch drive applications:",t),t}},async approveDriveApplication({_commit:e},{applicationId:t,userId:a}){try{await Ae.approveDriveApplication(t,a)}catch(i){throw console.error("[Vuex] Failed to approve drive application:",i),i}},async declineDriveApplication({_commit:e},{applicationId:t,userId:a}){try{await Ae.declineDriveApplication(t,a)}catch(i){throw console.error("[Vuex] Failed to decline drive application:",i),i}},async submitDriveApplication({_commit:e},t){try{const e=await Ae.submitDriveApplication(t);return e.data}catch(a){throw console.error("[Vuex] Failed to submit drive application:",a),a}},async deleteUser({_commit:e},t){try{await Ae.deleteUser(t)}catch(a){throw console.error("[Vuex] Failed to delete user:",a),a}},async deleteVehicle({_commit:e},t){try{return await Ae.deleteVehicle(t),!0}catch(a){throw console.error("[Vuex] Failed to delete vehicle:",a),a}},async updateBookingStatus({_commit:e},{bookingId:t,newStatus:a}){try{const e=await Ae.updateBookingStatus(t,{newStatus:a});return e.data}catch(i){throw console.error("[Vuex] Failed to update booking status:",i),i}},async submitReview({_commit:e},t){try{await Ae.submitReview(t)}catch(a){throw console.error("[Vuex] Failed to submit review:",a),a}},async cancelBooking({commit:e},t){try{await Ae.cancelBooking(t),e("UPDATE_BOOKING_STATUS",{bookingId:t,newStatus:"cancelled_by_renter"})}catch(a){throw console.error("[Vuex] Failed to cancel booking:",a),a}},async submitBookingReport({_commit:e},t){try{await Ae.submitBookingReport(t)}catch(a){throw console.error("[Vuex] Failed to submit booking report:",a),a}},async fetchBookingReports({commit:e}){try{const t=await Ae.getBookingReports(),a=Array.isArray(t.data)?t.data:[];return e("SET_BOOKING_REPORTS",a),a}catch(t){throw console.error("[Vuex] Failed to fetch booking reports:",t),t}},async resolveBookingReport({_commit:e},t){try{await Ae.resolveBookingReport(t)}catch(a){throw console.error("[Vuex] Failed to resolve booking report:",a),a}},async findOrCreateAdminUserChat({_commit:e},t){try{const e=await Ae.findOrCreateAdminUserChat({targetUserId:t});if(e&&e.data&&e.data.chatId)return e.data.chatId;throw new Error("Invalid response from findOrCreateAdminUserChat API")}catch(a){throw console.error("[Vuex] Failed to find or create admin-user chat:",a),a}},async requestBookingExtension({_commit:e},t){try{const e=await Ae.requestBookingExtension(t.bookingId,{extensionHours:t.extensionHours});return e.data}catch(a){throw console.error("[Vuex] Failed to request booking extension:",a),a}},async confirmExtensionPayment({commit:e},t){try{await Ae.confirmExtensionPayment(t.bookingId,t),e("UPDATE_BOOKING_STATUS",{bookingId:t.bookingId,newStatus:"confirmed"})}catch(a){throw console.error("[Vuex] Failed to confirm extension payment:",a),a}},async downloadBookingContract({_commit:e},t){try{const e=await Ae.downloadBookingContract(t),a=e.headers["content-disposition"];let i=`BookingContract-${t}.txt`;if(a){const e=a.match(/filename="?(.+)"?/);e&&2===e.length&&(i=e[1])}return{data:e.data,filename:i}}catch(a){throw console.error("[Vuex] Failed to download contract:",a),a}},async deferExtensionPayment({commit:e},t){try{await Ae.deferExtensionPayment(t.bookingId,t),e("UPDATE_BOOKING_STATUS",{bookingId:t.bookingId,newStatus:"confirmed"})}catch(a){throw console.error("[Vuex] Failed to defer extension payment:",a),a}},async toggleFavorite({commit:e,getters:t},a){if(!t.isAuthenticated)return;const i=t.userFavorites;let s;s=i.includes(a)?i.filter(e=>e!==a):[...i,a],e("UPDATE_USER_FAVORITES",s);try{const t=await Ae.toggleFavoriteVehicle({vehicleId:a});e("UPDATE_USER_FAVORITES",t.data.favorites)}catch(o){console.error("Error toggling favorite:",o),e("UPDATE_USER_FAVORITES",i),alert("Failed to update favorites. Please try again.")}},async sendBulkFeeReminders({getters:e,dispatch:t}){try{const a=e.calculatedUnpaidPlatformFees;if(0===a.length)return 0;const i=[...new Set(a.map(e=>e.ownerId))];let s=0;for(const e of i){const i=a.filter(t=>t.ownerId===e).reduce((e,t)=>e+t.amount,0),o=a.find(t=>t.ownerId===e),l=o?o.hostName:"Host",n={userId:e,message:`End of Month Reminder: You have pending platform fees totaling ₱${i.toLocaleString()}. Please verify your payments in the Billing tab.`,link:"/dashboard/earnings",type:"payment_reminder"};await t("sendNotification",n),s++,console.log(`Reminder sent to ${l}`)}return s}catch(a){throw console.error("Failed to send bulk reminders:",a),a}},async sendNotification({_commit:e},t){try{if(!t.userId||!t.message)return void console.warn("[Vuex] sendNotification called without userId or message");await(0,Te.gS)((0,Te.rJ)(Xe,"notifications"),{userId:t.userId,title:t.title||"Notification",message:t.message,link:t.link||null,type:t.type||"system",isRead:!1,createdAt:(0,Te.O5)()})}catch(a){console.error("[Vuex] Failed to send notification:",a)}},setVehicleFilter({commit:e},t){e("SET_VEHICLE_FILTER",t)},setVehicleSort({commit:e},t){e("SET_VEHICLE_SORT",t)},resetVehicleFilters({commit:e}){e("RESET_VEHICLE_FILTERS")},async forgotPassword({_commit:e},t){try{await Ae.forgotPassword(t)}catch(a){throw console.error("[Vuex] Forgot Password failed:",a),a}},async getPublicVehiclesByOwner({_commit:e},t){try{const e=await Ae.getPublicVehiclesByOwner(t);return e.data}catch(a){throw console.error("[Vuex] Failed to fetch public vehicles:",a),a}},async getReviewsForHost({_commit:e},t){try{const e=await Ae.getReviewsForHost(t);return e.data}catch(a){throw console.error("[Vuex] Failed to fetch host reviews:",a),a}},async submitReviewReply({_commit:e},{reviewId:t,text:a}){try{await Ae.submitReviewReply(t,{text:a})}catch(i){throw console.error("[Vuex] Failed to submit review reply:",i),i}},async sendContactForm({_commit:e},t){try{await Ae.sendContactForm(t)}catch(a){throw console.error("[Vuex] Failed to send contact form:",a),a}},async toggleUserSuspension({_commit:e},{userId:t,isSuspended:a}){try{return await Ae.toggleUserSuspension(t,a),!0}catch(i){throw console.error("[Vuex] Failed to toggle suspension:",i),i}}},getters:{allPlatformFees:e=>e.allPlatformFees,myPlatformFees:e=>e.myPlatformFees,allHostStatements:e=>e.allHostStatements,calculatedUnpaidPlatformFees:(e,t)=>{const a=.2,i=.1,s=["downpayment_verified","confirmed","active","completed","returned","cancelled_by_renter","cancelled","pending_verification","pending","pending_payment"],o=new Map;t.allBookings.forEach(t=>{if(!t.totalCost||Number(t.totalCost)<=0)return;if(!t.paymentStatus)return;const l=t.paymentStatus.toLowerCase().trim();if(!s.includes(l))return;const n=t.ownerId||t.vehicleOwnerId;if(!n)return;let r=null;const c=t.startDate||t.createdAt;if(c&&(r="object"===typeof c&&c.seconds?Z.c9.fromSeconds(c.seconds):Z.c9.fromISO(c)),!r||!r.isValid)return;const d=Number(t.totalCost),u=d*a,p=u*i,h=r.toFormat("MMMM"),m=r.year,v=`${n}_${h}_${m}`;if(o.has(v))o.get(v).amount+=p;else{const t=e.allUsers.find(e=>e.uid===n||e.id===n);o.set(v,{id:`CALC_${v}`,ownerId:n,hostName:t?t.name||t.fullName||n:"Unknown Host",hostEmail:t?t.email:"N/A",month:h,year:m,amount:p,status:"calculated",referenceNumber:"N/A - Calculated"})}});const l=new Set(e.allPlatformFees.map(e=>`${e.ownerId}_${e.month}_${e.year}`)),n=[];return o.forEach((e,t)=>{l.has(t)||n.push(e)}),n},notifications:e=>e.notifications,unreadNotificationsCount:e=>e.notifications.filter(e=>!e.isRead).length,isLoadingNotifications:e=>e.isLoadingNotifications,isAuthenticated:e=>e.isAuthenticated,user:e=>e.user,authLoading:e=>e.authLoading,userRole:e=>e.userRole,authToken:e=>e.authToken,singleVehicle:e=>e.vehicle,isAuthReady:e=>!e.authLoading,currentVehicleFilters:e=>e.vehicleFilters,allVehicles:e=>e.allVehicles,allUsers:e=>e.allUsers,allBookings:e=>e.allBookings,vehicleSort:e=>e.vehicleSort,userChats:e=>e.userChats,userFavorites:e=>e.user?.favorites||[],filteredAndSortedVehicles:(e,t)=>{let a=Array.isArray(e.allVehicles)?[...e.allVehicles]:[];const i=e.vehicleFilters;if("motorcycle"===i.assetType?a=a.filter(e=>"motorcycle"===e.assetType):"vehicle"===i.assetType&&(a=a.filter(e=>"vehicle"===e.assetType||!e.assetType)),i.vehicleType&&(a=a.filter(e=>e.vehicleType&&e.vehicleType.toLowerCase().includes(i.vehicleType.toLowerCase()))),null!==i.seats&&!isNaN(i.seats)){const e=parseInt(i.seats,10);a=a.filter(t=>{if(void 0===t.seatingCapacity)return!1;const a=parseInt(t.seatingCapacity,10);return 7===e?a>=7:a===e})}if(i.make&&(a=a.filter(e=>e.make&&e.make.toLowerCase().includes(i.make.toLowerCase()))),i.model&&(a=a.filter(e=>e.model&&e.model.toLowerCase().includes(i.model.toLowerCase()))),null===i.year||isNaN(i.year)||(a=a.filter(e=>e.year===parseInt(i.year))),i.location){const e=i.location.toLowerCase();a=a.filter(t=>t.location?.city?.toLowerCase().includes(e)||t.location?.barangay?.toLowerCase().includes(e)||t.location?.region?.toLowerCase().includes(e))}if(null===i.minPrice||isNaN(i.minPrice)||(a=a.filter(e=>e.rentalPricePerDay>=parseFloat(i.minPrice))),null===i.maxPrice||isNaN(i.maxPrice)||(a=a.filter(e=>e.rentalPricePerDay<=parseFloat(i.maxPrice))),i.availabilityStartDate&&i.availabilityEndDate)try{const e=Z.c9.fromISO(i.availabilityStartDate).startOf("day"),t=Z.c9.fromISO(i.availabilityEndDate).endOf("day");if(e.isValid&&t.isValid&&e<=t){const i=Z.IX.fromDateTimes(e,t);a=a.filter(e=>{if(!e.availability||0===e.availability.length)return!0;const t=e.availability.some(e=>{try{const t=Z.c9.fromISO(e.start).startOf("day"),a=Z.c9.fromISO(e.end).endOf("day");if(!t.isValid||!a.isValid)return!1;const s=Z.IX.fromDateTimes(t,a);return i.overlaps(s)}catch(t){return console.warn("Error parsing availability range during filter:",e,t),!1}});return!t})}else console.warn("[Vuex Getter] Invalid date range provided for availability filter.")}catch(l){console.error("[Vuex Getter] Error during availability filtering:",l)}const s=e.vehicleSort.key,o="desc"===e.vehicleSort.order?-1:1;return s&&a.sort((e,t)=>{let a=e[s],i=t[s];return"string"===typeof a&&"string"===typeof i&&(a=(a||"").toLowerCase(),i=(i||"").toLowerCase()),a<i?-1*o:a>i?1*o:0}),a},pendingHostApplicationsCount:e=>e.hostApplications.filter(e=>"pending"===(e.status||"").toLowerCase()).length,pendingDriveApplicationsCount:e=>e.driveApplications.filter(e=>"pending"===(e.status||"").toLowerCase()).length,pendingVehiclesCount:e=>e.allVehicles.filter(e=>"pending"===(e.status||"").toLowerCase()).length,unresolvedReportsCount:e=>e.reports.filter(e=>"resolved"!==(e.status||"").toLowerCase()).length},modules:{owner:Me}});const qe={class:"home-container"},$e={class:"listings-container scroll-animate"},Qe={key:0,class:"loading-state"},We={key:1,class:"empty-state"},He={class:"location-header"},je={class:"location-title"},Ye={class:"vehicle-grid"};function Ke(e,t,a,i,l,n){const r=(0,s.g2)("HeroSection"),c=(0,s.g2)("SkipCounterSection"),d=(0,s.g2)("DateRangePicker"),u=(0,s.g2)("router-link"),p=(0,s.g2)("VehicleCard"),h=(0,s.g2)("BookOrHost"),m=(0,s.g2)("FAQSection");return(0,s.uX)(),(0,s.CE)("div",qe,[(0,s.bF)(r,{class:"scroll-animate"}),(0,s.bF)(c,{class:"scroll-animate"}),l.isPickerVisible?((0,s.uX)(),(0,s.Wv)(d,{key:0,"start-date":l.fromDate,"end-date":l.untilDate,"onUpdate:startDate":t[0]||(t[0]=e=>l.fromDate=e),"onUpdate:endDate":t[1]||(t[1]=e=>l.untilDate=e),onClose:t[2]||(t[2]=e=>l.isPickerVisible=!1)},null,8,["start-date","end-date"])):(0,s.Q3)("",!0),(0,s.Lk)("div",$e,[l.loading?((0,s.uX)(),(0,s.CE)("div",Qe,[...t[3]||(t[3]=[(0,s.Lk)("p",null,"Loading available vehicles...",-1)])])):n.vehiclesByCity&&0!==n.vehiclesByCity.length?((0,s.uX)(!0),(0,s.CE)(s.FK,{key:2},(0,s.pI)(n.vehiclesByCity,e=>((0,s.uX)(),(0,s.CE)("div",{key:e.city,class:"location-group"},[(0,s.Lk)("div",He,[(0,s.Lk)("h2",je,"Top Picks in "+(0,o.v_)(e.city),1),(0,s.bF)(u,{to:{name:"VehicleList",query:{location:e.city}},class:"see-all-link"},{default:(0,s.k6)(()=>[(0,s.eW)(" See all ("+(0,o.v_)(e.vehicleCount)+") ",1),t[5]||(t[5]=(0,s.Lk)("i",{class:"bi bi-arrow-right-short"},null,-1))]),_:2},1032,["to"])]),(0,s.Lk)("div",Ye,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.vehicles.slice(0,5),e=>((0,s.uX)(),(0,s.Wv)(p,{key:e.id,vehicle:e},null,8,["vehicle"]))),128))])]))),128)):((0,s.uX)(),(0,s.CE)("div",We,[...t[4]||(t[4]=[(0,s.Lk)("h2",{class:"section-title"},"No vehicles found.",-1),(0,s.Lk)("p",null,"There are currently no vehicles listed. Check back soon!",-1)])]))]),(0,s.bF)(h,{class:"scroll-animate"}),(0,s.bF)(m,{class:"scroll-animate"})])}const Ge={class:"hero-section"},Je={class:"hero-content"},ze={class:"hero-title"},Ze={key:0,class:"char space"},et={class:"hero-subtitle"};function tt(e,t,a,i,l,n){return(0,s.uX)(),(0,s.CE)("section",Ge,[t[2]||(t[2]=(0,s.Lk)("div",{class:"hero-single-bg-image"},null,-1)),t[3]||(t[3]=(0,s.Lk)("div",{class:"hero-overlay"},null,-1)),(0,s.Lk)("div",Je,[(0,s.Lk)("h1",ze,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.titleWords,(e,t)=>((0,s.uX)(),(0,s.CE)("span",{key:"title-word-"+t,class:"word"},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e,(e,a)=>((0,s.uX)(),(0,s.CE)("span",{key:"title-char-"+t+"-"+a,class:"char",style:(0,o.Tr)({"animation-delay":.1*(5*t+a)+"s"})},(0,o.v_)(e),5))),128)),t<n.titleWords.length-1?((0,s.uX)(),(0,s.CE)("span",Ze," ")):(0,s.Q3)("",!0)]))),128))]),(0,s.Lk)("h2",et,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.subtitleChars,(e,t)=>((0,s.uX)(),(0,s.CE)("span",{key:"subtitle-char-"+t,class:"sub-char",style:(0,o.Tr)({"animation-delay":1.5+.03*t+"s"})},(0,o.v_)(e),5))),128))]),(0,s.Lk)("button",{class:"cta-button",onClick:t[0]||(t[0]=(...e)=>n.goToVehicleList&&n.goToVehicleList(...e))},[...t[1]||(t[1]=[(0,s.eW)(" Browse Vehicles ",-1),(0,s.Lk)("i",{class:"bi bi-arrow-right"},null,-1)])])])])}var at={name:"HeroSection",data(){return{title:"Find Your Drive.",subtitle:"Discover the perfect vehicle for your next journey."}},computed:{titleWords(){return this.title.split(" ")},subtitleChars(){return this.subtitle.split("")}},methods:{goToVehicleList(){this.$router.push({name:"VehicleList"})}}};const it=(0,B.A)(at,[["render",tt],["__scopeId","data-v-38e6b276"]]);var st=it;const ot={class:"skip-counter-section"},lt={class:"container"},nt={class:"content-grid"},rt={class:"text-column"},ct={class:"feature-block"};function dt(e,t,a,i,o,l){return(0,s.uX)(),(0,s.CE)("section",ot,[(0,s.Lk)("div",lt,[t[4]||(t[4]=(0,s.Lk)("div",{class:"header-content"},[(0,s.Lk)("h2",{class:"main-title"},[(0,s.eW)("Rent any car, anywhere, "),(0,s.Lk)("span",{class:"highlight"},"instantly.")]),(0,s.Lk)("p",{class:"subtitle"}," Skip the rental counter. Unlock freedom with a vehicle ready whenever you are. ")],-1)),(0,s.Lk)("div",nt,[(0,s.Lk)("div",rt,[(0,s.Lk)("div",ct,[t[2]||(t[2]=(0,s.Fv)('<h3 class="feature-title" data-v-1a42af7d>Vehicle pickup made effortless</h3><p class="feature-description" data-v-1a42af7d> Connect with trusted local hosts in Cebu Province for a seamless handover experience. </p><ul class="feature-list" data-v-1a42af7d><li data-v-1a42af7d><div class="icon-box" data-v-1a42af7d><i class="bi bi-lightning-charge-fill" data-v-1a42af7d></i></div><div class="list-text" data-v-1a42af7d><strong data-v-1a42af7d>Skip the Line</strong><span data-v-1a42af7d>No waiting, no endless paperwork. Just drive.</span></div></li><li data-v-1a42af7d><div class="icon-box" data-v-1a42af7d><i class="bi bi-geo-alt-fill" data-v-1a42af7d></i></div><div class="list-text" data-v-1a42af7d><strong data-v-1a42af7d>Easy Access</strong><span data-v-1a42af7d>Locate and unlock your booked vehicle via our app.</span></div></li><li data-v-1a42af7d><div class="icon-box" data-v-1a42af7d><i class="bi bi-shield-check-fill" data-v-1a42af7d></i></div><div class="list-text" data-v-1a42af7d><strong data-v-1a42af7d>24/7 Support</strong><span data-v-1a42af7d>Travel with total peace of mind, day or night.</span></div></li></ul>',3)),(0,s.Lk)("button",{class:"cta-button",onClick:t[0]||(t[0]=(...e)=>l.goToVehicleList&&l.goToVehicleList(...e))},[...t[1]||(t[1]=[(0,s.Lk)("span",null,"Search for cars",-1),(0,s.Lk)("i",{class:"bi bi-arrow-right"},null,-1)])])])]),t[3]||(t[3]=(0,s.Fv)('<div class="image-column" data-v-1a42af7d><div class="image-wrapper" data-v-1a42af7d><div class="backdrop-shape" data-v-1a42af7d></div><img src="https://blog.carousell.ph/wp-content/uploads/PH_BlogCoverImages-8thSet_1024x536-2-696x364.jpg" alt="Happy travelers with car" class="main-image" data-v-1a42af7d><div class="floating-badge" data-v-1a42af7d><i class="bi bi-star-fill" data-v-1a42af7d></i><span data-v-1a42af7d>Top Rated Hosts</span></div></div></div>',1))])])])}var ut={name:"SkipCounterSection",methods:{goToVehicleList(){this.$router.push({name:"VehicleList"})}}};const pt=(0,B.A)(ut,[["render",dt],["__scopeId","data-v-1a42af7d"]]);var ht=pt;const mt={class:"date-picker-card"},vt={class:"date-picker-header"},kt=["disabled"],gt={class:"month-grid"},ft={class:"month-year"},yt={class:"month-year"},bt={class:"date-picker-body"},Lt={class:"calendar-container"},wt={class:"days-of-week"},Ct={class:"day-grid"},St=["onClick"],Pt={key:0},Et={class:"calendar-container"},Dt={class:"days-of-week"},At={class:"day-grid"},_t=["onClick"],Vt={key:0},It={class:"date-picker-footer"},Ft=["disabled"];function xt(e,t,a,l,n,r){return(0,s.uX)(),(0,s.CE)("div",{class:"date-picker-overlay",onClick:t[4]||(t[4]=(0,i.D$)(t=>e.$emit("close"),["self"]))},[(0,s.Lk)("div",mt,[(0,s.Lk)("div",vt,[(0,s.Lk)("button",{class:"nav-btn",onClick:t[0]||(t[0]=(...e)=>r.prevMonth&&r.prevMonth(...e)),disabled:r.isPrevMonthDisabled},[...t[5]||(t[5]=[(0,s.Lk)("i",{class:"bi bi-chevron-left"},null,-1)])],8,kt),(0,s.Lk)("div",gt,[(0,s.Lk)("div",ft,(0,o.v_)(r.currentMonthName),1),(0,s.Lk)("div",yt,(0,o.v_)(r.nextMonthName),1)]),(0,s.Lk)("button",{class:"nav-btn",onClick:t[1]||(t[1]=(...e)=>r.nextMonth&&r.nextMonth(...e))},[...t[6]||(t[6]=[(0,s.Lk)("i",{class:"bi bi-chevron-right"},null,-1)])])]),(0,s.Lk)("div",bt,[(0,s.Lk)("div",Lt,[(0,s.Lk)("div",wt,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.daysOfWeek,e=>((0,s.uX)(),(0,s.CE)("span",{key:e},(0,o.v_)(e),1))),128))]),(0,s.Lk)("div",Ct,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.daysInCurrentMonth,e=>((0,s.uX)(),(0,s.CE)("div",{key:e.date.toISO(),class:(0,o.C4)(["day-cell",r.getDayClasses(e)]),onClick:t=>r.selectDate(e.date)},[e.isCurrentMonth?((0,s.uX)(),(0,s.CE)("span",Pt,(0,o.v_)(e.date.day),1)):(0,s.Q3)("",!0)],10,St))),128))])]),(0,s.Lk)("div",Et,[(0,s.Lk)("div",Dt,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.daysOfWeek,e=>((0,s.uX)(),(0,s.CE)("span",{key:e},(0,o.v_)(e),1))),128))]),(0,s.Lk)("div",At,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.daysInNextMonth,e=>((0,s.uX)(),(0,s.CE)("div",{key:e.date.toISO(),class:(0,o.C4)(["day-cell",r.getDayClasses(e)]),onClick:t=>r.selectDate(e.date)},[e.isCurrentMonth?((0,s.uX)(),(0,s.CE)("span",Vt,(0,o.v_)(e.date.day),1)):(0,s.Q3)("",!0)],10,_t))),128))])])]),(0,s.Lk)("div",It,[(0,s.Lk)("button",{class:"reset-button",onClick:t[2]||(t[2]=(...e)=>r.resetDates&&r.resetDates(...e))},"Reset"),(0,s.Lk)("button",{class:"save-button",onClick:t[3]||(t[3]=(...e)=>r.saveDates&&r.saveDates(...e)),disabled:!n.selectedEnd},"Save",8,Ft)])])])}var Mt={name:"DateRangePicker",props:{startDate:String,endDate:String,unavailableDates:{type:Array,default:()=>[]}},emits:["close","save"],data(){return{currentDate:Z.c9.now().startOf("month"),daysOfWeek:["Su","Mo","Tu","We","Th","Fr","Sa"],selectedStart:this.startDate?Z.c9.fromISO(this.startDate):null,selectedEnd:this.endDate?Z.c9.fromISO(this.endDate):null,today:Z.c9.now().startOf("day")}},computed:{currentMonthName(){return this.currentDate.toFormat("MMMM yyyy")},nextMonthDate(){return this.currentDate.plus({months:1})},nextMonthName(){return this.nextMonthDate.toFormat("MMMM yyyy")},daysInCurrentMonth(){return this.getCalendarDaysForMonth(this.currentDate)},daysInNextMonth(){return this.getCalendarDaysForMonth(this.nextMonthDate)},isPrevMonthDisabled(){return this.currentDate<=this.today.startOf("month")}},methods:{getCalendarDaysForMonth(e){const t=e.startOf("month"),a=e.endOf("month"),i=t.startOf("week"),s=a.endOf("week");let o=[],l=i;while(l<=s)o.push({date:l,isCurrentMonth:l.month===e.month}),l=l.plus({days:1});return o},isDateDisabled(e){if(e<this.today)return!0;for(const t of this.unavailableDates){const a=Z.c9.fromISO(t.start).startOf("day"),i=Z.c9.fromISO(t.end).startOf("day");if(e>=a&&e<=i)return!0}return!1},isDateInSelectionRange(e,t,a){return!(!t||!a)&&(e>t&&e<a)},getDayClasses(e){const t=e.date,a=this.isDateDisabled(t);if(!e.isCurrentMonth)return"not-current-month";const i=this.selectedStart&&t.hasSame(this.selectedStart,"day"),s=this.selectedEnd&&t.hasSame(this.selectedEnd,"day"),o=this.isDateInSelectionRange(t,this.selectedStart,this.selectedEnd);return{disabled:a,"selected-start":i,"selected-end":s,"in-range":o}},selectDate(e){if(!this.isDateDisabled(e))if(!this.selectedStart||this.selectedEnd)this.selectedStart=e,this.selectedEnd=null;else if(e<this.selectedStart)this.selectedStart=e;else{let t=this.selectedStart.plus({days:1});while(t<e){if(this.isDateDisabled(t))return this.selectedStart=e,void(this.selectedEnd=null);t=t.plus({days:1})}this.selectedEnd=e}},prevMonth(){this.isPrevMonthDisabled||(this.currentDate=this.currentDate.minus({months:1}))},nextMonth(){this.currentDate=this.currentDate.plus({months:1})},resetDates(){this.selectedStart=null,this.selectedEnd=null},saveDates(){this.selectedStart&&this.selectedEnd&&(this.$emit("save",{startDate:this.selectedStart.toISODate(),endDate:this.selectedEnd.toISODate()}),this.$emit("close"))}}};const Tt=(0,B.A)(Mt,[["render",xt],["__scopeId","data-v-352ca1da"]]);var Rt=Tt;const Bt={class:"split-interaction-section"},Ut={class:"split-container"};function Nt(e,t,a,i,o,l){return(0,s.uX)(),(0,s.CE)("section",Bt,[(0,s.Lk)("div",Ut,[(0,s.Lk)("div",{class:"split-pane renter-pane",onClick:t[0]||(t[0]=(...e)=>l.goToVehicleList&&l.goToVehicleList(...e))},[...t[2]||(t[2]=[(0,s.Fv)('<div class="background-layer" data-v-eaec4e18></div><div class="content-layer" data-v-eaec4e18><h2 class="pane-title" data-v-eaec4e18>Drive</h2><p class="pane-subtitle" data-v-eaec4e18>Find the perfect car for your journey.</p><button class="action-btn" data-v-eaec4e18> Book a Car <i class="bi bi-arrow-right" data-v-eaec4e18></i></button></div>',2)])]),(0,s.Lk)("div",{class:"split-pane host-pane",onClick:t[1]||(t[1]=(...e)=>l.goToBecomeHost&&l.goToBecomeHost(...e))},[...t[3]||(t[3]=[(0,s.Fv)('<div class="background-layer" data-v-eaec4e18></div><div class="content-layer" data-v-eaec4e18><h2 class="pane-title" data-v-eaec4e18>Host</h2><p class="pane-subtitle" data-v-eaec4e18>Turn your idle vehicle into income.</p><button class="action-btn" data-v-eaec4e18> Become a Host <i class="bi bi-arrow-right" data-v-eaec4e18></i></button></div>',2)])])])])}var Xt={name:"BookOrHost",methods:{goToVehicleList(){this.$router.push({name:"VehicleList"})},goToBecomeHost(){this.$router.push({name:"BecomeOwnerApplication"})}}};const Ot=(0,B.A)(Xt,[["render",Nt],["__scopeId","data-v-eaec4e18"]]);var qt=Ot;const $t={class:"faq-section"},Qt={class:"faq-columns-container"},Wt={class:"faq-column"},Ht=["onClick"],jt={class:"faq-question"},Yt={class:"faq-answer"},Kt={class:"faq-column"},Gt=["onClick"],Jt={class:"faq-question"},zt={class:"faq-answer"};function Zt(e,t,a,i,l,n){return(0,s.uX)(),(0,s.CE)("section",$t,[t[2]||(t[2]=(0,s.Lk)("h2",{class:"section-title"},"FREQUENTLY ASKED QUESTIONS",-1)),(0,s.Lk)("div",Qt,[(0,s.Lk)("div",Wt,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.leftColumnItems,(e,a)=>((0,s.uX)(),(0,s.CE)("div",{key:a,class:"faq-item"},[(0,s.Lk)("div",{class:"faq-question-bar",onClick:e=>n.toggleAnswer(a)},[(0,s.Lk)("h3",jt,(0,o.v_)(e.question),1),(0,s.Lk)("span",{class:(0,o.C4)(["faq-icon",{rotated:l.activeIndex===a}])},[...t[0]||(t[0]=[(0,s.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-chevron-down"},[(0,s.Lk)("path",{d:"m6 9 6 6 6-6"})],-1)])],2)],8,Ht),(0,s.Lk)("div",{class:(0,o.C4)(["faq-answer-container",{open:l.activeIndex===a}])},[(0,s.Lk)("p",Yt,(0,o.v_)(e.answer),1)],2)]))),128))]),(0,s.Lk)("div",Kt,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.rightColumnItems,(e,a)=>((0,s.uX)(),(0,s.CE)("div",{key:a,class:"faq-item"},[(0,s.Lk)("div",{class:"faq-question-bar",onClick:e=>n.toggleAnswer(a+n.leftColumnItems.length)},[(0,s.Lk)("h3",Jt,(0,o.v_)(e.question),1),(0,s.Lk)("span",{class:(0,o.C4)(["faq-icon",{rotated:l.activeIndex===a+n.leftColumnItems.length}])},[...t[1]||(t[1]=[(0,s.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-chevron-down"},[(0,s.Lk)("path",{d:"m6 9 6 6 6-6"})],-1)])],2)],8,Gt),(0,s.Lk)("div",{class:(0,o.C4)(["faq-answer-container",{open:l.activeIndex===a+n.leftColumnItems.length}])},[(0,s.Lk)("p",zt,(0,o.v_)(e.answer),1)],2)]))),128))])])])}var ea={name:"FAQSection",data(){return{activeIndex:null,faqItems:[{question:"What is the booking process?",answer:"It's simple! 1. Find a vehicle and request to book. 2. The host will approve or decline your request. 3. If approved, you pay the 20% downpayment via QR code and submit the reference number. 4. The host confirms your payment, and your booking is secured!"},{question:"What verification do I need to rent?",answer:"To rent a vehicle, you must have a verified account. This includes verifying your email and phone number, and submitting an 'Approved to Drive' application (with your driver's license) from your profile settings."},{question:"How do payments work?",answer:"We use a two-part payment system. You pay a 20% downpayment via QR code (like GCash) to secure your booking. The remaining 80% balance is typically paid in cash directly to the host upon pickup. Always confirm details with your host in the chat."},{question:"How do I contact the vehicle host?",answer:"Once your booking is fully confirmed (after the host verifies your downpayment), a private chat room will be automatically created for you and the host. You can use this chat to coordinate all pickup and drop-off details."},{question:"How do I extend my trip?",answer:"To extend your trip, please contact the host directly through your booking's chat. They will coordinate with you on availability and any additional payment required."},{question:"What is your cancellation policy?",answer:"You can cancel your booking for a full refund at any time *before* the host has approved your request or *before* you have submitted your downpayment. Once a booking is confirmed, cancellations must be coordinated with the host."},{question:"How do I list my own car or motorcycle?",answer:"We'd love to have you! First, make sure you are an 'Approved to Drive'. Then, you can 'Become a Host' from your user menu. After your host application is approved, you'll get access to the owner dashboard to list your assets."},{question:"What if I'm a little late returning the vehicle?",answer:"We offer a 3-hour grace period for unexpected delays, but please inform your host. If you're more than 3 hours late without an approved extension, your booking status will be updated and additional fees may apply."},{question:"Is insurance included?",answer:"Basic liability coverage is provided by the host. We strongly recommend renters have their own comprehensive insurance. You are responsible for any damages during the rental period, as outlined in the rental contract."},{question:"What are the requirements to rent?",answer:'Besides being "Approved to Drive," you must have a verified email and phone number. All payments are handled via QR code and reference number verification to ensure a secure transaction for both you and the host.'}]}},computed:{leftColumnItems(){const e=Math.ceil(this.faqItems.length/2);return this.faqItems.slice(0,e)},rightColumnItems(){const e=Math.ceil(this.faqItems.length/2);return this.faqItems.slice(e)}},methods:{toggleAnswer(e){this.activeIndex=this.activeIndex===e?null:e}}};const ta=(0,B.A)(ea,[["render",Zt],["__scopeId","data-v-460f84e4"]]);var aa=ta;const ia=["aria-label","disabled"],sa={class:"image-slider"},oa=["src"],la={class:"vehicle-info"},na={class:"vehicle-name"},ra={class:"vehicle-year"},ca={class:"vehicle-details"},da={key:0},ua={key:1},pa={class:"vehicle-price"},ha={class:"price-amount"};function ma(e,t,a,l,n,r){const c=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.Wv)(c,{to:r.vehicleLink,class:"vehicle-card"},{default:(0,s.k6)(()=>[(0,s.Lk)("button",{class:(0,o.C4)(["favorite-button",{favorited:r.isFavorited}]),onClick:t[0]||(t[0]=(0,i.D$)((...e)=>r.handleFavoriteClick&&r.handleFavoriteClick(...e),["prevent","stop"])),"aria-label":r.isFavorited?"Remove from favorites":"Add to favorites",disabled:n.isLoadingFavorite},[(0,s.Lk)("i",{class:(0,o.C4)(["bi",r.isFavorited?"bi-heart-fill":"bi-heart"])},null,2)],10,ia),(0,s.Lk)("div",sa,[(0,s.Lk)("img",{src:r.primaryImage,alt:"Vehicle image",class:"vehicle-image",onError:t[1]||(t[1]=(...e)=>r.onImageError&&r.onImageError(...e))},null,40,oa)]),(0,s.Lk)("div",la,[(0,s.Lk)("h3",na,(0,o.v_)(a.vehicle.make)+" "+(0,o.v_)(a.vehicle.model),1),(0,s.Lk)("p",ra,(0,o.v_)(a.vehicle.year),1),(0,s.Lk)("div",ca,[r.isMotorcycle?((0,s.uX)(),(0,s.CE)("span",da,[t[2]||(t[2]=(0,s.Lk)("i",{class:"bi bi-speedometer2"},null,-1)),(0,s.eW)(" "+(0,o.v_)(a.vehicle.engineDisplacement||"N/A")+" cc ",1)])):((0,s.uX)(),(0,s.CE)("span",ua,[t[3]||(t[3]=(0,s.Lk)("i",{class:"bi bi-people-fill"},null,-1)),(0,s.eW)(" "+(0,o.v_)(a.vehicle.seats||a.vehicle.seatingCapacity||"N/A")+" seats ",1)])),(0,s.Lk)("span",null,[t[4]||(t[4]=(0,s.Lk)("i",{class:"bi bi-gear-fill"},null,-1)),(0,s.eW)(" "+(0,o.v_)(a.vehicle.transmission||"Auto"),1)])]),(0,s.Lk)("div",pa,[(0,s.Lk)("span",ha,"₱"+(0,o.v_)(a.vehicle.rentalPricePerDay?a.vehicle.rentalPricePerDay.toLocaleString():"N/A"),1),t[5]||(t[5]=(0,s.Lk)("span",{class:"price-period"},"/ day",-1))])])]),_:1},8,["to"])}var va={name:"VehicleCard",props:{vehicle:{type:Object,required:!0}},data(){return{isLoadingFavorite:!1}},computed:{...(0,x.L8)(["isAuthenticated","userFavorites"]),vehicleLink(){return`/vehicles/${this.vehicle.id}`},primaryImage(){return this.vehicle.profilePhotoUrl||(this.vehicle.exteriorPhotos&&this.vehicle.exteriorPhotos.length>0?this.vehicle.exteriorPhotos[0]:"https://placehold.co/400x300/e2e8f0/666666?text=No+Image")},isFavorited(){return!!Array.isArray(this.userFavorites)&&this.userFavorites.includes(this.vehicle.id)},isMotorcycle(){return"motorcycle"===this.vehicle.assetType}},methods:{...(0,x.i0)(["toggleFavorite"]),async handleFavoriteClick(){if(this.isAuthenticated){this.isLoadingFavorite=!0;try{await this.toggleFavorite(this.vehicle.id)}catch(e){console.error("Error toggling favorite from card:",e)}finally{this.isLoadingFavorite=!1}}else this.$router.push("/login")},onImageError(e){e.target.src="https://placehold.co/400x300/e2e8f0/666666?text=No+Image"}}};const ka=(0,B.A)(va,[["render",ma],["__scopeId","data-v-473758c8"]]);var ga=ka,fa={name:"HomeView",components:{HeroSection:st,SkipCounterSection:ht,DateRangePicker:Rt,BookOrHost:qt,FAQSection:aa,VehicleCard:ga},data(){return{location:"",fromDate:"",fromTime:"",untilDate:"",untilTime:"",isPickerVisible:!1,loading:!0,observer:null}},computed:{...(0,x.L8)(["allVehicles"]),vehiclesByCity(){if(!this.allVehicles||0===this.allVehicles.length)return[];const e={},t={};for(const i of this.allVehicles){const a=i.location?.city;a&&(e[a]||(e[a]=[],t[a]=0),e[a].push(i),t[a]++)}const a=Object.keys(e).sort((e,a)=>t[a]-t[e]);return a.map(a=>{const i=e[a];return i.sort((e,t)=>(t.year||0)-(e.year||0)),{city:a,vehicleCount:t[a],vehicles:i}})},timeOptions(){const e=[],t=new Date;t.setHours(0,0,0,0);for(let a=0;a<48;a++){const i=new Date(t.getTime()+30*a*60*1e3),s=i.getHours(),o=i.getMinutes(),l=s>=12?"PM":"AM",n=s%12===0?12:s%12,r=o<10?`0${o}`:o;e.push(`${n}:${r} ${l}`)}return e}},methods:{...(0,x.i0)(["fetchAllVehicles"]),setInitialDateTime(){const e=new Date,t={timeZone:"Asia/Manila",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1},a=e.toLocaleString("en-US",t),[i,s]=a.split(", "),[o,l,n]=i.split("/"),[r,c]=s.split(":");this.fromDate=`${n}-${o}-${l}`;const d=Math.floor((60*parseInt(r)+parseInt(c))/30);this.fromTime=this.timeOptions[d]||"12:00 AM";const u=new Date(e.getTime()+2592e5),p=u.toLocaleString("en-US",t),[h,m]=p.split(", "),[v,k,g]=h.split("/"),[f,y]=m.split(":");this.untilDate=`${g}-${v}-${k}`;const b=Math.floor((60*parseInt(f)+parseInt(y))/30);this.untilTime=this.timeOptions[b]||"12:00 AM"},searchVehicles(){const e={location:this.location,fromDate:this.fromDate,fromTime:this.fromTime,untilDate:this.untilDate,untilTime:this.untilTime};this.$router.push({name:"VehicleList",query:e})}},async created(){this.setInitialDateTime(),this.loading=!0;try{await this.fetchAllVehicles()}catch(e){console.error("HomeView: Failed to fetch vehicles",e)}finally{this.loading=!1}},mounted(){const e={root:null,threshold:.2,rootMargin:"0px 0px -50px 0px"};this.observer=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("is-visible"),this.observer.unobserve(e.target))})},e),this.$nextTick(()=>{if(this.$el){const e=this.$el.querySelectorAll(".scroll-animate");e.forEach(e=>{e&&this.observer.observe(e)})}})},beforeUnmount(){this.observer&&this.observer.disconnect()}};const ya=(0,B.A)(fa,[["render",Ke],["__scopeId","data-v-01536643"]]);var ba=ya;const La={class:"about-us-page"};function wa(e,t,a,i,o,l){return(0,s.uX)(),(0,s.CE)("div",La,[...t[0]||(t[0]=[(0,s.Fv)('<section class="hero-section" data-v-dc81de9a><div class="hero-content scroll-animate" data-v-dc81de9a><h1 class="hero-title" data-v-dc81de9a>Connecting Journeys, Building Communities</h1><p class="hero-subtitle" data-v-dc81de9a> RentCycle is more than just a rental marketplace. We are a community-driven platform dedicated to making mobility accessible, sustainable, and enjoyable for everyone. </p></div></section><section class="mission-section" data-v-dc81de9a><div class="mission-content" data-v-dc81de9a><div class="mission-text scroll-animate" data-v-dc81de9a><h2 data-v-dc81de9a>Our Mission</h2><p data-v-dc81de9a> Our goal is to revolutionize the way people think about vehicle ownership and travel. We empower local owners to safely and easily share their assets, providing renters with a convenient and affordable alternative to traditional rental services. By fostering a peer-to-peer network, we aim to reduce waste, support local economies, and create meaningful connections. </p></div><div class="mission-image scroll-animate" data-v-dc81de9a><img src="https://images.unsplash.com/photo-1568605117036-5fe5e7bab0b7?q=80&amp;w=1200" alt="Happy car owner" data-v-dc81de9a></div></div></section><section class="how-it-works-section" data-v-dc81de9a><h2 class="scroll-animate" data-v-dc81de9a>How It Works</h2><div class="steps-container" data-v-dc81de9a><div class="step-row" data-v-dc81de9a><div class="step-image-wrapper scroll-animate" style="--delay:0s;" data-v-dc81de9a><img src="https://images.unsplash.com/photo-1542362567-b07e54358753?q=80&amp;w=1200" alt="Discover vehicles" class="step-image" data-v-dc81de9a></div><div class="step-text-content scroll-animate" style="--delay:0.1s;" data-v-dc81de9a><div class="step-icon" data-v-dc81de9a><i class="bi bi-search" data-v-dc81de9a></i></div><h3 data-v-dc81de9a>1. Discover</h3><p data-v-dc81de9a>Browse a unique selection of cars and motorcycles shared by local hosts, from daily drivers to luxury sedans.</p></div></div><div class="step-row reverse" data-v-dc81de9a><div class="step-image-wrapper scroll-animate" style="--delay:0s;" data-v-dc81de9a><img src="https://images.unsplash.com/photo-1502877338535-766e1452684a?q=80&amp;w=1200" alt="Book a car" class="step-image" data-v-dc81de9a></div><div class="step-text-content scroll-animate" style="--delay:0.1s;" data-v-dc81de9a><div class="step-icon" data-v-dc81de9a><i class="bi bi-calendar-check" data-v-dc81de9a></i></div><h3 data-v-dc81de9a>2. Book</h3><p data-v-dc81de9a>Choose your dates, book your trip, and get verified—all through our secure platform.</p></div></div><div class="step-row" data-v-dc81de9a><div class="step-image-wrapper scroll-animate" style="--delay:0s;" data-v-dc81de9a><img src="https://images.unsplash.com/photo-1558981403-c5f9899a28bc?q=80&amp;w=1200" alt="Drive a motorcycle" class="step-image" data-v-dc81de9a></div><div class="step-text-content scroll-animate" style="--delay:0.1s;" data-v-dc81de9a><div class="step-icon" data-v-dc81de9a><i class="bi bi-key-fill" data-v-dc81de9a></i></div><h3 data-v-dc81de9a>3. Drive</h3><p data-v-dc81de9a>Pick up your vehicle, unlock new experiences, and hit the open road with confidence.</p></div></div></div></section><section class="team-section" data-v-dc81de9a><h2 class="scroll-animate" data-v-dc81de9a>Meet the Team</h2><p class="team-intro scroll-animate" data-v-dc81de9a>We are a passionate team of innovators, thinkers, and adventurers dedicated to building the future of mobility.</p><div class="team-grid" data-v-dc81de9a><div class="team-member-card scroll-animate" style="--delay:0s;" data-v-dc81de9a><img src="https://images.unsplash.com/photo-1557862921-37829c790f19?q=80&amp;w=300" alt="Team Member 1" class="team-member-photo" data-v-dc81de9a><h4 class="member-name" data-v-dc81de9a>Alex Johnson</h4><p class="member-role" data-v-dc81de9a>Co-Founder &amp; CEO</p></div><div class="team-member-card scroll-animate" style="--delay:0.1s;" data-v-dc81de9a><img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?q=80&amp;w=300" alt="Team Member 2" class="team-member-photo" data-v-dc81de9a><h4 class="member-name" data-v-dc81de9a>Maria Garcia</h4><p class="member-role" data-v-dc81de9a>Co-Founder &amp; CTO</p></div><div class="team-member-card scroll-animate" style="--delay:0.2s;" data-v-dc81de9a><img src="https://images.unsplash.com/photo-1539571696357-5a69c17a67c6?q=80&amp;w=300" alt="Team Member 3" class="team-member-photo" data-v-dc81de9a><h4 class="member-name" data-v-dc81de9a>David Chen</h4><p class="member-role" data-v-dc81de9a>Chief Operating Officer</p></div></div></section>',4)])])}var Ca={name:"AboutView",data(){return{observer:null}},mounted(){const e={root:null,threshold:.2,rootMargin:"0px"};this.observer=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("is-visible"),this.observer.unobserve(e.target))})},e),this.$nextTick(()=>{const e=this.$el.querySelectorAll(".scroll-animate");e.forEach(e=>{this.observer.observe(e)})})},beforeUnmount(){this.observer&&this.observer.disconnect()}};const Sa=(0,B.A)(Ca,[["render",wa],["__scopeId","data-v-dc81de9a"]]);var Pa=Sa;const Ea={class:"vehicle-list-container"},Da={class:"filters-sort-section"},Aa={class:"filters-sort-row"},_a={class:"filter-group dropdown-container",ref:"categoryDropdown"},Va={class:"filter-group dropdown-container",ref:"priceDropdown"},Ia={key:0,class:"filter-group dropdown-container",ref:"typeDropdown"},Fa={class:"filter-group dropdown-container make-model-dropdown",ref:"makeModelDropdown"},xa={class:"filter-group dropdown-container",ref:"yearDropdown"},Ma={key:1,class:"filter-group dropdown-container",ref:"seatsDropdown"},Ta={class:"filter-group dropdown-container location-search-container",ref:"locationDropdown"},Ra={key:0,class:"loading-message"},Ba={key:1,class:"no-vehicles-message empty-state-card"},Ua={key:2,class:"no-vehicles-message empty-state-card"},Na={key:3,class:"vehicle-grid"},Xa={key:4,ref:"bottomObserver",class:"observer-element"},Oa={key:0,class:"loading-message"};function qa(e,t,a,o,l,n){const r=(0,s.g2)("CategoryFilter"),c=(0,s.g2)("PriceFilter"),d=(0,s.g2)("TypeFilter"),u=(0,s.g2)("MakeModelFilter"),p=(0,s.g2)("YearFilter"),h=(0,s.g2)("SeatsFilter"),m=(0,s.g2)("LocationFilter"),v=(0,s.g2)("VehicleCard");return(0,s.uX)(),(0,s.CE)("div",Ea,[(0,s.Lk)("div",Da,[(0,s.Lk)("div",Aa,[(0,s.Lk)("div",_a,[(0,s.bF)(r,{"asset-type":l.filterForm.assetType,"onUpdate:assetType":n.updateAssetType,onToggleDropdown:t[0]||(t[0]=e=>n.toggleDropdown("category")),"is-active":"category"===l.activeDropdown},null,8,["asset-type","onUpdate:assetType","is-active"])],512),(0,s.Lk)("div",Va,[(0,s.bF)(c,{"min-price":l.filterForm.minPrice,"max-price":l.filterForm.maxPrice,"max-value":1e5,"onUpdate:price":n.updateFilterRange,onReset:t[1]||(t[1]=e=>n.resetFilter("price")),onToggleDropdown:t[2]||(t[2]=e=>n.toggleDropdown("price")),"is-active":"price"===l.activeDropdown,"filtered-count":e.filteredAndSortedVehicles?e.filteredAndSortedVehicles.length:0,"total-count":e.allVehicles?e.allVehicles.length:0},null,8,["min-price","max-price","onUpdate:price","is-active","filtered-count","total-count"])],512),"motorcycle"!==l.filterForm.assetType?((0,s.uX)(),(0,s.CE)("div",Ia,[(0,s.bF)(d,{"vehicle-type":l.filterForm.vehicleType,"onUpdate:type":n.updateVehicleType,onReset:t[3]||(t[3]=e=>n.resetFilter("vehicleType")),onToggleDropdown:t[4]||(t[4]=e=>n.toggleDropdown("type")),"is-active":"type"===l.activeDropdown,"filtered-count":e.filteredAndSortedVehicles?e.filteredAndSortedVehicles.length:0,"total-count":e.allVehicles?e.allVehicles.length:0},null,8,["vehicle-type","onUpdate:type","is-active","filtered-count","total-count"])],512)):(0,s.Q3)("",!0),(0,s.Lk)("div",Fa,[(0,s.bF)(u,{"selected-make":l.filterForm.make,"selected-model":l.filterForm.model,"all-vehicles":e.allVehicles,"onUpdate:make":n.updateMake,"onUpdate:model":n.updateModel,onReset:t[5]||(t[5]=e=>n.resetFilter("make-model")),onToggleDropdown:t[6]||(t[6]=e=>n.toggleDropdown("make-model")),"is-active":"make-model"===l.activeDropdown,"filtered-count":e.filteredAndSortedVehicles?e.filteredAndSortedVehicles.length:0,"total-count":e.allVehicles?e.allVehicles.length:0},null,8,["selected-make","selected-model","all-vehicles","onUpdate:make","onUpdate:model","is-active","filtered-count","total-count"])],512),(0,s.Lk)("div",xa,[(0,s.bF)(p,{"selected-year":l.filterForm.year,"all-vehicles":e.allVehicles,"onUpdate:year":n.updateYear,onReset:t[7]||(t[7]=e=>n.resetFilter("year")),onToggleDropdown:t[8]||(t[8]=e=>n.toggleDropdown("year")),"is-active":"year"===l.activeDropdown,"filtered-count":e.filteredAndSortedVehicles?e.filteredAndSortedVehicles.length:0,"total-count":e.allVehicles?e.allVehicles.length:0},null,8,["selected-year","all-vehicles","onUpdate:year","is-active","filtered-count","total-count"])],512),"motorcycle"!==l.filterForm.assetType?((0,s.uX)(),(0,s.CE)("div",Ma,[(0,s.bF)(h,{"selected-seats":l.filterForm.seats,"onUpdate:seats":n.updateSeats,onReset:t[9]||(t[9]=e=>n.resetFilter("seats")),onToggleDropdown:t[10]||(t[10]=e=>n.toggleDropdown("seats")),"is-active":"seats"===l.activeDropdown,"filtered-count":e.filteredAndSortedVehicles?e.filteredAndSortedVehicles.length:0,"total-count":e.allVehicles?e.allVehicles.length:0},null,8,["selected-seats","onUpdate:seats","is-active","filtered-count","total-count"])],512)):(0,s.Q3)("",!0),t[13]||(t[13]=(0,s.Lk)("div",{class:"filter-spacer"},null,-1)),(0,s.Lk)("div",Ta,[n.vehicleFilters?((0,s.uX)(),(0,s.Wv)(m,{key:0,location:l.filterForm.location,"all-vehicles":e.allVehicles,"is-active":"location"===l.activeDropdown,"onUpdate:location":n.updateLocationFilter,onToggleDropdown:t[11]||(t[11]=e=>n.toggleDropdown("location"))},null,8,["location","all-vehicles","is-active","onUpdate:location"])):(0,s.Q3)("",!0)],512)])]),l.loading?((0,s.uX)(),(0,s.CE)("div",Ra,[...t[14]||(t[14]=[(0,s.Lk)("p",null,"Loading vehicles...",-1)])])):e.allVehicles&&0!==e.allVehicles.length?e.filteredAndSortedVehicles&&0!==e.filteredAndSortedVehicles.length?((0,s.uX)(),(0,s.CE)("div",Na,[(0,s.bF)(i.F,{name:"vehicle-fade",tag:"div",class:"vehicle-grid-inner"},{default:(0,s.k6)(()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.displayedVehicles,e=>((0,s.uX)(),(0,s.CE)(s.FK,{key:e.id},[e?((0,s.uX)(),(0,s.Wv)(v,{key:0,vehicle:e},null,8,["vehicle"])):(0,s.Q3)("",!0)],64))),128))]),_:1})])):((0,s.uX)(),(0,s.CE)("div",Ua,[t[16]||(t[16]=(0,s.Lk)("i",{class:"bi bi-funnel icon-large"},null,-1)),t[17]||(t[17]=(0,s.Lk)("p",null," No vehicles found matching your criteria. Try adjusting the filters. ",-1)),(0,s.Lk)("button",{onClick:t[12]||(t[12]=(...e)=>n.resetFilters&&n.resetFilters(...e)),class:"button secondary-button"}," Reset Filters ")])):((0,s.uX)(),(0,s.CE)("div",Ba,[...t[15]||(t[15]=[(0,s.Lk)("i",{class:"bi bi-search icon-large"},null,-1),(0,s.Lk)("p",null,"No vehicles available for listing at the moment.",-1)])])),l.showObserver?((0,s.uX)(),(0,s.CE)("div",Xa,[l.loadingMore?((0,s.uX)(),(0,s.CE)("div",Oa,[...t[18]||(t[18]=[(0,s.Lk)("p",null,"Loading more vehicles...",-1)])])):(0,s.Q3)("",!0)],512)):(0,s.Q3)("",!0)])}const $a={"class.":"price-filter-container"},Qa={class:"dropdown-body"},Wa={class:"price-inputs"},Ha={class:"input-group"},ja={class:"input-group"},Ya=["placeholder"],Ka={class:"dropdown-footer"};function Ga(e,t,a,l,n,r){return(0,s.uX)(),(0,s.CE)("div",$a,[(0,s.Lk)("button",{class:(0,o.C4)(["filter-trigger",{active:a.isActive||r.isApplied}]),onClick:t[0]||(t[0]=t=>e.$emit("toggle-dropdown"))},[(0,s.Lk)("span",null,(0,o.v_)(r.buttonLabel),1),(0,s.Lk)("i",{class:(0,o.C4)(["bi",a.isActive?"bi-chevron-up":"bi-chevron-down"])},null,2)],2),(0,s.Lk)("div",{class:(0,o.C4)(["filter-dropdown-content",{active:a.isActive}])},[(0,s.Lk)("div",Qa,[t[8]||(t[8]=(0,s.Lk)("p",{class:"dropdown-title"},"Price per day",-1)),(0,s.Lk)("div",Wa,[(0,s.Lk)("div",Ha,[t[5]||(t[5]=(0,s.Lk)("label",{for:"min-price"},"Min Price",-1)),(0,s.bo)((0,s.Lk)("input",{id:"min-price",type:"number","onUpdate:modelValue":t[1]||(t[1]=e=>n.localMin=e),placeholder:"₱0"},null,512),[[i.Jo,n.localMin,void 0,{number:!0}]])]),t[7]||(t[7]=(0,s.Lk)("span",{class:"separator"},"-",-1)),(0,s.Lk)("div",ja,[t[6]||(t[6]=(0,s.Lk)("label",{for:"max-price"},"Max Price",-1)),(0,s.bo)((0,s.Lk)("input",{id:"max-price",type:"number","onUpdate:modelValue":t[2]||(t[2]=e=>n.localMax=e),placeholder:`₱${a.maxValue.toLocaleString()}`},null,8,Ya),[[i.Jo,n.localMax,void 0,{number:!0}]])])])]),(0,s.Lk)("div",Ka,[(0,s.Lk)("button",{class:"dropdown-button secondary",onClick:t[3]||(t[3]=(...e)=>r.handleReset&&r.handleReset(...e))},"Reset"),(0,s.Lk)("button",{class:"dropdown-button primary",onClick:t[4]||(t[4]=(...e)=>r.applyFilter&&r.applyFilter(...e))},"Apply")])],2)])}var Ja={name:"PriceFilter",props:{minPrice:Number,maxPrice:Number,maxValue:{type:Number,default:1e5},isActive:Boolean},emits:["update:price","reset","toggle-dropdown"],data(){return{localMin:this.minPrice,localMax:this.maxPrice===this.maxValue?null:this.maxPrice}},computed:{isApplied(){return this.minPrice>0||this.maxPrice<this.maxValue&&null!==this.maxPrice},buttonLabel(){if(this.isApplied){const e=this.minPrice>0?`₱${this.minPrice.toLocaleString()}`:"",t=this.maxPrice<this.maxValue&&null!==this.maxPrice?`₱${this.maxPrice.toLocaleString()}`:"";if(e&&t)return`${e} - ${t}`;if(e)return`${e}+`;if(t)return`Up to ${t}`}return"Price"}},watch:{isActive(e){e&&(this.localMin=this.minPrice,this.localMax=this.maxPrice===this.maxValue?null:this.maxPrice)}},methods:{applyFilter(){const e=this.localMin||0,t=null===this.localMax||0===this.localMax?this.maxValue:this.localMax;this.$emit("update:price",{min:e,max:t}),this.$emit("toggle-dropdown")},handleReset(){this.localMin=0,this.localMax=null,this.$emit("reset"),this.$emit("toggle-dropdown")}}};const za=(0,B.A)(Ja,[["render",Ga],["__scopeId","data-v-793c1f5c"]]);var Za=za;const ei={class:"type-filter-container"},ti={class:"dropdown-body"},ai={class:"type-options-list"},ii=["onClick"],si={key:0,class:"bi bi-check-lg check-icon"},oi={class:"dropdown-footer"},li=["disabled"];function ni(e,t,a,i,l,n){return(0,s.uX)(),(0,s.CE)("div",ei,[(0,s.Lk)("button",{class:(0,o.C4)(["filter-trigger",{active:a.isActive||n.isApplied}]),onClick:t[0]||(t[0]=t=>e.$emit("toggle-dropdown"))},[(0,s.Lk)("span",null,(0,o.v_)(n.buttonLabel),1),(0,s.Lk)("i",{class:(0,o.C4)(["bi",a.isActive?"bi-chevron-up":"bi-chevron-down"])},null,2)],2),(0,s.Lk)("div",{class:(0,o.C4)(["filter-dropdown-content",{active:a.isActive}])},[(0,s.Lk)("div",ti,[(0,s.Lk)("div",ai,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.vehicleTypes,e=>((0,s.uX)(),(0,s.CE)("button",{key:e,class:(0,o.C4)(["type-option-button",{active:l.localType===e}]),onClick:t=>n.selectType(e)},[(0,s.Lk)("span",null,(0,o.v_)(e),1),l.localType===e?((0,s.uX)(),(0,s.CE)("i",si)):(0,s.Q3)("",!0)],10,ii))),128))])]),(0,s.Lk)("div",oi,[(0,s.Lk)("button",{class:"dropdown-button secondary full-width",onClick:t[1]||(t[1]=(...e)=>n.handleReset&&n.handleReset(...e)),disabled:!n.isApplied}," Reset Type ",8,li)])],2)])}var ri={name:"TypeFilter",props:{vehicleType:String,isActive:Boolean,filteredCount:{type:Number,default:0},totalCount:{type:Number,default:0}},emits:["update:type","reset","toggle-dropdown"],data(){return{localType:this.vehicleType,vehicleTypes:["Sedan","SUV","Van","Truck","Hatchback","Coupe","Convertible","AUV/MPV"]}},computed:{isApplied(){return!!this.vehicleType},buttonLabel(){return this.isApplied?this.vehicleType:"Vehicle Type"}},watch:{vehicleType(e){this.localType=e},isActive(e){e&&(this.localType=this.vehicleType)}},methods:{selectType(e){this.localType=e,this.$emit("update:type",e),this.$emit("toggle-dropdown")},handleReset(){this.localType="",this.$emit("reset"),this.$emit("toggle-dropdown")}}};const ci=(0,B.A)(ri,[["render",ni],["__scopeId","data-v-6796f957"]]);var di=ci;const ui={class:"make-model-filter-container"},pi={key:0,class:"dropdown-header"},hi={class:"header-title"},mi={class:"dropdown-body"},vi={key:0,class:"scrollable-list"},ki=["onClick"],gi={key:1,class:"scrollable-list"},fi=["onClick"],yi={class:"dropdown-footer"};function bi(e,t,a,i,l,n){return(0,s.uX)(),(0,s.CE)("div",ui,[(0,s.Lk)("button",{class:(0,o.C4)(["filter-trigger",{active:a.isActive||n.isApplied}]),onClick:t[0]||(t[0]=t=>e.$emit("toggle-dropdown"))},[(0,s.Lk)("span",null,(0,o.v_)(n.buttonLabel),1),(0,s.Lk)("i",{class:(0,o.C4)(["bi",a.isActive?"bi-chevron-up":"bi-chevron-down"])},null,2)],2),(0,s.Lk)("div",{class:(0,o.C4)(["filter-dropdown-content",{active:a.isActive}])},["models"===l.panelState?((0,s.uX)(),(0,s.CE)("div",pi,[(0,s.Lk)("button",{class:"back-button",onClick:t[1]||(t[1]=e=>l.panelState="makes")},"❮"),(0,s.Lk)("span",hi,"Select Model ("+(0,o.v_)(l.localMake)+")",1)])):(0,s.Q3)("",!0),(0,s.Lk)("div",mi,["makes"===l.panelState?((0,s.uX)(),(0,s.CE)("div",vi,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.uniqueMakes,e=>((0,s.uX)(),(0,s.CE)("div",{key:e,class:(0,o.C4)(["list-item",{active:l.localMake===e}]),onClick:t=>n.selectMake(e)},(0,o.v_)(e),11,ki))),128))])):(0,s.Q3)("",!0),"models"===l.panelState?((0,s.uX)(),(0,s.CE)("div",gi,[(0,s.Lk)("div",{class:(0,o.C4)(["list-item",{active:""===l.localModel}]),onClick:t[2]||(t[2]=e=>n.selectModel(""))}," All "+(0,o.v_)(l.localMake)+" Models ",3),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.modelsForMake,e=>((0,s.uX)(),(0,s.CE)("div",{key:e,class:(0,o.C4)(["list-item",{active:l.localModel===e}]),onClick:t=>n.selectModel(e)},(0,o.v_)(e),11,fi))),128))])):(0,s.Q3)("",!0)]),(0,s.Lk)("div",yi,[(0,s.Lk)("button",{class:"dropdown-button secondary",onClick:t[3]||(t[3]=(...e)=>n.handleReset&&n.handleReset(...e))},"Reset")])],2)])}var Li={name:"MakeModelFilter",props:{selectedMake:String,selectedModel:String,allVehicles:{type:Array,default:()=>[]},isActive:Boolean},emits:["update:make","update:model","reset","toggle-dropdown"],data(){return{localMake:this.selectedMake,localModel:this.selectedModel,panelState:"makes"}},computed:{isApplied(){return!!this.selectedMake},buttonLabel(){return this.selectedMake&&this.selectedModel?`${this.selectedMake} ${this.selectedModel}`:this.selectedMake?this.selectedMake:"Make & Model"},uniqueMakes(){const e=this.allVehicles.map(e=>e.make);return[...new Set(e)].sort()},modelsForMake(){if(!this.localMake)return[];const e=this.allVehicles.filter(e=>e.make===this.localMake).map(e=>e.model);return[...new Set(e)].sort()}},watch:{isActive(e){e&&(this.localMake=this.selectedMake,this.localModel=this.selectedModel,this.panelState=this.selectedMake?"models":"makes")}},methods:{selectMake(e){this.localMake=e,this.localModel="",this.$emit("update:make",e),this.panelState="models"},selectModel(e){this.localModel=e,this.$emit("update:model",e),this.$emit("toggle-dropdown")},handleReset(){this.localMake="",this.localModel="",this.panelState="makes",this.$emit("reset"),this.$emit("toggle-dropdown")}}};const wi=(0,B.A)(Li,[["render",bi],["__scopeId","data-v-00cea4c7"]]);var Ci=wi;const Si={class:"year-filter-container"},Pi={class:"dropdown-body"},Ei={class:"scrollable-list"},Di=["onClick"],Ai={class:"dropdown-footer"};function _i(e,t,a,i,l,n){return(0,s.uX)(),(0,s.CE)("div",Si,[(0,s.Lk)("button",{class:(0,o.C4)(["filter-trigger",{active:a.isActive||n.isApplied}]),onClick:t[0]||(t[0]=t=>e.$emit("toggle-dropdown"))},[(0,s.Lk)("span",null,(0,o.v_)(n.buttonLabel),1),(0,s.Lk)("i",{class:(0,o.C4)(["bi",a.isActive?"bi-chevron-up":"bi-chevron-down"])},null,2)],2),(0,s.Lk)("div",{class:(0,o.C4)(["filter-dropdown-content",{active:a.isActive}])},[(0,s.Lk)("div",Pi,[(0,s.Lk)("div",Ei,[(0,s.Lk)("div",{class:(0,o.C4)(["list-item",{active:null===l.localYear}]),onClick:t[1]||(t[1]=e=>n.selectYear(null))}," All Years ",2),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.uniqueYears,e=>((0,s.uX)(),(0,s.CE)("div",{key:e,class:(0,o.C4)(["list-item",{active:l.localYear===e}]),onClick:t=>n.selectYear(e)},(0,o.v_)(e),11,Di))),128))])]),(0,s.Lk)("div",Ai,[(0,s.Lk)("button",{class:"dropdown-button secondary",onClick:t[2]||(t[2]=(...e)=>n.handleReset&&n.handleReset(...e))},"Reset")])],2)])}var Vi={name:"YearFilter",props:{selectedYear:Number,allVehicles:{type:Array,default:()=>[]},isActive:Boolean},emits:["update:year","reset","toggle-dropdown"],data(){return{localYear:this.selectedYear}},computed:{isApplied(){return null!==this.selectedYear},buttonLabel(){return this.isApplied?`Year: ${this.selectedYear}`:"Year"},uniqueYears(){const e=this.allVehicles.map(e=>e.year).filter(Boolean);return[...new Set(e)].sort((e,t)=>t-e)}},watch:{selectedYear(e){this.localYear=e},isActive(e){e&&(this.localYear=this.selectedYear)}},methods:{selectYear(e){this.localYear=e,this.$emit("update:year",e),this.$emit("toggle-dropdown")},handleReset(){this.localYear=null,this.$emit("reset"),this.$emit("toggle-dropdown")}}};const Ii=(0,B.A)(Vi,[["render",_i],["__scopeId","data-v-8ed5d9e0"]]);var Fi=Ii;const xi={class:"seats-filter-container"},Mi={class:"dropdown-body"},Ti={class:"seats-row"},Ri=["onClick"],Bi={class:"dropdown-footer"},Ui=["disabled"];function Ni(e,t,a,i,l,n){return(0,s.uX)(),(0,s.CE)("div",xi,[(0,s.Lk)("button",{class:(0,o.C4)(["filter-trigger",{active:a.isActive||n.isApplied}]),onClick:t[0]||(t[0]=t=>e.$emit("toggle-dropdown"))},[(0,s.Lk)("span",null,(0,o.v_)(n.buttonLabel),1),(0,s.Lk)("i",{class:(0,o.C4)(["bi",a.isActive?"bi-chevron-up":"bi-chevron-down"])},null,2)],2),(0,s.Lk)("div",{class:(0,o.C4)(["filter-dropdown-content",{active:a.isActive}])},[(0,s.Lk)("div",Mi,[t[2]||(t[2]=(0,s.Lk)("p",{class:"dropdown-title"},"Minimum number of seats",-1)),(0,s.Lk)("div",Ti,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.seatOptions,e=>((0,s.uX)(),(0,s.CE)("button",{key:e,class:(0,o.C4)(["seat-button",{active:l.localSeats===e}]),onClick:t=>n.selectSeats(e)},(0,o.v_)(e)+(0,o.v_)(8===e?"+":""),11,Ri))),128))])]),(0,s.Lk)("div",Bi,[(0,s.Lk)("button",{class:"dropdown-button secondary full-width",onClick:t[1]||(t[1]=(...e)=>n.handleReset&&n.handleReset(...e)),disabled:!n.isApplied}," Reset ",8,Ui)])],2)])}var Xi={name:"SeatsFilter",props:{selectedSeats:Number,isActive:Boolean},emits:["update:seats","reset","toggle-dropdown"],data(){return{localSeats:this.selectedSeats,seatOptions:[2,4,5,7,8]}},computed:{isApplied(){return null!==this.selectedSeats},buttonLabel(){return this.isApplied?8===this.selectedSeats?"8+ Seats":`${this.selectedSeats} Seats`:"Seats"}},watch:{selectedSeats(e){this.localSeats=e},isActive(e){e&&(this.localSeats=this.selectedSeats)}},methods:{selectSeats(e){this.localSeats=e,this.$emit("update:seats",e),this.$emit("toggle-dropdown")},handleReset(){this.localSeats=null,this.$emit("reset"),this.$emit("toggle-dropdown")}}};const Oi=(0,B.A)(Xi,[["render",Ni],["__scopeId","data-v-2dbf52ed"]]);var qi=Oi;const $i={class:"location-autocomplete-container"},Qi=["placeholder"],Wi={key:0,class:"autocomplete-dropdown"},Hi={key:0,class:"no-results"},ji={key:1,class:"city-list"},Yi=["onClick"],Ki={class:"city-name"},Gi={class:"count-badge"};function Ji(e,t,a,l,n,r){const c=(0,s.gN)("click-outside");return(0,s.bo)(((0,s.uX)(),(0,s.CE)("div",$i,[(0,s.Lk)("div",{class:(0,o.C4)(["search-input-wrapper",{focused:n.isFocused}])},[t[5]||(t[5]=(0,s.Lk)("i",{class:"bi bi-geo-alt-fill location-icon"},null,-1)),(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.searchQuery=e),placeholder:a.location?a.location:"Search by location...",class:"search-input",onFocus:t[1]||(t[1]=(...e)=>r.openDropdown&&r.openDropdown(...e)),onInput:t[2]||(t[2]=(...e)=>r.openDropdown&&r.openDropdown(...e))},null,40,Qi),[[i.Jo,n.searchQuery]]),a.location||n.searchQuery?((0,s.uX)(),(0,s.CE)("i",{key:0,class:"bi bi-x-circle-fill clear-btn",onClick:t[3]||(t[3]=(...e)=>r.clearLocation&&r.clearLocation(...e)),title:"Clear location"})):(0,s.Q3)("",!0)],2),(0,s.bF)(i.eB,{name:"fade"},{default:(0,s.k6)(()=>[n.isOpen?((0,s.uX)(),(0,s.CE)("div",Wi,[0===r.filteredCities.length?((0,s.uX)(),(0,s.CE)("div",Hi,' No cities found matching "'+(0,o.v_)(n.searchQuery)+'" ',1)):((0,s.uX)(),(0,s.CE)("div",ji,[(0,s.Lk)("div",{class:(0,o.C4)(["city-item",{selected:!a.location}]),onClick:t[4]||(t[4]=e=>r.selectLocation(""))},[...t[6]||(t[6]=[(0,s.Lk)("span",null,"All Locations",-1)])],2),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.filteredCities,e=>((0,s.uX)(),(0,s.CE)("div",{key:e,class:(0,o.C4)(["city-item",{selected:a.location===e}]),onClick:t=>r.selectLocation(e)},[(0,s.Lk)("span",Ki,(0,o.v_)(e),1),(0,s.Lk)("span",Gi,(0,o.v_)(r.getCountForCity(e)),1)],10,Yi))),128))]))])):(0,s.Q3)("",!0)]),_:1})])),[[c,r.closeDropdown]])}var zi={name:"LocationFilter",props:{location:String,allVehicles:{type:Array,default:()=>[]}},emits:["update:location"],data(){return{searchQuery:"",isOpen:!1,isFocused:!1}},computed:{uniqueCities(){if(!this.allVehicles)return[];const e=this.allVehicles.filter(e=>e&&e.location).map(e=>e.location.city).filter(e=>e);return[...new Set(e)].sort()},filteredCities(){if(!this.searchQuery)return this.uniqueCities;const e=this.searchQuery.toLowerCase();return this.uniqueCities.filter(t=>t.toLowerCase().includes(e))}},methods:{openDropdown(){this.isOpen=!0,this.isFocused=!0},closeDropdown(){this.isOpen=!1,this.isFocused=!1,this.location||(this.searchQuery="")},selectLocation(e){this.$emit("update:location",e),this.searchQuery=e,this.closeDropdown()},clearLocation(){this.$emit("update:location",""),this.searchQuery="",this.openDropdown()},getCountForCity(e){return this.allVehicles?this.allVehicles.filter(t=>t.location?.city===e).length:0}},directives:{clickOutside:{mounted(e,t){e.clickOutsideEvent=function(a){e===a.target||e.contains(a.target)||t.value(a)},document.body.addEventListener("click",e.clickOutsideEvent)},unmounted(e){document.body.removeEventListener("click",e.clickOutsideEvent)}}}};const Zi=(0,B.A)(zi,[["render",Ji],["__scopeId","data-v-5ac8ae4e"]]);var es=Zi;const ts={class:"category-filter-container"},as={class:"dropdown-body"},is={class:"category-options-list"},ss=["onClick"],os={class:"option-label"},ls={key:0,class:"bi bi-check-lg check-icon"};function ns(e,t,a,i,l,n){return(0,s.uX)(),(0,s.CE)("div",ts,[(0,s.Lk)("button",{class:(0,o.C4)(["filter-trigger",{active:a.isActive||n.isApplied}]),onClick:t[0]||(t[0]=t=>e.$emit("toggle-dropdown"))},[(0,s.Lk)("span",null,(0,o.v_)(n.buttonLabel),1),(0,s.Lk)("i",{class:(0,o.C4)(["bi",a.isActive?"bi-chevron-up":"bi-chevron-down"])},null,2)],2),(0,s.Lk)("div",{class:(0,o.C4)(["filter-dropdown-content",{active:a.isActive}])},[(0,s.Lk)("div",as,[(0,s.Lk)("div",is,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.categories,e=>((0,s.uX)(),(0,s.CE)("button",{key:e.value||"all",class:(0,o.C4)(["category-option-button",{active:l.localAssetType===e.value}]),onClick:t=>n.selectCategory(e.value)},[(0,s.Lk)("div",os,[(0,s.Lk)("i",{class:(0,o.C4)(e.icon)},null,2),(0,s.Lk)("span",null,(0,o.v_)(e.name),1)]),l.localAssetType===e.value?((0,s.uX)(),(0,s.CE)("i",ls)):(0,s.Q3)("",!0)],10,ss))),128))])])],2)])}var rs={name:"CategoryFilter",props:{assetType:String,isActive:Boolean},emits:["update:assetType","toggle-dropdown"],data(){return{localAssetType:this.assetType,categories:[{name:"All Categories",value:null,icon:"bi bi-grid-fill"},{name:"Cars",value:"vehicle",icon:"bi bi-car-front-fill"},{name:"Motorcycles",value:"motorcycle",icon:"bi bi-bicycle"}]}},computed:{isApplied(){return!!this.assetType},buttonLabel(){const e=this.categories.find(e=>e.value===this.assetType);return e?e.name:"Category"}},watch:{assetType(e){this.localAssetType=e},isActive(e){e&&(this.localAssetType=this.assetType)}},methods:{selectCategory(e){this.localAssetType=e,this.$emit("update:assetType",e),this.$emit("toggle-dropdown")}}};const cs=(0,B.A)(rs,[["render",ns],["__scopeId","data-v-7d5e2f31"]]);var ds=cs,us={name:"VehicleListView",components:{VehicleCard:ga,PriceFilter:Za,TypeFilter:di,MakeModelFilter:Ci,YearFilter:Fi,SeatsFilter:qi,LocationFilter:es,CategoryFilter:ds},data(){return{loading:!0,displayedVehicles:[],itemsPerPage:12,loadingMore:!1,observer:null,showObserver:!1,activeDropdown:null,makeModelPanelState:"makes",filterForm:{make:"",model:"",year:null,location:"",minPrice:0,maxPrice:1e5,vehicleType:"",seats:null,assetType:null},sortForm:{key:"rentalPricePerDay",order:"asc"}}},computed:{...(0,x.L8)(["allVehicles","filteredAndSortedVehicles","currentVehicleFilters","vehicleSort"]),vehicleFilters(){return this.currentVehicleFilters||{}}},methods:{...(0,x.i0)(["fetchAllVehicles","setVehicleFilter","setVehicleSort","resetVehicleFilters"]),async loadVehicles(){this.loading=!0;try{await this.fetchAllVehicles();const e=this.currentVehicleFilters||{};this.filterForm={make:e.make||"",model:e.model||"",year:e.year||null,location:e.location||"",minPrice:e.minPrice||0,maxPrice:e.maxPrice||1e5,vehicleType:e.vehicleType||"",seats:e.seats||null,assetType:e.assetType||null},this.sortForm={...this.vehicleSort||{}},this.applyUrlFilters(),this.resetDisplayedVehicles()}catch(e){console.error("Error loading vehicles:",e)}finally{this.loading=!1}},loadMoreVehicles(){if(this.loadingMore||!this.filteredAndSortedVehicles||this.displayedVehicles.length>=this.filteredAndSortedVehicles.length)return;this.loadingMore=!0;const e=this.displayedVehicles.length,t=e+this.itemsPerPage,a=this.filteredAndSortedVehicles.slice(e,t);this.displayedVehicles.push(...a),this.loadingMore=!1,this.showObserver=this.displayedVehicles.length<this.filteredAndSortedVehicles.length},resetDisplayedVehicles(){this.displayedVehicles=[],this.filteredAndSortedVehicles&&this.filteredAndSortedVehicles.length>0&&this.loadMoreVehicles(),this.filteredAndSortedVehicles?this.showObserver=this.displayedVehicles.length<this.filteredAndSortedVehicles.length:this.showObserver=!1,this.$nextTick(()=>{this.observer&&this.$refs.bottomObserver?(this.observer.disconnect(),this.showObserver&&this.observer.observe(this.$refs.bottomObserver)):this.showObserver&&this.setupIntersectionObserver()})},setupIntersectionObserver(){const e={root:null,rootMargin:"0px",threshold:1};this.observer=new IntersectionObserver(([e])=>{e.isIntersecting&&this.loadMoreVehicles()},e),this.$nextTick(()=>{this.$refs.bottomObserver&&this.showObserver&&this.observer.observe(this.$refs.bottomObserver)})},updateLocationFilter(e){this.filterForm.location=e,this.setVehicleFilter({key:"location",value:e}),this.activeDropdown=null},updateFilterRange({min:e,max:t}){this.filterForm.minPrice=e,this.filterForm.maxPrice=t,this.setVehicleFilter({key:"minPrice",value:e}),this.setVehicleFilter({key:"maxPrice",value:t})},updateMake(e){this.filterForm.make=e,this.filterForm.model="",this.setVehicleFilter({key:"make",value:e}),this.setVehicleFilter({key:"model",value:""}),this.makeModelPanelState="models"},updateModel(e){this.filterForm.model=e,this.setVehicleFilter({key:"model",value:e})},updateYear(e){this.filterForm.year=e,this.setVehicleFilter({key:"year",value:e})},updateSeats(e){this.filterForm.seats=e,this.setVehicleFilter({key:"seats",value:e})},updateVehicleType(e){this.filterForm.vehicleType=e,this.setVehicleFilter({key:"vehicleType",value:e})},updateAssetType(e){this.filterForm.assetType=e,this.setVehicleFilter({key:"assetType",value:e}),"motorcycle"===e&&(this.resetFilter("vehicleType"),this.resetFilter("seats"))},resetFilter(e){switch(e){case"price":this.filterForm.minPrice=0,this.filterForm.maxPrice=1e5,this.setVehicleFilter({key:"minPrice",value:0}),this.setVehicleFilter({key:"maxPrice",value:1e5});break;case"vehicleType":this.filterForm.vehicleType="",this.setVehicleFilter({key:"vehicleType",value:""});break;case"make-model":this.filterForm.make="",this.filterForm.model="",this.setVehicleFilter({key:"make",value:""}),this.setVehicleFilter({key:"model",value:""}),this.makeModelPanelState="makes";break;case"year":this.filterForm.year=null,this.setVehicleFilter({key:"year",value:null});break;case"seats":this.filterForm.seats=null,this.setVehicleFilter({key:"seats",value:null});break;case"assetType":this.filterForm.assetType=null,this.setVehicleFilter({key:"assetType",value:null});break}this.activeDropdown=null},resetFilters(){this.resetVehicleFilters(),this.filterForm={make:"",model:"",year:null,location:"",minPrice:0,maxPrice:1e5,vehicleType:"",seats:null,assetType:null},this.activeDropdown=null},applyUrlFilters(){const e=this.$route.query,t=Object.keys(this.filterForm);let a=!1;for(const i in e)if(t.includes(i)){let t=e[i],s=t;["year","minPrice","maxPrice","seats"].includes(i)&&(s=""===t||null===t||void 0===t?null:parseFloat(t),isNaN(s)&&(s=null)),"assetType"!==i||["vehicle","motorcycle"].includes(s)||(s=null),this.filterForm[i]!==s&&(this.filterForm[i]=s,a=!0)}if(a)for(const i in this.filterForm)Object.prototype.hasOwnProperty.call(this.filterForm,i)&&this.setVehicleFilter({key:i,value:this.filterForm[i]})},toggleDropdown(e){this.activeDropdown=this.activeDropdown===e?null:e,"make-model"===this.activeDropdown&&(this.makeModelPanelState="makes")},handleClickOutside(e){const t=[this.$refs.priceDropdown,this.$refs.typeDropdown,this.$refs.makeModelDropdown,this.$refs.yearDropdown,this.$refs.seatsDropdown,this.$refs.categoryDropdown,this.$refs.locationDropdown],a=t.every(t=>t&&!t.contains(e.target));a&&(this.activeDropdown=null)}},watch:{"$route.query":{handler(){this.applyUrlFilters()},deep:!0},filteredAndSortedVehicles(){this.resetDisplayedVehicles()}},async created(){0===Object.keys(this.$route.query).length&&await this.resetVehicleFilters(),await this.loadVehicles()},mounted(){this.showObserver&&this.setupIntersectionObserver(),document.addEventListener("click",this.handleClickOutside)},beforeUnmount(){this.observer&&this.observer.disconnect(),document.removeEventListener("click",this.handleClickOutside)}};const ps=(0,B.A)(us,[["render",qa],["__scopeId","data-v-32fe3e98"]]);var hs=ps;const ms={class:"vehicle-detail-container"},vs={key:0,class:"loading-message"},ks={key:1,class:"error-message"},gs={key:2,class:"vehicle-details-content"},fs={class:"card-body"};function ys(e,t,a,i,l,n){const r=(0,s.g2)("VehicleImageGallery"),c=(0,s.g2)("VehicleDetailsAndBooking");return(0,s.uX)(),(0,s.CE)("div",ms,[l.loading?((0,s.uX)(),(0,s.CE)("div",vs,[...t[0]||(t[0]=[(0,s.Lk)("p",null,"Loading vehicle details...",-1)])])):l.errorMessage?((0,s.uX)(),(0,s.CE)("div",ks,[(0,s.Lk)("p",null,(0,o.v_)(l.errorMessage),1)])):l.vehicle?((0,s.uX)(),(0,s.CE)("div",gs,[(0,s.Lk)("div",fs,[(0,s.bF)(r,{"exterior-photos":l.vehicle.exteriorPhotos,"interior-photos":l.vehicle.interiorPhotos,"vehicle-make":l.vehicle.make,"vehicle-model":l.vehicle.model},null,8,["exterior-photos","interior-photos","vehicle-make","vehicle-model"]),(0,s.bF)(c,{vehicle:l.vehicle,"unavailable-dates":l.vehicle.availability||[]},null,8,["vehicle","unavailable-dates"])])])):(0,s.Q3)("",!0)])}const bs=["src","alt"],Ls={key:0,class:"thumbnail-grid"},ws=["src"],Cs={class:"modal-gallery-title"},Ss={class:"modal-photo-section"},Ps={class:"modal-photo-grid single"},Es=["src"],Ds={key:0,class:"modal-photo-section"},As={class:"modal-section-subtitle"},_s={key:0,class:"modal-photo-grid"},Vs=["src","onClick"],Is={key:1,class:"no-photos-text"},Fs={key:0,class:"modal-photo-section"},xs={class:"modal-photo-grid"},Ms=["src","onClick"],Ts={key:1,class:"modal-photo-section"},Rs={class:"modal-photo-grid"},Bs=["src","onClick"],Us=["src"],Ns={class:"image-counter"};function Xs(e,t,a,l,n,r){return(0,s.uX)(),(0,s.CE)("div",{class:(0,o.C4)(["vehicle-image-gallery",r.galleryLayoutClass])},[(0,s.Lk)("img",{src:r.mainImage,alt:`${a.vehicleMake} ${a.vehicleModel}`,class:"main-vehicle-image",onClick:t[0]||(t[0]=(...e)=>r.openModal&&r.openModal(...e)),onError:t[1]||(t[1]=e=>e.target.src="https://placehold.co/800x600/e2e8f0/666666?text=No+Image")},null,40,bs),r.displayThumbnails.length>0?((0,s.uX)(),(0,s.CE)("div",Ls,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.displayThumbnails,(e,a)=>((0,s.uX)(),(0,s.CE)("div",{key:a,class:"thumbnail-container",onClick:t[4]||(t[4]=(...e)=>r.openModal&&r.openModal(...e))},[(0,s.Lk)("img",{src:e,alt:"Vehicle thumbnail",class:"thumbnail-image",onError:t[2]||(t[2]=e=>e.target.src="https://placehold.co/400x300/e2e8f0/666666?text=No+Image")},null,40,ws),a===r.displayThumbnails.length-1&&r.totalImageCount>3?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:t[3]||(t[3]=(0,i.D$)((...e)=>r.openModal&&r.openModal(...e),["stop"])),class:"show-all-button"},[...t[14]||(t[14]=[(0,s.Lk)("i",{class:"bi bi-grid-3x3-gap-fill"},null,-1),(0,s.eW)(" Show all photos ",-1)])])):(0,s.Q3)("",!0)]))),128))])):(0,s.Q3)("",!0),(0,s.bF)(i.eB,{name:"modal-bounce"},{default:(0,s.k6)(()=>[n.isModalOpen?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"modal-overlay",onClick:t[8]||(t[8]=(...e)=>r.closeModal&&r.closeModal(...e))},[(0,s.Lk)("div",{class:"modal-content",onClick:t[7]||(t[7]=(0,i.D$)(()=>{},["stop"]))},[(0,s.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>r.closeModal&&r.closeModal(...e)),class:"modal-close-button"}," × "),(0,s.Lk)("h3",Cs,(0,o.v_)(a.vehicleMake)+" "+(0,o.v_)(a.vehicleModel)+" Gallery ",1),(0,s.Lk)("div",Ss,[t[15]||(t[15]=(0,s.Lk)("h4",{class:"modal-section-subtitle"},"Profile Photo",-1)),(0,s.Lk)("div",Ps,[(0,s.Lk)("img",{src:r.mainImage,class:"modal-image profile-image",onClick:t[6]||(t[6]=e=>r.openFullScreen(r.mainImage))},null,8,Es)])]),r.isMotorcycle?((0,s.uX)(),(0,s.CE)("div",Ds,[(0,s.Lk)("h4",As," Gallery Photos ("+(0,o.v_)(r.motorcycleGalleryImages.length)+") ",1),r.motorcycleGalleryImages.length>0?((0,s.uX)(),(0,s.CE)("div",_s,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.motorcycleGalleryImages,(e,t)=>((0,s.uX)(),(0,s.CE)("img",{key:`moto-${t}`,src:e,class:"modal-image",onClick:t=>r.openFullScreen(e)},null,8,Vs))),128))])):((0,s.uX)(),(0,s.CE)("p",Is," No additional photos available. "))])):((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[a.interiorPhotos.length>0?((0,s.uX)(),(0,s.CE)("div",Fs,[t[16]||(t[16]=(0,s.Lk)("h4",{class:"modal-section-subtitle"},"Interior & Detail Shots",-1)),(0,s.Lk)("div",xs,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.interiorPhotos,(e,t)=>((0,s.uX)(),(0,s.CE)("img",{key:`interior-${t}`,src:e,class:"modal-image",onClick:t=>r.openFullScreen(e)},null,8,Ms))),128))])])):(0,s.Q3)("",!0),r.otherExteriorPhotos.length>0?((0,s.uX)(),(0,s.CE)("div",Ts,[t[17]||(t[17]=(0,s.Lk)("h4",{class:"modal-section-subtitle"},"Exterior Views",-1)),(0,s.Lk)("div",Rs,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.otherExteriorPhotos,(e,t)=>((0,s.uX)(),(0,s.CE)("img",{key:`exterior-${t}`,src:e,class:"modal-image",onClick:t=>r.openFullScreen(e)},null,8,Bs))),128))])])):(0,s.Q3)("",!0)],64))])])):(0,s.Q3)("",!0)]),_:1}),(0,s.bF)(i.eB,{name:"fullscreen-fade"},{default:(0,s.k6)(()=>[n.isFullScreenOpen?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"fullscreen-overlay",onClick:t[13]||(t[13]=(...e)=>r.closeFullScreen&&r.closeFullScreen(...e))},[(0,s.Lk)("button",{onClick:t[9]||(t[9]=(0,i.D$)((...e)=>r.closeFullScreen&&r.closeFullScreen(...e),["stop"])),class:"fullscreen-close-button"}," × "),(0,s.Lk)("button",{onClick:t[10]||(t[10]=(0,i.D$)((...e)=>r.prevImage&&r.prevImage(...e),["stop"])),class:"nav-button prev-button"}," ❮ "),(0,s.Lk)("img",{src:r.allImagesForSlider[n.currentImageIndex],class:"fullscreen-image",onClick:t[11]||(t[11]=(0,i.D$)(()=>{},["stop"]))},null,8,Us),(0,s.Lk)("button",{onClick:t[12]||(t[12]=(0,i.D$)((...e)=>r.nextImage&&r.nextImage(...e),["stop"])),class:"nav-button next-button"}," ❯ "),(0,s.Lk)("div",Ns,(0,o.v_)(n.currentImageIndex+1)+" / "+(0,o.v_)(r.allImagesForSlider.length),1)])):(0,s.Q3)("",!0)]),_:1})],2)}var Os={name:"VehicleImageGallery",props:{exteriorPhotos:{type:Array,default:()=>[]},interiorPhotos:{type:Array,default:()=>[]},vehicleMake:{type:String,default:""},vehicleModel:{type:String,default:""},assetType:{type:String,default:"vehicle"}},data(){return{isModalOpen:!1,isFullScreenOpen:!1,currentImageIndex:0}},computed:{isMotorcycle(){return"motorcycle"===(this.assetType||"").toLowerCase()},mainImage(){return this.exteriorPhotos&&this.exteriorPhotos.length>0?this.exteriorPhotos[0]:"https://placehold.co/800x600/e2e8f0/666666?text=No+Image"},otherExteriorPhotos(){return this.exteriorPhotos?this.exteriorPhotos.slice(1):[]},motorcycleGalleryImages(){const e=this.otherExteriorPhotos,t=this.interiorPhotos||[];return[...e,...t]},displayThumbnails(){let e=[];return this.isMotorcycle?(this.exteriorPhotos.length>1&&e.push(this.exteriorPhotos[1]),this.exteriorPhotos.length>2&&e.push(this.exteriorPhotos[2])):(this.interiorPhotos&&this.interiorPhotos.length>0&&e.push(this.interiorPhotos[0]),this.exteriorPhotos&&this.exteriorPhotos.length>1&&e.push(this.exteriorPhotos[1]),e.length<2&&this.exteriorPhotos.length>2&&e.push(this.exteriorPhotos[2]),e=e.slice(0,2)),e},totalImageCount(){return(this.exteriorPhotos?.length||0)+(this.interiorPhotos?.length||0)},galleryLayoutClass(){const e=this.displayThumbnails.length;return 0===e?"layout-single":1===e?"layout-split-half":"layout-standard"},allImagesForSlider(){const e=new Set([...this.exteriorPhotos||[],...this.interiorPhotos||[]]);return Array.from(e).filter(e=>e)}},methods:{openModal(){this.isModalOpen=!0},closeModal(){this.isModalOpen=!1},openFullScreen(e){this.isModalOpen=!1;const t=this.allImagesForSlider.findIndex(t=>t===e);this.currentImageIndex=-1!==t?t:0,this.isFullScreenOpen=!0},closeFullScreen(){this.isFullScreenOpen=!1,this.currentImageIndex=0},nextImage(){0!==this.allImagesForSlider.length&&(this.currentImageIndex=(this.currentImageIndex+1)%this.allImagesForSlider.length)},prevImage(){0!==this.allImagesForSlider.length&&(this.currentImageIndex=(this.currentImageIndex-1+this.allImagesForSlider.length)%this.allImagesForSlider.length)}}};const qs=(0,B.A)(Os,[["render",Xs],["__scopeId","data-v-763ba99e"]]);var $s=qs;const Qs={key:0,class:"page-container"},Ws={class:"details-and-booking-container"},Hs={class:"full-width-section"},js={key:0,class:"loading-state small"},Ys={key:1,class:"recommended-cars-grid"},Ks={key:2,class:"empty-state small"},Gs={key:1,class:"loading-state"};function Js(e,t,a,i,l,n){const r=(0,s.g2)("VehicleDetailsBox"),c=(0,s.g2)("BookingBox"),d=(0,s.g2)("VehicleCard");return a.vehicle?((0,s.uX)(),(0,s.CE)("div",Qs,[(0,s.Lk)("div",Ws,[(0,s.bF)(r,{vehicle:a.vehicle},null,8,["vehicle"]),(0,s.bF)(c,{vehicle:a.vehicle,"unavailable-dates":a.unavailableDates},null,8,["vehicle","unavailable-dates"])]),t[2]||(t[2]=(0,s.Lk)("div",{class:"full-width-section"},[(0,s.Lk)("h3",null,"Vehicle Location"),(0,s.Lk)("div",{id:"map-container",class:"vehicle-map"})],-1)),(0,s.Lk)("div",Hs,[(0,s.Lk)("h3",null,(0,o.v_)(n.recommendationTitle),1),l.loadingRecommendations?((0,s.uX)(),(0,s.CE)("div",js,[...t[0]||(t[0]=[(0,s.Lk)("p",null,"Loading recommendations...",-1)])])):n.recommendedAssets.length>0?((0,s.uX)(),(0,s.CE)("div",Ys,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.recommendedAssets,e=>((0,s.uX)(),(0,s.Wv)(d,{key:e.id,vehicle:e},null,8,["vehicle"]))),128))])):((0,s.uX)(),(0,s.CE)("div",Ks,[...t[1]||(t[1]=[(0,s.Lk)("p",null,"No other similar vehicles found.",-1)])]))])])):((0,s.uX)(),(0,s.CE)("div",Gs,[...t[3]||(t[3]=[(0,s.Lk)("p",null,"Loading vehicle details...",-1)])]))}var zs=a(144);const Zs={class:"details-box"},eo={class:"vehicle-header"},to={class:"vehicle-name"},ao={class:"vehicle-info"},io={class:"vehicle-make"},so={class:"vehicle-rating"},oo={class:"hosted-by-section"},lo={class:"host-profile"},no=["src"],ro={class:"host-details"},co={class:"host-name"},uo={key:1,class:"host-name"},po={class:"host-member-date"},ho={key:0,class:"details-list"},mo={key:0,class:"features-grid-container"},vo={class:"features-grid"},ko={class:"feature-column"},go={key:0,class:"feature-column"},fo={key:1,class:"loading-state"},yo={key:1,class:"details-list"},bo={class:"specs-grid"},Lo={class:"spec-item"},wo={class:"spec-value"},Co={class:"spec-item"},So={class:"spec-value"},Po={class:"spec-item"},Eo={class:"spec-value"},Do={class:"ratings-and-reviews-section"},Ao={class:"ratings-summary"},_o={class:"overall-rating"},Vo={class:"rating-number"},Io={class:"text-sm font-semibold text-gray-500"},Fo={class:"categorical-ratings"},xo={class:"category-name"},Mo={class:"bar-chart"},To={class:"score"},Ro={key:0,class:"reviews-list-section"},Bo={class:"review-header"},Uo=["src"],No={class:"reviewer-info"},Xo={class:"reviewer-name"},Oo={class:"review-date"},qo={class:"review-comment"};var $o={__name:"VehicleDetailsBox",props:{vehicle:Object},setup(e){const t=e,a=(0,s.EW)(()=>"motorcycle"===(t.vehicle?.assetType||"").toLowerCase()),i=(0,Te.aU)(),l=(0,zs.KR)([]),n=(0,zs.KR)({id:null,name:"Host Name",profilePicture:"https://placehold.co/100x100/A0A0A0/FFFFFF?text=Host",memberSince:"N/A"}),r=(0,zs.KR)(!1),c={seatbeltsAndAirbags:"Seatbelts and Airbags",abs:"Anti-lock Braking System (ABS)",esc:"Electronic Stability Control (ESC)",backupCamera:"Back-up Camera",bsm:"Blind Spot Monitoring (BSM)",tpms:"Tire Pressure Monitoring System (TPMS)",fcw:"Forward Collision Warning (FCW)",bluetooth:"Bluetooth",usbPort:"USB Port",appleCarPlay:"Apple CarPlay",androidAuto:"Android Auto",gps:"GPS Navigation",keylessEntry:"Keyless Entry",heatedSeats:"Heated Seats",sunroof:"Sunroof",childSeat:"Child Seat",bikeRack:"Bike Rack",roofBox:"Roof Box",petFriendly:"Pet Friendly"},d=(0,s.EW)(()=>t.vehicle&&t.vehicle.features&&"object"===typeof t.vehicle.features?Object.keys(t.vehicle.features).filter(e=>!0===t.vehicle.features[e]).map(e=>c[e]||e):[]),u=(0,s.EW)(()=>r.value?l.value:l.value.slice(0,2)),p=()=>{r.value=!r.value},h=e=>{if(!e)return"N/A";let t;if(e.toDate)t=e.toDate();else if(e._seconds)t=new Date(1e3*e._seconds);else{if(!e.seconds)return"N/A";t=new Date(1e3*e.seconds)}return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long"}).format(t)},m=async e=>{try{if(!e)return;const t=(0,Te.H9)(i,"users",e),a=await(0,Te.x7)(t);if(a.exists()){const t=a.data();n.value.id=e,n.value.name=`${t.firstName||""} ${t.lastName||""}`.trim()||"Host",n.value.profilePicture=t.profilePhotoUrl||"https://placehold.co/100x100/A0A0A0/FFFFFF?text=Host",t.createdAt&&(n.value.memberSince=h(t.createdAt))}}catch(t){console.error("Error fetching host data:",t)}},v=e=>{const t=(0,Te.rJ)(i,"reviews"),a=(0,Te.P)(t,(0,Te._M)("vehicleId","==",e));(0,Te.aQ)(a,async e=>{const t=e.docs.map(async e=>{const t=e.data();let a="Anonymous",s="https://placehold.co/100x100/A0A0A0/FFFFFF?text=User";if(t.renterId)try{const e=await(0,Te.x7)((0,Te.H9)(i,"users",t.renterId));if(e.exists()){const t=e.data();a=`${t.firstName||""} ${t.lastName||""}`.trim()||"User",s=t.profilePhotoUrl||s}}catch(o){console.error(`Failed to fetch user data for renterId: ${t.renterId}`,o)}return{id:e.id,...t,reviewerName:a,reviewerPhoto:s}});l.value=await Promise.all(t)})},k=(0,s.EW)(()=>l.value.filter(e=>e.categoricalRatings).length),g=(0,s.EW)(()=>{const e={cleanliness:0,maintenance:0,communication:0,convenience:0,accuracy:0},t=k.value;return 0===t?Object.keys(e).map(e=>({category:y(e),score:0})):(l.value.forEach(t=>{if(t.categoricalRatings)for(const a in e)t.categoricalRatings[a]&&(e[a]+=t.categoricalRatings[a])}),Object.keys(e).map(a=>({category:y(a),score:e[a]/t})))}),f=(0,s.EW)(()=>{if(0===k.value)return 0;const e=g.value.reduce((e,t)=>e+t.score,0);return e>0?e/g.value.length:0}),y=e=>e.charAt(0).toUpperCase()+e.slice(1);return(0,s.sV)(()=>{t.vehicle&&t.vehicle.ownerId&&(m(t.vehicle.ownerId),v(t.vehicle.id))}),(t,i)=>{const c=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",Zs,[(0,s.Lk)("div",eo,[(0,s.Lk)("h2",to,(0,o.v_)(e.vehicle.model),1),(0,s.Lk)("div",ao,[(0,s.Lk)("span",io,(0,o.v_)(e.vehicle.make),1),(0,s.Lk)("div",so,[i[0]||(i[0]=(0,s.Lk)("svg",{class:"star-icon",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[(0,s.Lk)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.381-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1)),(0,s.Lk)("span",null,(0,o.v_)(f.value.toFixed(1))+" ("+(0,o.v_)(k.value)+" ratings)",1)])])]),i[10]||(i[10]=(0,s.Lk)("hr",{class:"divider"},null,-1)),(0,s.Lk)("div",oo,[i[1]||(i[1]=(0,s.Lk)("h4",{class:"hosted-by-title"},"Hosted by",-1)),(0,s.Lk)("div",lo,[(0,s.Lk)("img",{src:n.value.profilePicture,alt:"Host Profile Picture",class:"host-avatar"},null,8,no),(0,s.Lk)("div",ro,[n.value.id?((0,s.uX)(),(0,s.Wv)(c,{key:0,to:{name:"UserProfileView",params:{userId:n.value.id}},class:"host-name-link"},{default:(0,s.k6)(()=>[(0,s.Lk)("span",co,(0,o.v_)(n.value.name),1)]),_:1},8,["to"])):((0,s.uX)(),(0,s.CE)("span",uo,(0,o.v_)(n.value.name),1)),(0,s.Lk)("span",po,"Member since "+(0,o.v_)(n.value.memberSince),1)])])]),i[11]||(i[11]=(0,s.Lk)("hr",{class:"divider"},null,-1)),a.value?((0,s.uX)(),(0,s.CE)("div",yo,[i[7]||(i[7]=(0,s.Lk)("h4",null,"Motorcycle Specifications",-1)),(0,s.Lk)("div",bo,[(0,s.Lk)("div",Lo,[i[4]||(i[4]=(0,s.Lk)("span",{class:"spec-label"},"Type:",-1)),(0,s.Lk)("span",wo,(0,o.v_)(e.vehicle.motorcycleType||"N/A"),1)]),(0,s.Lk)("div",Co,[i[5]||(i[5]=(0,s.Lk)("span",{class:"spec-label"},"Engine:",-1)),(0,s.Lk)("span",So,(0,o.v_)(e.vehicle.engineDisplacement||"N/A")+" cc",1)]),(0,s.Lk)("div",Po,[i[6]||(i[6]=(0,s.Lk)("span",{class:"spec-label"},"Year:",-1)),(0,s.Lk)("span",Eo,(0,o.v_)(e.vehicle.year||"N/A"),1)])])])):((0,s.uX)(),(0,s.CE)("div",ho,[i[3]||(i[3]=(0,s.Lk)("h4",null,"Vehicle Features",-1)),d.value.length>0?((0,s.uX)(),(0,s.CE)("div",mo,[(0,s.Lk)("div",vo,[(0,s.Lk)("ul",ko,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(d.value.slice(0,Math.ceil(d.value.length/2)),(e,t)=>((0,s.uX)(),(0,s.CE)("li",{key:`col1-${t}`},(0,o.v_)(e),1))),128))]),d.value.length>1?((0,s.uX)(),(0,s.CE)("ul",go,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(d.value.slice(Math.ceil(d.value.length/2)),(e,t)=>((0,s.uX)(),(0,s.CE)("li",{key:`col2-${t}`},(0,o.v_)(e),1))),128))])):(0,s.Q3)("",!0)])])):((0,s.uX)(),(0,s.CE)("div",fo,[...i[2]||(i[2]=[(0,s.Lk)("p",null,"No additional features listed for this vehicle.",-1)])]))])),i[12]||(i[12]=(0,s.Fv)('<hr class="divider" data-v-c258b100><div class="included-in-price-section" data-v-c258b100><h4 class="included-title" data-v-c258b100>Rental Perks</h4><div class="included-content-grid" data-v-c258b100><div class="included-category" data-v-c258b100><h5 class="included-category-title" data-v-c258b100>Convenience</h5><ul data-v-c258b100><li data-v-c258b100>Hassle-free pickup and return</li><li data-v-c258b100>Use the app for seamless instructions</li><li data-v-c258b100>Additional drivers are free of charge</li><li data-v-c258b100>A 30-minute grace period for late returns</li><li data-v-c258b100>No need to extend your trip for minor delays</li></ul></div><div class="included-category" data-v-c258b100><h5 class="included-category-title" data-v-c258b100>Peace of mind</h5><ul data-v-c258b100><li data-v-c258b100>Return without washing (just keep it tidy)</li><li data-v-c258b100>Basic roadside assistance is included</li><li data-v-c258b100>24/7 customer support is available</li></ul></div></div></div><hr class="divider" data-v-c258b100>',3)),(0,s.Lk)("div",Do,[i[9]||(i[9]=(0,s.Lk)("h4",{class:"section-title"},"Ratings and reviews",-1)),(0,s.Lk)("div",Ao,[(0,s.Lk)("div",_o,[(0,s.Lk)("span",Vo,(0,o.v_)(f.value.toFixed(1)),1),i[8]||(i[8]=(0,s.Lk)("span",{class:"star-icon"},"★",-1))]),(0,s.Lk)("span",Io,"("+(0,o.v_)(k.value)+" ratings)",1)]),(0,s.Lk)("div",Fo,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(g.value,e=>((0,s.uX)(),(0,s.CE)("div",{key:e.category,class:"rating-item"},[(0,s.Lk)("span",xo,(0,o.v_)(e.category),1),(0,s.Lk)("div",Mo,[(0,s.Lk)("div",{class:"bar-fill",style:(0,o.Tr)({width:e.score/5*100+"%"})},null,4)]),(0,s.Lk)("span",To,(0,o.v_)(e.score.toFixed(1)),1)]))),128))]),l.value.length>0?((0,s.uX)(),(0,s.CE)("div",Ro,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(u.value,e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"review-item"},[(0,s.Lk)("div",Bo,[(0,s.Lk)("img",{src:e.reviewerPhoto,alt:"Reviewer",class:"reviewer-avatar"},null,8,Uo),(0,s.Lk)("div",No,[(0,s.Lk)("span",Xo,(0,o.v_)(e.reviewerName),1),(0,s.Lk)("span",Oo,(0,o.v_)(h(e.createdAt)),1)])]),(0,s.Lk)("p",qo,(0,o.v_)(e.comment),1)]))),128)),l.value.length>2?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:p,class:"see-all-btn"},(0,o.v_)(r.value?"Show less reviews":`Show all ${l.value.length} reviews`),1)):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0)]),i[13]||(i[13]=(0,s.Fv)('<hr class="divider" data-v-c258b100><div class="rules-section" data-v-c258b100><h3 data-v-c258b100>Rules of the road</h3><p data-v-c258b100><strong class="rule-title" data-v-c258b100>No smoking allowed</strong> Smoking in any vehicle will result in a fine. </p><p data-v-c258b100><strong class="rule-title" data-v-c258b100>Keep the vehicle tidy</strong> Unreasonably dirty vehicles may result in a fine. </p><p data-v-c258b100><strong class="rule-title" data-v-c258b100>Refuel the vehicle</strong> Missing fuel may result in an additional fee. </p><p data-v-c258b100><strong class="rule-title" data-v-c258b100>No off-roading</strong> The vehicle may have a device that collects driving and location data. </p></div>',2))])}}};const Qo=(0,B.A)($o,[["__scopeId","data-v-c258b100"]]);var Wo=Qo;const Ho={class:"booking-box-card"},jo={class:"price-header"},Yo={class:"price-amount"},Ko={class:"date-picker-section"},Go={class:"datetime-input-group"},Jo={class:"inputs-row"},zo=["min","disabled"],Zo=["disabled"],el={class:"datetime-input-group"},tl={class:"inputs-row"},al=["min","disabled"],il=["value"],sl={key:0,class:"availability-message suspended"},ol={key:1,class:"availability-message suspended"},ll={key:2,class:"availability-message warning"},nl={key:3,class:"price-calculation"},rl={class:"price-row"},cl={class:"price-row total"},dl=["disabled","title"],ul={key:0},pl={key:1},hl={key:2},ml={key:3},vl={key:4};function kl(e,t,a,l,n,r){const c=(0,s.g2)("DownpaymentConfirmationModal");return(0,s.uX)(),(0,s.CE)("div",Ho,[(0,s.Lk)("div",jo,[(0,s.Lk)("span",Yo,"₱"+(0,o.v_)(a.vehicle.rentalPricePerDay?a.vehicle.rentalPricePerDay.toLocaleString():"N/A"),1),t[5]||(t[5]=(0,s.Lk)("span",{class:"price-period"},"per day",-1))]),(0,s.Lk)("div",Ko,[(0,s.Lk)("div",Go,[t[6]||(t[6]=(0,s.Lk)("label",{for:"start-date"},"PICKUP",-1)),(0,s.Lk)("div",Jo,[(0,s.bo)((0,s.Lk)("input",{type:"date",id:"start-date","onUpdate:modelValue":t[0]||(t[0]=e=>n.startDate=e),min:r.today,disabled:r.isBookingDisabled},null,8,zo),[[i.Jo,n.startDate]]),(0,s.bo)((0,s.Lk)("input",{type:"time",id:"start-time","onUpdate:modelValue":t[1]||(t[1]=e=>n.startTime=e),disabled:r.isBookingDisabled},null,8,Zo),[[i.Jo,n.startTime]])])]),(0,s.Lk)("div",el,[t[7]||(t[7]=(0,s.Lk)("label",{for:"end-date"},"RETURN",-1)),(0,s.Lk)("div",tl,[(0,s.bo)((0,s.Lk)("input",{type:"date",id:"end-date","onUpdate:modelValue":t[2]||(t[2]=e=>n.endDate=e),min:r.minEndDate,disabled:r.isBookingDisabled},null,8,al),[[i.Jo,n.endDate]]),(0,s.Lk)("input",{type:"time",id:"end-time",value:n.startTime,readonly:""},null,8,il)])])]),r.isRenterSuspended?((0,s.uX)(),(0,s.CE)("div",sl,[...t[8]||(t[8]=[(0,s.Lk)("i",{class:"bi bi-person-x-fill"},null,-1),(0,s.Lk)("span",null,"Your account is suspended. You cannot book vehicles.",-1)])])):"owner_suspended"===n.availabilityStatus?((0,s.uX)(),(0,s.CE)("div",ol,[...t[9]||(t[9]=[(0,s.Lk)("i",{class:"bi bi-slash-circle-fill"},null,-1),(0,s.Lk)("span",null,"This vehicle is temporarily unavailable for booking.",-1)])])):r.isDriverVerified||"renter"!==e.userRole?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",ll,[...t[10]||(t[10]=[(0,s.Lk)("i",{class:"bi bi-exclamation-triangle-fill"},null,-1),(0,s.Lk)("span",null,"Driver verification required to book.",-1)])])),n.totalCost>0&&r.canDisplayPrice?((0,s.uX)(),(0,s.CE)("div",nl,[(0,s.Lk)("div",rl,[(0,s.Lk)("span",null,(0,o.v_)(n.rentalDurationDescription),1),(0,s.Lk)("span",null,"₱"+(0,o.v_)(n.totalCost.toLocaleString()),1)]),t[12]||(t[12]=(0,s.Lk)("hr",{class:"price-divider"},null,-1)),(0,s.Lk)("div",cl,[t[11]||(t[11]=(0,s.Lk)("span",null,"Total Price",-1)),(0,s.Lk)("span",null,"₱"+(0,o.v_)(n.totalCost.toLocaleString()),1)])])):(0,s.Q3)("",!0),r.shouldShowAvailabilityMessage?((0,s.uX)(),(0,s.CE)("div",{key:4,class:(0,o.C4)(["availability-message",n.availabilityStatus])},[(0,s.Lk)("i",{class:(0,o.C4)(["bi",r.availabilityIcon])},null,2),(0,s.Lk)("span",null,(0,o.v_)(n.availabilityMessage),1)],2)):(0,s.Q3)("",!0),(0,s.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>r.handleContinueClick&&r.handleContinueClick(...e)),class:(0,o.C4)(["continue-button",{"verification-button":!r.isDriverVerified&&"renter"===e.userRole&&!r.isBookingDisabled,"suspended-button":r.isBookingDisabled}]),disabled:r.isBookingDisabled||!r.canProceed,title:r.isBookingDisabled?"Booking Disabled":""},[r.isRenterSuspended?((0,s.uX)(),(0,s.CE)("span",ul,"Account Suspended")):"owner_suspended"===n.availabilityStatus?((0,s.uX)(),(0,s.CE)("span",pl,"Vehicle Unavailable")):n.isLoadingAvailability?((0,s.uX)(),(0,s.CE)("span",hl,"Checking...")):r.isDriverVerified||"renter"!==e.userRole?((0,s.uX)(),(0,s.CE)("span",vl,"Continue")):((0,s.uX)(),(0,s.CE)("span",ml,"Get Verified to Drive"))],10,dl),(0,s.bF)(c,{"is-open":n.isConfirmationModalOpen,onClose:t[4]||(t[4]=e=>n.isConfirmationModalOpen=!1),onConfirm:r.proceedWithBooking},null,8,["is-open","onConfirm"])])}const gl={class:"modal-card"},fl={class:"modal-actions"};function yl(e,t,a,o,l,n){return a.isOpen?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"modal-overlay",onClick:t[2]||(t[2]=(0,i.D$)(t=>e.$emit("close"),["self"]))},[(0,s.Lk)("div",gl,[t[3]||(t[3]=(0,s.Fv)('<div class="modal-header" data-v-48f58bcb><i class="bi bi-cash-coin modal-icon" data-v-48f58bcb></i><h3 class="modal-title" data-v-48f58bcb>Downpayment Information</h3></div><div class="modal-body" data-v-48f58bcb><p data-v-48f58bcb> To secure your booking, a <strong data-v-48f58bcb>20% downpayment</strong> will be required once the host approves your request. </p><p class="sub-text" data-v-48f58bcb> The remaining balance can be settled directly with the host upon vehicle pickup. </p></div>',2)),(0,s.Lk)("div",fl,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$emit("close")),class:"button secondary-button"},"Cancel"),(0,s.Lk)("button",{onClick:t[1]||(t[1]=t=>e.$emit("confirm")),class:"button primary-button"},"Agree & Continue")])])])):(0,s.Q3)("",!0)}var bl={name:"DownpaymentConfirmationModal",props:{isOpen:Boolean},emits:["confirm","close"]};const Ll=(0,B.A)(bl,[["render",yl],["__scopeId","data-v-48f58bcb"]]);var wl=Ll,Cl={name:"BookingBox",components:{DownpaymentConfirmationModal:wl},props:{vehicle:{type:Object,required:!0},unavailableDates:{type:Array,default:()=>[]}},data(){return{isConfirmationModalOpen:!1,startDate:null,startTime:"09:00",endDate:null,totalCost:0,rentalDurationDescription:"",isLoadingAvailability:!1,availabilityMessage:"",availabilityStatus:""}},computed:{...(0,x.aH)({currentUser:e=>e.user}),...(0,x.L8)(["userRole"]),isRenterSuspended(){return!0===this.currentUser?.isSuspended},isBookingDisabled(){return this.isRenterSuspended||"owner_suspended"===this.availabilityStatus},isDriverVerified(){return!!this.currentUser&&!0===this.currentUser.isApprovedToDrive},today(){return Z.c9.now().toISODate()},minEndDate(){const e=this.today;if(!this.startDate)return e;const t=Z.c9.fromISO(this.startDate),a=t.plus({days:1}).toISODate();return a>e?a:e},pickupDateTimeISO(){if(this.startDate&&this.startTime)try{const e=Z.c9.fromISO(`${this.startDate}T${this.startTime}`,{zone:"local"});return e.isValid?e.toISO():null}catch(e){return console.error("Error creating pickupDateTimeISO:",e),null}return null},returnDateTimeISO(){if(this.endDate&&this.startTime)try{const e=Z.c9.fromISO(`${this.endDate}T${this.startTime}`,{zone:"local"});return e.isValid?e.toISO():null}catch(e){return console.error("Error creating returnDateTimeISO:",e),null}return null},canProceed(){return!this.isBookingDisabled&&(this.isDriverVerified||"renter"!==this.userRole?"available"===this.availabilityStatus&&!this.isLoadingAvailability:!(!this.pickupDateTimeISO||!this.returnDateTimeISO))},canDisplayPrice(){return!this.isBookingDisabled&&this.isDriverVerified},shouldShowAvailabilityMessage(){return!this.isBookingDisabled&&this.availabilityMessage&&(this.isDriverVerified||"renter"!==this.userRole)},availabilityIcon(){return"available"===this.availabilityStatus?"bi-check-circle-fill":"unavailable"===this.availabilityStatus?"bi-x-circle-fill":"verification_needed"===this.availabilityStatus?"bi-exclamation-triangle-fill":"bi-hourglass-split"}},watch:{currentUser:"checkAvailabilityAndCalculateCost",startDate(e){this.endDate&&e>=this.endDate&&(this.endDate=null),this.checkAvailabilityAndCalculateCost()},startTime(){this.checkAvailabilityAndCalculateCost()},endDate(){this.checkAvailabilityAndCalculateCost()},unavailableDates(){this.checkAvailabilityAndCalculateCost()}},methods:{...(0,x.i0)(["createBooking","checkVehicleAvailability"]),calculateRentalDurationDescription(e,t){if(!e||!t)return"";const a=Z.c9.fromISO(e),i=Z.c9.fromISO(t);if(!a.isValid||!i.isValid||a>=i)return"";const s=i.diff(a,["days","hours"]),o=s.as("days"),l=Math.round(o);return l<=0?"":`Rental Period: ${l} day${l>1?"s":""}`},async checkAvailabilityAndCalculateCost(){if(!this.vehicle||!this.vehicle.id)return;if(this.isRenterSuspended)return void this.resetCost();if(!this.pickupDateTimeISO||!this.returnDateTimeISO)return this.resetCost(),this.availabilityStatus="",void("owner_suspended"!==this.availabilityStatus&&(this.availabilityMessage=""));if(!this.isDriverVerified&&"renter"===this.userRole)return this.availabilityMessage="Driver verification required.",this.availabilityStatus="verification_needed",this.totalCost=0,void(this.rentalDurationDescription="");let e,t;try{if(e=Z.c9.fromISO(this.pickupDateTimeISO),t=Z.c9.fromISO(this.returnDateTimeISO),!e.isValid||!t.isValid)throw new Error("Invalid Date")}catch(i){return void this.setUnavailable("Invalid date/time selected.")}if(e>=t)return void this.setUnavailable("Return date must be after pickup.");const a=Z.IX.fromDateTimes(e,t);for(const o of this.unavailableDates)if(o.start&&o.end)try{const e=Z.c9.fromISO(o.start);let t=Z.c9.fromISO(o.end);if(!e.isValid||!t.isValid)continue;"returned"!==o.status&&(t=t.plus({hours:3}));const i=Z.IX.fromDateTimes(e,t);if(a.overlaps(i))return void this.setUnavailable("Selected dates overlap with an existing booking (including 3-hour buffer).")}catch(i){continue}this.isLoadingAvailability=!0,this.availabilityMessage="Checking...",this.availabilityStatus="checking",this.rentalDurationDescription=this.calculateRentalDurationDescription(this.pickupDateTimeISO,this.returnDateTimeISO);try{const e={vehicleId:this.vehicle.id,startDate:this.pickupDateTimeISO,endDate:this.returnDateTimeISO},t=await this.checkVehicleAvailability(e);t.isAvailable?(this.availabilityMessage=t.message,this.availabilityStatus="available",this.totalCost=t.totalCost):this.setUnavailable(t.message)}catch(s){if(s.response&&403===s.response.status){const e=s.response.data?.message||"Booking unavailable.";this.availabilityMessage=e,e.includes("Owner")||e.includes("unavailable")?this.availabilityStatus="owner_suspended":this.availabilityStatus="suspended"}else console.error("[BookingBox] Availability check error:",s),this.setUnavailable("Could not check schedule.");this.totalCost=0}finally{this.isLoadingAvailability=!1}},resetCost(){this.totalCost=0,this.rentalDurationDescription=""},setUnavailable(e){this.availabilityMessage=e,this.availabilityStatus="unavailable",this.totalCost=0,this.rentalDurationDescription=""},handleContinueClick(){this.isBookingDisabled||(this.isDriverVerified||"renter"!==this.userRole?"available"!==this.availabilityStatus||this.isLoadingAvailability||(this.isConfirmationModalOpen=!0):this.$router.push({name:"BecomeDriveVerified"}))},async proceedWithBooking(){if(this.isConfirmationModalOpen=!1,this.isBookingDisabled)alert("Booking is currently disabled.");else try{const e={vehicleId:this.vehicle.id,startDate:this.pickupDateTimeISO,endDate:this.returnDateTimeISO,totalCost:this.totalCost},t=await this.createBooking(e);this.$router.push({name:"BookingSummary",params:{bookingId:t.id}})}catch(e){console.error("Failed to create booking:",e),e.response&&403===e.response.status?alert("Action Blocked: Account suspended or vehicle unavailable."):alert("An error occurred while creating the booking. Please try again.")}}},created(){this.vehicle&&this.vehicle.id&&this.checkAvailabilityAndCalculateCost()}};const Sl=(0,B.A)(Cl,[["render",kl],["__scopeId","data-v-120d1f1e"]]);var Pl=Sl,El={name:"VehicleDetailsAndBooking",components:{VehicleDetailsBox:Wo,BookingBox:Pl,VehicleCard:ga},props:{vehicle:Object,unavailableDates:{type:Array,default:()=>[]}},data(){return{mapInstance:null,loadingRecommendations:!0}},watch:{vehicle(e){e&&e.location&&this.initMap(e.location)}},computed:{...(0,x.L8)(["allVehicles"]),isMotorcycle(){return"motorcycle"===this.vehicle?.assetType},recommendationTitle(){return this.isMotorcycle?"Recommended Motorcycles":"Recommended Vehicles"},recommendedAssets(){if(!this.allVehicles||!this.vehicle)return[];const e=this.vehicle.assetType||"vehicle";return this.allVehicles.filter(t=>{const a=t.assetType||"vehicle";return a===e}).filter(e=>e.id!==this.vehicle.id).sort(()=>.5-Math.random()).slice(0,4)}},methods:{...(0,x.i0)(["fetchAllVehicles"]),initMap(e){e&&e.latitude&&e.longitude&&(0,s.dY)(()=>{this.mapInstance&&this.mapInstance.remove(),"undefined"!==typeof window.L&&(this.mapInstance=window.L.map("map-container").setView([e.latitude,e.longitude],13),window.L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(this.mapInstance),window.L.marker([e.latitude,e.longitude]).addTo(this.mapInstance).bindPopup(`<b>${this.vehicle.make} ${this.vehicle.model}</b>`).openPopup())})},async loadVehicleData(){this.loadingRecommendations=!0;try{this.allVehicles&&0!==this.allVehicles.length||await this.fetchAllVehicles()}catch(e){console.error("Error fetching vehicles for recommendations:",e)}finally{this.loadingRecommendations=!1}this.vehicle&&this.initMap(this.vehicle.location)}},mounted(){this.loadVehicleData()},beforeUnmount(){this.mapInstance&&this.mapInstance.remove()}};const Dl=(0,B.A)(El,[["render",Js],["__scopeId","data-v-5a47ab67"]]);var Al=Dl,_l={name:"VehicleDetailView",components:{VehicleImageGallery:$s,VehicleDetailsAndBooking:Al},props:["id"],data(){return{loading:!0,errorMessage:null,vehicle:null}},watch:{id:{immediate:!0,handler(e){e&&this.fetchVehicle()}}},methods:{...(0,x.i0)(["getVehicleById"]),async fetchVehicle(){this.loading=!0,this.errorMessage=null,this.vehicle=null;try{this.vehicle=await this.getVehicleById(this.id)}catch(e){this.errorMessage="Failed to load vehicle details. Please try again."}finally{this.loading=!1}}}};const Vl=(0,B.A)(_l,[["render",ys],["__scopeId","data-v-d8049424"]]);var Il=Vl;const Fl={class:"login-page-wrapper"},xl={class:"form-column"},Ml={class:"login-container"},Tl={class:"form-group"},Rl={class:"form-group"},Bl={class:"label-row"},Ul=["disabled"],Nl={key:0,class:"spinner"},Xl={key:1},Ol={key:0,class:"error-message"},ql={class:"register-link"},$l={class:"form-group"},Ql=["disabled"],Wl={key:0,class:"spinner"},Hl={key:1},jl={key:0,class:"error-message"},Yl={key:1,class:"success-message"},Kl={class:"register-link"};function Gl(e,t,a,l,n,r){const c=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",Fl,[t[17]||(t[17]=(0,s.Lk)("div",{class:"image-column"},null,-1)),(0,s.Lk)("div",xl,[(0,s.Lk)("div",Ml,["login"===n.view?((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[t[11]||(t[11]=(0,s.Lk)("h2",{class:"login-title"},"Welcome Back",-1)),t[12]||(t[12]=(0,s.Lk)("p",{class:"login-subtitle"},"Sign in to continue to RentCycle",-1)),(0,s.Lk)("form",{onSubmit:t[3]||(t[3]=(0,i.D$)((...e)=>r.handleLogin&&r.handleLogin(...e),["prevent"])),class:"login-form"},[(0,s.Lk)("div",Tl,[t[7]||(t[7]=(0,s.Lk)("label",{for:"email"},"Email",-1)),(0,s.bo)((0,s.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>n.email=e),required:"",placeholder:"you@example.com"},null,512),[[i.Jo,n.email]])]),(0,s.Lk)("div",Rl,[(0,s.Lk)("div",Bl,[t[8]||(t[8]=(0,s.Lk)("label",{for:"password"},"Password",-1)),(0,s.Lk)("a",{href:"#",onClick:t[1]||(t[1]=(0,i.D$)(e=>n.view="forgot",["prevent"])),class:"forgot-password-link"},"Forgot password?")]),(0,s.bo)((0,s.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":t[2]||(t[2]=e=>n.password=e),required:"",placeholder:"••••••••"},null,512),[[i.Jo,n.password]])]),(0,s.Lk)("button",{type:"submit",disabled:n.loading,class:"login-button"},[n.loading?((0,s.uX)(),(0,s.CE)("span",Nl)):((0,s.uX)(),(0,s.CE)("span",Xl,"Sign In"))],8,Ul)],32),n.error?((0,s.uX)(),(0,s.CE)("p",Ol,(0,o.v_)(n.error),1)):(0,s.Q3)("",!0),(0,s.Lk)("p",ql,[t[10]||(t[10]=(0,s.eW)(" Don't have an account? ",-1)),(0,s.bF)(c,{to:"/register"},{default:(0,s.k6)(()=>[...t[9]||(t[9]=[(0,s.eW)("Sign up",-1)])]),_:1})])],64)):"forgot"===n.view?((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[t[15]||(t[15]=(0,s.Lk)("h2",{class:"login-title"},"Reset Password",-1)),t[16]||(t[16]=(0,s.Lk)("p",{class:"login-subtitle"},"Enter your email to receive a password reset link.",-1)),(0,s.Lk)("form",{onSubmit:t[5]||(t[5]=(0,i.D$)((...e)=>r.handleForgotPassword&&r.handleForgotPassword(...e),["prevent"])),class:"login-form"},[(0,s.Lk)("div",$l,[t[13]||(t[13]=(0,s.Lk)("label",{for:"reset-email"},"Email",-1)),(0,s.bo)((0,s.Lk)("input",{type:"email",id:"reset-email","onUpdate:modelValue":t[4]||(t[4]=e=>n.resetEmail=e),required:"",placeholder:"you@example.com"},null,512),[[i.Jo,n.resetEmail]])]),(0,s.Lk)("button",{type:"submit",disabled:n.loading,class:"login-button"},[n.loading?((0,s.uX)(),(0,s.CE)("span",Wl)):((0,s.uX)(),(0,s.CE)("span",Hl,"Send Reset Link"))],8,Ql)],32),n.error?((0,s.uX)(),(0,s.CE)("p",jl,(0,o.v_)(n.error),1)):(0,s.Q3)("",!0),n.successMessage?((0,s.uX)(),(0,s.CE)("p",Yl,(0,o.v_)(n.successMessage),1)):(0,s.Q3)("",!0),(0,s.Lk)("p",Kl,[t[14]||(t[14]=(0,s.eW)(" Remembered your password? ",-1)),(0,s.Lk)("a",{href:"#",onClick:t[6]||(t[6]=(0,i.D$)(e=>n.view="login",["prevent"]))},"Back to login")])],64)):(0,s.Q3)("",!0)])])])}var Jl={name:"LoginView",data(){return{view:"login",email:"",password:"",resetEmail:"",loading:!1,error:null,successMessage:null}},methods:{...(0,x.i0)(["login","forgotPassword"]),async handleLogin(){this.loading=!0,this.error=null,this.successMessage=null;try{await this.login({email:this.email,password:this.password})}catch(e){console.error(e),"auth/user-not-found"===e.code||"auth/wrong-password"===e.code||"auth/invalid-credential"===e.code?this.error="Invalid email or password.":this.error=e.response?.data?.message||e.message||"Failed to log in."}finally{this.loading=!1}},async handleForgotPassword(){this.loading=!0,this.error=null,this.successMessage=null;try{await this.forgotPassword(this.resetEmail),this.successMessage="Password reset link sent! Please check your email.",this.resetEmail=""}catch(e){this.error=e.response?.data?.message||"Failed to send reset link."}finally{this.loading=!1}}}};const zl=(0,B.A)(Jl,[["render",Gl],["__scopeId","data-v-6ef96525"]]);var Zl=zl;const en={class:"register-page-wrapper"},tn={class:"form-column"},an={class:"register-container"},sn={class:"name-grid"},on={class:"form-group"},ln={class:"form-group"},nn={class:"form-group full-width"},rn={class:"form-group full-width"},cn={class:"phone-input-wrapper"},dn={class:"form-group full-width"},un={class:"form-group full-width"},pn=["disabled"],hn={key:0,class:"error-message"},mn={class:"login-link"};function vn(e,t,a,l,n,r){const c=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",en,[t[17]||(t[17]=(0,s.Lk)("div",{class:"image-column"},null,-1)),(0,s.Lk)("div",tn,[(0,s.Lk)("div",an,[t[16]||(t[16]=(0,s.Lk)("h2",{class:"register-title"},"Create your RentCycle Account",-1)),(0,s.Lk)("form",{onSubmit:t[6]||(t[6]=(0,i.D$)((...e)=>r.handleRegister&&r.handleRegister(...e),["prevent"])),class:"register-form"},[(0,s.Lk)("div",sn,[(0,s.Lk)("div",on,[t[7]||(t[7]=(0,s.Lk)("label",{for:"firstName"},"First Name:",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"firstName","onUpdate:modelValue":t[0]||(t[0]=e=>n.firstName=e),required:"",class:"form-input",placeholder:"Juan"},null,512),[[i.Jo,n.firstName]])]),(0,s.Lk)("div",ln,[t[8]||(t[8]=(0,s.Lk)("label",{for:"lastName"},"Last Name:",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"lastName","onUpdate:modelValue":t[1]||(t[1]=e=>n.lastName=e),required:"",class:"form-input",placeholder:"dela Cruz"},null,512),[[i.Jo,n.lastName]])])]),(0,s.Lk)("div",nn,[t[9]||(t[9]=(0,s.Lk)("label",{for:"email"},"Email:",-1)),(0,s.bo)((0,s.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[2]||(t[2]=e=>n.email=e),required:"",class:"form-input",placeholder:"Enter your email"},null,512),[[i.Jo,n.email]])]),(0,s.Lk)("div",rn,[t[11]||(t[11]=(0,s.Lk)("label",{for:"phoneNumber"},"Phone Number:",-1)),(0,s.Lk)("div",cn,[t[10]||(t[10]=(0,s.Lk)("span",{class:"phone-prefix"},"+63",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"phoneNumber","onUpdate:modelValue":t[3]||(t[3]=e=>r.localPhoneNumber=e),required:"",class:"form-input",placeholder:"9171234567",maxlength:"10"},null,512),[[i.Jo,r.localPhoneNumber]])])]),(0,s.Lk)("div",dn,[t[12]||(t[12]=(0,s.Lk)("label",{for:"password"},"Password:",-1)),(0,s.bo)((0,s.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":t[4]||(t[4]=e=>n.password=e),required:"",class:"form-input",placeholder:"Enter your password"},null,512),[[i.Jo,n.password]])]),(0,s.Lk)("div",un,[t[13]||(t[13]=(0,s.Lk)("label",{for:"confirmPassword"},"Confirm Password:",-1)),(0,s.bo)((0,s.Lk)("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":t[5]||(t[5]=e=>n.confirmPassword=e),required:"",class:"form-input",placeholder:"Confirm your password"},null,512),[[i.Jo,n.confirmPassword]])]),(0,s.Lk)("button",{type:"submit",disabled:n.loading,class:"register-button"},(0,o.v_)(n.loading?"Registering...":"Create Account"),9,pn),n.error?((0,s.uX)(),(0,s.CE)("p",hn,(0,o.v_)(n.error),1)):(0,s.Q3)("",!0)],32),(0,s.Lk)("p",mn,[t[15]||(t[15]=(0,s.eW)(" Already have an account? ",-1)),(0,s.bF)(c,{to:"/login"},{default:(0,s.k6)(()=>[...t[14]||(t[14]=[(0,s.eW)("Login here",-1)])]),_:1})])])])])}var kn={name:"RegisterView",data(){return{firstName:"",lastName:"",email:"",phoneNumber:"",password:"",confirmPassword:"",loading:!1,error:null}},computed:{localPhoneNumber:{get(){return this.phoneNumber.replace(/^\+63/,"")},set(e){this.phoneNumber=`+63${e}`}}},methods:{...(0,x.i0)(["register"]),async handleRegister(){if(this.loading=!0,this.error=null,this.password!==this.confirmPassword)return this.error="Passwords do not match.",void(this.loading=!1);try{await this.register({firstName:this.firstName,lastName:this.lastName,email:this.email,phoneNumber:this.phoneNumber,password:this.password})}catch(e){this.error=e.response?.data?.message||"An unexpected error occurred. Please try again."}finally{this.loading=!1}}}};const gn=(0,B.A)(kn,[["render",vn],["__scopeId","data-v-b618e006"]]);var fn=gn;function yn(e,t,a,i,o,l){const n=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",null,[t[1]||(t[1]=(0,s.Lk)("h2",null,"404 - Page Not Found",-1)),t[2]||(t[2]=(0,s.Lk)("p",null,"The page you are looking for does not exist.",-1)),(0,s.bF)(n,{to:"/"},{default:(0,s.k6)(()=>[...t[0]||(t[0]=[(0,s.eW)("Go Home",-1)])]),_:1})])}var bn={name:"NotFoundView"};const Ln=(0,B.A)(bn,[["render",yn]]);var wn=Ln;const Cn={class:"application-container"},Sn={class:"form-wrapper"},Pn={class:"step-content"},En={key:1},Dn={key:2},An={class:"navigation-controls"},_n=["disabled"],Vn={key:0},In={key:1},Fn={key:0,class:"error-message"},xn={class:"modal-body"},Mn={class:"checkbox-container"},Tn={class:"modal-actions"},Rn=["disabled"],Bn={key:0},Un={key:1};function Nn(e,t,a,l,n,r){const c=(0,s.g2)("DriversLicense"),d=(0,s.g2)("SelfieWithID"),u=(0,s.g2)("PayoutDetails");return(0,s.uX)(),(0,s.CE)("div",Cn,[(0,s.Lk)("div",Sn,[t[12]||(t[12]=(0,s.Lk)("h1",{class:"main-title"},"Become a Host",-1)),t[13]||(t[13]=(0,s.Lk)("p",{class:"main-subtitle"}," Let's get you verified. We'll guide you through the necessary steps. ",-1)),(0,s.Lk)("div",Pn,[1===n.currentStep?((0,s.uX)(),(0,s.CE)("div",En,[t[10]||(t[10]=(0,s.Lk)("h2",{class:"step-title"},"Step 1: Identity Verification",-1)),(0,s.bF)(c,{"initial-drivers-license":n.applicationForm.driversLicense,"onUpdate:driversLicense":t[0]||(t[0]=e=>n.applicationForm.driversLicense=e),"show-navigation":!1},null,8,["initial-drivers-license"]),(0,s.bF)(d,{modelValue:n.applicationForm.selfieWithID,"onUpdate:modelValue":t[1]||(t[1]=e=>n.applicationForm.selfieWithID=e)},null,8,["modelValue"])])):(0,s.Q3)("",!0),2===n.currentStep?((0,s.uX)(),(0,s.CE)("div",Dn,[t[11]||(t[11]=(0,s.Lk)("h2",{class:"step-title"},"Step 2: Payout Information",-1)),(0,s.bF)(u,{modelValue:n.applicationForm.payoutDetails,"onUpdate:modelValue":t[2]||(t[2]=e=>n.applicationForm.payoutDetails=e)},null,8,["modelValue"])])):(0,s.Q3)("",!0)]),(0,s.Lk)("div",An,[n.currentStep>1?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:t[3]||(t[3]=(...e)=>r.prevStep&&r.prevStep(...e)),class:"nav-button secondary"}," Back ")):(0,s.Q3)("",!0),(0,s.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>r.nextStep&&r.nextStep(...e)),class:"nav-button primary",disabled:n.isSubmitting},[n.isSubmitting?((0,s.uX)(),(0,s.CE)("span",Vn,(0,o.v_)(n.submissionStatus),1)):((0,s.uX)(),(0,s.CE)("span",In,(0,o.v_)(r.nextButtonText),1))],8,_n)]),n.errorMessage?((0,s.uX)(),(0,s.CE)("p",Fn,(0,o.v_)(n.errorMessage),1)):(0,s.Q3)("",!0)]),(0,s.bF)(i.eB,{name:"modal-fade"},{default:(0,s.k6)(()=>[n.showConfirmationModal?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"confirmation-modal-overlay",onClick:t[9]||(t[9]=(0,i.D$)((...e)=>r.cancelSubmission&&r.cancelSubmission(...e),["self"]))},[(0,s.Lk)("div",{class:"confirmation-modal",onClick:t[8]||(t[8]=(0,i.D$)(()=>{},["stop"]))},[t[18]||(t[18]=(0,s.Lk)("h3",{class:"modal-title"},"Confirm Submission",-1)),(0,s.Lk)("div",xn,[t[16]||(t[16]=(0,s.Lk)("p",null,"Please review and confirm the following:",-1)),t[17]||(t[17]=(0,s.Lk)("ul",{class:"terms-list"},[(0,s.Lk)("li",null,[(0,s.Lk)("i",{class:"bi bi-check-circle-fill"}),(0,s.eW)(" I certify that all information provided (including my Driver's License and Selfie) is true and belongs to me. ")]),(0,s.Lk)("li",null,[(0,s.Lk)("i",{class:"bi bi-check-circle-fill"}),(0,s.eW)(" I understand that providing false information will result in immediate account suspension. ")]),(0,s.Lk)("li",null,[(0,s.Lk)("i",{class:"bi bi-check-circle-fill"}),(0,s.eW)(" I agree to RentCycle's Terms of Service and Host Policies. ")])],-1)),(0,s.Lk)("label",Mn,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=e=>n.agreedToTerms=e)},null,512),[[i.lH,n.agreedToTerms]]),t[14]||(t[14]=(0,s.Lk)("span",{class:"checkmark"},null,-1)),t[15]||(t[15]=(0,s.eW)(" I have read and agree to the terms above. ",-1))])]),(0,s.Lk)("div",Tn,[(0,s.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>r.cancelSubmission&&r.cancelSubmission(...e)),class:"nav-button secondary"},"Cancel"),(0,s.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>r.handleFinalSubmit&&r.handleFinalSubmit(...e)),class:"nav-button primary",disabled:!n.agreedToTerms||n.isSubmitting},[n.isSubmitting?((0,s.uX)(),(0,s.CE)("span",Bn,(0,o.v_)(n.submissionStatus),1)):((0,s.uX)(),(0,s.CE)("span",Un,"Confirm & Submit"))],8,Rn)])])])):(0,s.Q3)("",!0)]),_:1})])}const Xn=async(e,t="images")=>{if(!e||!e.startsWith("data:image/"))return null;const a=(0,Be.c7)(),i=`${t}/${Date.now()}_${Math.random().toString(36).substring(2,9)}`,s=(0,Be.KR)(a,i);try{const t=await(0,Be.ls)(s,e,"data_url"),a=await(0,Be.qk)(t.ref);return a}catch(o){throw console.error(`Error uploading image to ${t}:`,o),new Error("Image upload failed.")}},On={class:"form-section"},qn={class:"name-grid"},$n={class:"form-group"},Qn={class:"form-group"},Wn={class:"form-group"},Hn={class:"form-group upload-section"},jn={key:0,class:"upload-placeholder"},Yn=["src"],Kn={key:0,class:"button-group-step"},Gn={key:1,class:"error-message"};function Jn(e,t,a,l,n,r){return(0,s.uX)(),(0,s.CE)("div",On,[t[15]||(t[15]=(0,s.Lk)("h3",null,"Driver's License Details",-1)),t[16]||(t[16]=(0,s.Lk)("p",{class:"step-info-text"}," Please provide your name as it appears on your license, your license number, and upload a clear photo. ",-1)),(0,s.Lk)("div",qn,[(0,s.Lk)("div",$n,[t[10]||(t[10]=(0,s.Lk)("label",{for:"dl-firstName"},"First Name (on License)",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"dl-firstName","onUpdate:modelValue":t[0]||(t[0]=e=>n.localDriversLicense.firstName=e),placeholder:"e.g., Juan",required:"",onInput:t[1]||(t[1]=(...e)=>r.emitUpdate&&r.emitUpdate(...e))},null,544),[[i.Jo,n.localDriversLicense.firstName]])]),(0,s.Lk)("div",Qn,[t[11]||(t[11]=(0,s.Lk)("label",{for:"dl-lastName"},"Last Name (on License)",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"dl-lastName","onUpdate:modelValue":t[2]||(t[2]=e=>n.localDriversLicense.lastName=e),placeholder:"e.g., Dela Cruz",required:"",onInput:t[3]||(t[3]=(...e)=>r.emitUpdate&&r.emitUpdate(...e))},null,544),[[i.Jo,n.localDriversLicense.lastName]])])]),(0,s.Lk)("div",Wn,[t[12]||(t[12]=(0,s.Lk)("label",{for:"licenseNumber"},"Driver's License Number",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"licenseNumber","onUpdate:modelValue":t[4]||(t[4]=e=>n.localDriversLicense.licenseNumber=e),placeholder:"e.g., L12-34-567890",required:"",onInput:t[5]||(t[5]=(...e)=>r.emitUpdate&&r.emitUpdate(...e))},null,544),[[i.Jo,n.localDriversLicense.licenseNumber]])]),(0,s.Lk)("div",Hn,[t[14]||(t[14]=(0,s.Lk)("label",null,"Upload Driver's License Photo",-1)),(0,s.Lk)("input",{type:"file",ref:"licensePhotoInput",onChange:t[6]||(t[6]=(...e)=>r.handleLicensePhotoUpload&&r.handleLicensePhotoUpload(...e)),accept:"image/png, image/jpeg, image/jpg",class:"hidden-input",required:""},null,544),(0,s.Lk)("div",{class:(0,o.C4)(["upload-box",{"has-image":n.localDriversLicense.imageUrl}]),onClick:t[7]||(t[7]=(...e)=>r.triggerLicensePhotoInput&&r.triggerLicensePhotoInput(...e))},[n.localDriversLicense.imageUrl?((0,s.uX)(),(0,s.CE)("img",{key:1,src:n.localDriversLicense.imageUrl,alt:"Driver's License Preview",class:"uploaded-image"},null,8,Yn)):((0,s.uX)(),(0,s.CE)("div",jn,[...t[13]||(t[13]=[(0,s.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})],-1),(0,s.Lk)("p",null,"Click to upload photo",-1)])]))],2)]),a.showNavigation?((0,s.uX)(),(0,s.CE)("div",Kn,[(0,s.Lk)("button",{type:"button",onClick:t[8]||(t[8]=t=>e.$emit("prev")),class:"button secondary-button"}," Previous "),(0,s.Lk)("button",{type:"button",onClick:t[9]||(t[9]=(...e)=>r.nextStep&&r.nextStep(...e)),class:"button primary-button"}," Next ")])):(0,s.Q3)("",!0),n.error?((0,s.uX)(),(0,s.CE)("div",Gn,(0,o.v_)(n.error),1)):(0,s.Q3)("",!0)])}var zn={name:"DriversLicense",props:{initialDriversLicense:{type:Object,required:!0},showNavigation:{type:Boolean,default:!0}},emits:["update:driversLicense","next","prev","error"],data(){return{localDriversLicense:{...this.initialDriversLicense},error:""}},watch:{initialDriversLicense(e){this.localDriversLicense={...e}}},methods:{triggerLicensePhotoInput(){this.$refs.licensePhotoInput.click()},handleLicensePhotoUpload(e){const t=e.target.files[0];if(t){if(t.size>2097152)return void(this.error="File is too large (Max 2MB).");const e=new FileReader;e.onload=e=>{this.localDriversLicense.imageUrl=e.target.result,this.emitUpdate()},e.onerror=()=>{this.error="Failed to read file."},e.readAsDataURL(t)}},emitUpdate(){this.$emit("update:driversLicense",this.localDriversLicense)},nextStep(){this.localDriversLicense.firstName&&this.localDriversLicense.lastName&&this.localDriversLicense.licenseNumber&&this.localDriversLicense.imageUrl?(this.$emit("next"),this.error=""):this.error="Please fill in all fields (Name, License #) and upload a photo to continue."}}};const Zn=(0,B.A)(zn,[["render",Jn],["__scopeId","data-v-1279b470"]]);var er=Zn;const tr={class:"form-step-component"},ar=["src"],ir={key:1,class:"upload-placeholder"};function sr(e,t,a,o,l,n){return(0,s.uX)(),(0,s.CE)("div",tr,[t[5]||(t[5]=(0,s.Lk)("h3",{class:"component-title"},"Selfie with ID",-1)),t[6]||(t[6]=(0,s.Lk)("p",{class:"component-description"}," Please upload a clear, well-lit photo of yourself holding your Driver's License next to your face. This helps us verify your identity. ",-1)),(0,s.Lk)("div",{class:"image-uploader-box",onClick:t[2]||(t[2]=(...e)=>n.triggerFileInput&&n.triggerFileInput(...e))},[(0,s.Lk)("input",{type:"file",ref:"fileInput",onChange:t[0]||(t[0]=(...e)=>n.onFileSelect&&n.onFileSelect(...e)),accept:"image/png, image/jpeg",hidden:""},null,544),n.imagePreview?((0,s.uX)(),(0,s.CE)("img",{key:0,src:n.imagePreview,alt:"Selfie preview",class:"image-preview",onError:t[1]||(t[1]=(...e)=>n.setDefaultImage&&n.setDefaultImage(...e))},null,40,ar)):((0,s.uX)(),(0,s.CE)("div",ir,[...t[4]||(t[4]=[(0,s.Lk)("i",{class:"bi bi-person-badge-fill"},null,-1),(0,s.Lk)("span",null,"Click to upload photo",-1)])]))]),l.imageBase64?((0,s.uX)(),(0,s.CE)("button",{key:0,type:"button",onClick:t[3]||(t[3]=(0,i.D$)((...e)=>n.removeImage&&n.removeImage(...e),["stop"])),class:"button-remove"}," Remove Image ")):(0,s.Q3)("",!0)])}var or={name:"SelfieWithID",props:{modelValue:{type:String,default:null},initialUrl:{type:String,default:null}},emits:["update:modelValue"],data(){return{imageBase64:null,placeholderImage:"https://placehold.co/400x300/e2e8f0/666666?text=Selfie+with+ID"}},computed:{imagePreview(){return this.imageBase64||this.initialUrl||this.placeholderImage}},methods:{triggerFileInput(){this.$refs.fileInput.click()},onFileSelect(e){const t=e.target.files[0];if(!t)return;if(!t.type.startsWith("image/"))return void alert("Please select a valid image file.");if(t.size>5242880)return void alert("File is too large (Max 5MB).");const a=new FileReader;a.onload=e=>{this.imageBase64=e.target.result,this.$emit("update:modelValue",this.imageBase64)},a.readAsDataURL(t)},removeImage(){this.imageBase64=null,this.$emit("update:modelValue",null),this.$refs.fileInput.value=null},setDefaultImage(e){e.target.src=this.placeholderImage}}};const lr=(0,B.A)(or,[["render",sr],["__scopeId","data-v-8adb516e"]]);var nr=lr;const rr={class:"form-section"},cr={class:"form-group"},dr={class:"radio-group"},ur={class:"radio-option"},pr={class:"radio-option"},hr={class:"form-group"},mr=["for"],vr=["id","placeholder"],kr={class:"form-group"},gr=["for"],fr=["id","placeholder"],yr={class:"form-group upload-section"},br={key:0,class:"upload-placeholder"},Lr=["src"],wr={key:0,class:"error-message"};function Cr(e,t,a,l,n,r){return(0,s.uX)(),(0,s.CE)("div",rr,[t[14]||(t[14]=(0,s.Lk)("p",{class:"step-info-text"}," Please provide your payout details. This information will be used to send you your earnings. ",-1)),(0,s.Lk)("div",cr,[t[12]||(t[12]=(0,s.Lk)("label",null,"Payout Method",-1)),(0,s.Lk)("div",dr,[(0,s.Lk)("label",ur,[(0,s.bo)((0,s.Lk)("input",{type:"radio",value:"gcash","onUpdate:modelValue":t[0]||(t[0]=e=>n.localDetails.payoutType=e),onChange:t[1]||(t[1]=(...e)=>r.emitUpdate&&r.emitUpdate(...e))},null,544),[[i.XL,n.localDetails.payoutType]]),t[10]||(t[10]=(0,s.Lk)("span",{class:"radio-label"},"GCash",-1))]),(0,s.Lk)("label",pr,[(0,s.bo)((0,s.Lk)("input",{type:"radio",value:"maya","onUpdate:modelValue":t[2]||(t[2]=e=>n.localDetails.payoutType=e),onChange:t[3]||(t[3]=(...e)=>r.emitUpdate&&r.emitUpdate(...e))},null,544),[[i.XL,n.localDetails.payoutType]]),t[11]||(t[11]=(0,s.Lk)("span",{class:"radio-label"},"Maya",-1))])])]),(0,s.Lk)("div",null,[(0,s.Lk)("div",hr,[(0,s.Lk)("label",{for:r.accountNameId},(0,o.v_)(r.accountNameLabel),9,mr),(0,s.bo)((0,s.Lk)("input",{type:"text",id:r.accountNameId,"onUpdate:modelValue":t[4]||(t[4]=e=>n.localDetails.accountName=e),placeholder:r.accountNamePlaceholder,required:"",onInput:t[5]||(t[5]=(...e)=>r.emitUpdate&&r.emitUpdate(...e))},null,40,vr),[[i.Jo,n.localDetails.accountName]])]),(0,s.Lk)("div",kr,[(0,s.Lk)("label",{for:r.accountNumberId},(0,o.v_)(r.accountNumberLabel),9,gr),(0,s.bo)((0,s.Lk)("input",{type:"text",id:r.accountNumberId,"onUpdate:modelValue":t[6]||(t[6]=e=>n.localDetails.accountNumber=e),placeholder:r.accountNumberPlaceholder,required:"",onInput:t[7]||(t[7]=(...e)=>r.emitUpdate&&r.emitUpdate(...e))},null,40,fr),[[i.Jo,n.localDetails.accountNumber]])]),(0,s.Lk)("div",yr,[(0,s.Lk)("label",null,(0,o.v_)(r.qrCodeLabel),1),(0,s.Lk)("input",{type:"file",ref:"qrCodeInput",onChange:t[8]||(t[8]=(...e)=>r.handleQrCodeUpload&&r.handleQrCodeUpload(...e)),accept:"image/png, image/jpeg, image/jpg",class:"hidden-input"},null,544),(0,s.Lk)("div",{class:(0,o.C4)(["upload-box",{"has-image":n.qrCodePreview}]),onClick:t[9]||(t[9]=(...e)=>r.triggerQrCodeInput&&r.triggerQrCodeInput(...e))},[n.qrCodePreview?((0,s.uX)(),(0,s.CE)("img",{key:1,src:n.qrCodePreview,alt:"QR Code Preview",class:"uploaded-image"},null,8,Lr)):((0,s.uX)(),(0,s.CE)("div",br,[...t[13]||(t[13]=[(0,s.Lk)("i",{class:"bi bi-qr-code-scan"},null,-1),(0,s.Lk)("p",null,"Click to upload QR Code",-1)])]))],2)])]),n.error?((0,s.uX)(),(0,s.CE)("div",wr,(0,o.v_)(n.error),1)):(0,s.Q3)("",!0)])}var Sr={name:"PayoutDetails",props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue"],data(){return{localDetails:{...this.modelValue},qrCodePreview:null,error:""}},computed:{accountNameLabel(){return"gcash"===this.localDetails.payoutType?"Account Name (GCash)":"Account Name (Maya)"},accountNumberLabel(){return"gcash"===this.localDetails.payoutType?"Account Number (GCash Phone)":"Account Number (Maya Phone)"},accountNamePlaceholder(){return"e.g., Juan dela Cruz"},accountNumberPlaceholder(){return"e.g., 09171234567"},qrCodeLabel(){return"gcash"===this.localDetails.payoutType?"Upload GCash QR Code":"Upload Maya QR Code"},accountNameId(){return"gcash"===this.localDetails.payoutType?"gcashName":"mayaName"},accountNumberId(){return"gcash"===this.localDetails.payoutType?"gcashNumber":"mayaNumber"}},watch:{modelValue(e){this.localDetails={...e}},"localDetails.payoutType"(){this.localDetails.accountName="",this.localDetails.accountNumber="",this.localDetails.qrCodeImageBase64=null,this.qrCodePreview=null,this.error="",this.emitUpdate()}},methods:{triggerQrCodeInput(){this.$refs.qrCodeInput.click()},handleQrCodeUpload(e){const t=e.target.files[0];if(!t)return;if(t.size>2097152)return void(this.error="File is too large (Max 2MB).");if(!["image/png","image/jpeg","image/jpg"].includes(t.type))return void(this.error="Invalid file type. Please use PNG, JPG, or JPEG.");this.error="";const a=new FileReader;a.onload=e=>{this.localDetails.qrCodeImageBase64=e.target.result,this.qrCodePreview=e.target.result,this.emitUpdate()},a.onerror=()=>{this.error="Failed to read file."},a.readAsDataURL(t)},emitUpdate(){this.$emit("update:modelValue",this.localDetails)}}};const Pr=(0,B.A)(Sr,[["render",Cr],["__scopeId","data-v-d1699a12"]]);var Er=Pr,Dr={name:"BecomeOwnerApplication",components:{DriversLicense:er,SelfieWithID:nr,PayoutDetails:Er},data(){return{currentStep:1,isSubmitting:!1,errorMessage:null,submissionStatus:"Submitting...",applicationForm:{driversLicense:{firstName:"",lastName:"",licenseNumber:"",imageUrl:null},selfieWithID:null,payoutDetails:{payoutType:"gcash",accountName:"",accountNumber:"",bankName:"",branchName:"",qrCodeImageBase64:null}},showConfirmationModal:!1,agreedToTerms:!1}},computed:{nextButtonText(){return 2===this.currentStep?"Submit Application":"Next"}},methods:{...(0,x.i0)(["submitHostApplication"]),nextStep(){if(this.errorMessage=null,1===this.currentStep){const e=this.applicationForm.driversLicense;if(!e.firstName||!e.lastName)return void(this.errorMessage="Please enter your first and last name from your license.");if(!e.licenseNumber)return void(this.errorMessage="Please enter your Driver's License number.");if(!e.imageUrl)return void(this.errorMessage="Please upload a photo of your Driver's License.");if(!this.applicationForm.selfieWithID)return void(this.errorMessage="Please upload your Selfie with ID.")}if(2===this.currentStep){const e=this.applicationForm.payoutDetails;if(!e.accountName||!e.accountNumber)return void(this.errorMessage="Payout Account Name and Number are required.");if("bank"===e.payoutType&&(!e.bankName||!e.branchName))return void(this.errorMessage="Bank Name and Branch Name are required for bank payouts.");this.agreedToTerms=!1,this.showConfirmationModal=!0}else this.currentStep++},prevStep(){this.currentStep>1&&this.currentStep--},cancelSubmission(){this.showConfirmationModal=!1,this.agreedToTerms=!1},async handleFinalSubmit(){if(!this.agreedToTerms)return void(this.errorMessage="You must agree to the terms to submit.");const e=this.applicationForm.driversLicense,t=this.applicationForm.payoutDetails;if(!e.firstName||!e.lastName||!e.licenseNumber||!e.imageUrl||!this.applicationForm.selfieWithID)return this.errorMessage="Identity verification (Step 1) is incomplete. Please go back.",void this.cancelSubmission();if(!t.accountName||!t.accountNumber)return this.errorMessage="Payout Account Name and Number are required. Please go back.",void this.cancelSubmission();if("bank"===t.payoutType&&(!t.bankName||!t.branchName))return this.errorMessage="Bank Name and Branch Name are required. Please go back.",void this.cancelSubmission();this.isSubmitting=!0,this.errorMessage=null;try{this.submissionStatus="Uploading images (1/3)...";const e=await Xn(this.applicationForm.driversLicense.imageUrl,"documents");this.submissionStatus="Uploading images (2/3)...";const t=await Xn(this.applicationForm.selfieWithID,"documents");this.submissionStatus="Uploading images (3/3)...";const a=await Xn(this.applicationForm.payoutDetails.qrCodeImageBase64,"payout_qrs");if(!e)throw new Error("Driver's License image failed to upload.");if(!t)throw new Error("Selfie with ID image failed to upload.");this.submissionStatus="Finalizing application...";const i={driversLicense:{firstName:this.applicationForm.driversLicense.firstName,lastName:this.applicationForm.driversLicense.lastName,licenseNumber:this.applicationForm.driversLicense.licenseNumber,licenseImageUrl:e},selfieImageUrl:t,payoutDetails:{payoutType:this.applicationForm.payoutDetails.payoutType,accountName:this.applicationForm.payoutDetails.accountName,accountNumber:this.applicationForm.payoutDetails.accountNumber,bankName:this.applicationForm.payoutDetails.bankName,branchName:this.applicationForm.payoutDetails.branchName,qrCodeUrl:a||null}};await this.submitHostApplication(i),this.submissionStatus="Success!",this.showConfirmationModal=!1,this.$router.push({name:"ApplicationSubmitted"})}catch(a){this.errorMessage=`Failed to submit application: ${a.message||"Please check your inputs."}`,console.error("Submission Error:",a),this.showConfirmationModal=!1}finally{this.isSubmitting=!1,this.submissionStatus="Submitting..."}}}};const Ar=(0,B.A)(Dr,[["render",Nn],["__scopeId","data-v-335e3f2c"]]);var _r=Ar;const Vr={class:"contact-page"},Ir={class:"form-map-section"},Fr={class:"form-map-content"},xr={class:"contact-form-wrapper scroll-animate",style:{"--delay":"0s"}},Mr={class:"form-group"},Tr={class:"form-group"},Rr={class:"form-group"},Br={class:"form-group"},Ur={key:0,class:"success-message"},Nr={key:1,class:"error-message"},Xr=["disabled"],Or={key:0},qr={key:1},$r={class:"map-wrapper scroll-animate",style:{"--delay":"0.1s"},ref:"mapWrapper"},Qr={class:"faq-section scroll-animate"};function Wr(e,t,a,l,n,r){const c=(0,s.g2)("FAQSection");return(0,s.uX)(),(0,s.CE)("div",Vr,[t[12]||(t[12]=(0,s.Fv)('<section class="hero-section" data-v-09080924><div class="hero-content scroll-animate" data-v-09080924><h1 class="hero-title" data-v-09080924>Get in Touch</h1><p class="hero-subtitle" data-v-09080924> We&#39;re here to help. Whether you have a question about a booking, hosting, or just want to say hello, we&#39;d love to hear from you. </p></div></section><section class="contact-info-section" data-v-09080924><h2 class="section-title scroll-animate" data-v-09080924>Contact Information</h2><div class="info-grid" data-v-09080924><div class="info-card scroll-animate" style="--delay:0s;" data-v-09080924><div class="info-icon" data-v-09080924><i class="bi bi-envelope-fill" data-v-09080924></i></div><h3 data-v-09080924>Email Us</h3><p data-v-09080924>For support, press, and all other inquiries.</p><a href="mailto:rentcycleplatform@gmail.com" class="info-link" data-v-09080924>rentcycleplatform@gmail.com</a></div><div class="info-card scroll-animate" style="--delay:0.1s;" data-v-09080924><div class="info-icon" data-v-09080924><i class="bi bi-phone-fill" data-v-09080924></i></div><h3 data-v-09080924>Call Us</h3><p data-v-09080924>Our support team is available 24/7.</p><a href="tel:+639123456789" class="info-link" data-v-09080924>+63 912 345 6789</a></div><div class="info-card scroll-animate" style="--delay:0.2s;" data-v-09080924><div class="info-icon" data-v-09080924><i class="bi bi-geo-alt-fill" data-v-09080924></i></div><h3 data-v-09080924>Our Location</h3><p data-v-09080924>Visit us at our main headquarters.</p><span class="info-link-static" data-v-09080924>Cebu Business Park, Cebu City, PH</span></div></div></section>',2)),(0,s.Lk)("section",Ir,[(0,s.Lk)("div",Fr,[(0,s.Lk)("div",xr,[t[10]||(t[10]=(0,s.Lk)("h3",null,"Send us a Message",-1)),(0,s.Lk)("form",{onSubmit:t[4]||(t[4]=(0,i.D$)((...e)=>r.handleSubmit&&r.handleSubmit(...e),["prevent"]))},[(0,s.Lk)("div",Mr,[t[5]||(t[5]=(0,s.Lk)("label",{for:"name"},"Full Name",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>n.form.name=e),required:"",placeholder:"Your Name"},null,512),[[i.Jo,n.form.name]])]),(0,s.Lk)("div",Tr,[t[6]||(t[6]=(0,s.Lk)("label",{for:"email"},"Email Address",-1)),(0,s.bo)((0,s.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[1]||(t[1]=e=>n.form.email=e),required:"",placeholder:"you@example.com"},null,512),[[i.Jo,n.form.email]])]),(0,s.Lk)("div",Rr,[t[8]||(t[8]=(0,s.Lk)("label",{for:"subject"},"Subject",-1)),(0,s.bo)((0,s.Lk)("select",{id:"subject","onUpdate:modelValue":t[2]||(t[2]=e=>n.form.subject=e),required:""},[...t[7]||(t[7]=[(0,s.Fv)('<option value="" disabled data-v-09080924>Please select a reason...</option><option value="General Inquiry" data-v-09080924>General Inquiry</option><option value="Booking Support" data-v-09080924>Booking Support</option><option value="Host Support" data-v-09080924>Host Support</option><option value="Technical Issue" data-v-09080924>Technical Issue</option>',5)])],512),[[i.u1,n.form.subject]])]),(0,s.Lk)("div",Br,[t[9]||(t[9]=(0,s.Lk)("label",{for:"message"},"Message",-1)),(0,s.bo)((0,s.Lk)("textarea",{id:"message","onUpdate:modelValue":t[3]||(t[3]=e=>n.form.message=e),rows:"6",required:"",placeholder:"Your message..."},null,512),[[i.Jo,n.form.message]])]),n.successMessage?((0,s.uX)(),(0,s.CE)("p",Ur,(0,o.v_)(n.successMessage),1)):(0,s.Q3)("",!0),n.errorMessage?((0,s.uX)(),(0,s.CE)("p",Nr,(0,o.v_)(n.errorMessage),1)):(0,s.Q3)("",!0),(0,s.Lk)("button",{type:"submit",class:"button primary-button",disabled:n.isLoading},[n.isLoading?((0,s.uX)(),(0,s.CE)("span",Or,"Sending...")):((0,s.uX)(),(0,s.CE)("span",qr,"Send Message"))],8,Xr)],32)]),(0,s.Lk)("div",$r,[...t[11]||(t[11]=[(0,s.Lk)("div",{id:"contact-map",class:"map-image"},null,-1)])],512)])]),(0,s.Lk)("section",Qr,[(0,s.bF)(c)])])}var Hr={name:"ContactView",components:{FAQSection:aa},data(){return{observer:null,mapInstance:null,form:{name:"",email:"",subject:"",message:""},isLoading:!1,errorMessage:"",successMessage:""}},methods:{...(0,x.i0)(["sendContactForm"]),async handleSubmit(){this.isLoading=!0,this.errorMessage="",this.successMessage="";try{await this.sendContactForm(this.form),this.successMessage="Thank you! Your message has been sent successfully.",this.form.name="",this.form.email="",this.form.subject="",this.form.message=""}catch(e){this.errorMessage=e.response?.data?.message||"Failed to send message. Please try again."}finally{this.isLoading=!1}},initMap(){const e=10.2595,t=123.9507;"undefined"!==typeof window.L?this.$nextTick(()=>{try{const a=document.getElementById("contact-map");if(!a)return void console.error("Map container #contact-map not found.");if(this.mapInstance)return void this.mapInstance.invalidateSize();this.mapInstance=window.L.map("contact-map").setView([e,t],15),window.L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(this.mapInstance),window.L.marker([e,t]).addTo(this.mapInstance).bindPopup("<b>RentCycle Headquarters</b><br>Poblacion, Cordova, Cebu").openPopup()}catch(a){console.error("Error initializing map:",a)}}):console.error("Leaflet is not loaded.")}},mounted(){const e={root:null,threshold:.2,rootMargin:"0px"};this.observer=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("is-visible"),e.target===this.$refs.mapWrapper&&this.initMap(),this.observer.unobserve(e.target))})},e),this.$nextTick(()=>{const e=this.$el.querySelectorAll(".scroll-animate");e.forEach(e=>{this.observer.observe(e)})})},beforeUnmount(){this.observer&&this.observer.disconnect(),this.mapInstance&&(this.mapInstance.remove(),this.mapInstance=null)}};const jr=(0,B.A)(Hr,[["render",Wr],["__scopeId","data-v-09080924"]]);var Yr=jr;const Kr={class:"how-it-works-page"};function Gr(e,t,a,i,o,l){return(0,s.uX)(),(0,s.CE)("div",Kr,[...t[0]||(t[0]=[(0,s.Fv)('<section class="hero-section" data-v-265e4958><div class="hero-content scroll-animate" data-v-265e4958><h1 class="hero-title" data-v-265e4958>How RentCycle Works</h1><p class="hero-subtitle" data-v-265e4958> Your journey, your way. Here&#39;s how to get started as a renter or a host. </p></div></section><section class="steps-section" data-v-265e4958><h2 class="section-title scroll-animate" data-v-265e4958>For Renters</h2><div class="steps-container" data-v-265e4958><div class="step-row" data-v-265e4958><div class="step-image-wrapper scroll-animate" style="--delay:0s;" data-v-265e4958><img src="https://images.unsplash.com/photo-1622220401564-ca703e7dc1c1?q=80&amp;w=1497&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.1.0&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Discover vehicles" class="step-image" data-v-265e4958></div><div class="step-text-content scroll-animate" style="--delay:0.1s;" data-v-265e4958><div class="step-icon" data-v-265e4958><i class="bi bi-search" data-v-265e4958></i></div><h3 data-v-265e4958>1. Find Your Perfect Ride</h3><p data-v-265e4958>Enter your location and dates to browse a wide selection of cars and motorcycles. Filter by make, price, vehicle type, and more to find exactly what you need for your trip.</p></div></div><div class="step-row reverse" data-v-265e4958><div class="step-image-wrapper scroll-animate" style="--delay:0s;" data-v-265e4958><img src="https://images.unsplash.com/photo-1517223144309-3989f10f97fd?q=80&amp;w=1470&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.1.0&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Book a car" class="step-image" data-v-265e4958></div><div class="step-text-content scroll-animate" style="--delay:0.1s;" data-v-265e4958><div class="step-icon" data-v-265e4958><i class="bi bi-patch-check-fill" data-v-265e4958></i></div><h3 data-v-265e4958>2. Book &amp; Get Verified</h3><p data-v-265e4958>Once you find a vehicle, send a booking request. If you&#39;re a new renter, you&#39;ll need to complete a quick, one-time verification by submitting your driver&#39;s license in your profile to get &quot;Approved to Drive&quot;.</p></div></div><div class="step-row" data-v-265e4958><div class="step-image-wrapper scroll-animate" style="--delay:0s;" data-v-265e4958><img src="https://images.unsplash.com/photo-1667566455648-262db767912b?q=80&amp;w=1457&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.1.0&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Pay for booking" class="step-image" data-v-265e4958></div><div class="step-text-content scroll-animate" style="--delay:0.1s;" data-v-265e4958><div class="step-icon" data-v-265e4958><i class="bi bi-qr-code" data-v-265e4958></i></div><h3 data-v-265e4958>3. Pay &amp; Connect</h3><p data-v-265e4958>After the host approves your request, you&#39;ll pay a 20% downpayment via QR code (like GCash) and submit the reference number. Once the host confirms, your trip is booked! A private chat will open for you to coordinate pickup details.</p></div></div><div class="step-row reverse" data-v-265e4958><div class="step-image-wrapper scroll-animate" style="--delay:0s;" data-v-265e4958><img src="https://images.unsplash.com/photo-1543215144-3d2954c44b20?q=80&amp;w=1470&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.1.0&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Drive a car" class="step-image" data-v-265e4958></div><div class="step-text-content scroll-animate" style="--delay:0.1s;" data-v-265e4958><div class="step-icon" data-v-265e4958><i class="bi bi-star-fill" data-v-265e4958></i></div><h3 data-v-265e4958>4. Drive &amp; Review</h3><p data-v-265e4958>Meet your host to pick up the keys (or follow their check-in instructions) and enjoy your trip! When you return the vehicle, the host will mark the trip as &quot;Returned.&quot; You&#39;ll then be able to leave a review about your experience with the host and the vehicle.</p></div></div></div></section><section class="steps-section alternate-bg" data-v-265e4958><h2 class="section-title scroll-animate" data-v-265e4958>For Hosts</h2><div class="steps-container" data-v-265e4958><div class="step-row" data-v-265e4958><div class="step-image-wrapper scroll-animate" style="--delay:0s;" data-v-265e4958><img src="https://images.unsplash.com/photo-1635322039171-4b9f2e0d5337?q=80&amp;w=1074&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.1.0&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="List your vehicle" class="step-image" data-v-265e4958></div><div class="step-text-content scroll-animate" style="--delay:0.1s;" data-v-265e4958><div class="step-icon" data-v-265e4958><i class="bi bi-file-earmark-plus-fill" data-v-265e4958></i></div><h3 data-v-265e4958>1. List Your Asset</h3><p data-v-265e4958>Earn extra income from your car or motorcycle. First, get verified as a host. Then, use our easy-to-use form to add photos, set your daily price, block unavailable dates, and list your vehicle in minutes.</p></div></div><div class="step-row reverse" data-v-265e4958><div class="step-image-wrapper scroll-animate" style="--delay:0s;" data-v-265e4958><img src="https://plus.unsplash.com/premium_photo-1661549683908-b11e9855c469?q=80&amp;w=1471&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.1.0&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Approve requests" class="step-image" data-v-265e4958></div><div class="step-text-content scroll-animate" style="--delay:0.1s;" data-v-265e4958><div class="step-icon" data-v-265e4958><i class="bi bi-check2-circle" data-v-265e4958></i></div><h3 data-v-265e4958>2. Approve &amp; Verify</h3><p data-v-265e4958>You&#39;ll receive notifications for new booking requests. You have full control to approve or decline any request. Once you approve, the renter will pay their downpayment. You just need to verify you&#39;ve received it in your bank app.</p></div></div><div class="step-row" data-v-265e4958><div class="step-image-wrapper scroll-animate" style="--delay:0s;" data-v-265e4958><img src="https://plus.unsplash.com/premium_photo-1681051092990-a4ae89d32557?q=80&amp;w=1074&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.1.0&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Earn money" class="step-image" data-v-265e4958></div><div class="step-text-content scroll-animate" style="--delay:0.1s;" data-v-265e4958><div class="step-icon" data-v-265e4958><i class="bi bi-cash-stack" data-v-265e4958></i></div><h3 data-v-265e4958>3. Meet &amp; Earn</h3><p data-v-265e4958>Use the private chat to coordinate pickup with your renter. Collect the remaining 80% balance (and any security deposit) in person. When the trip is over and the vehicle is back, simply mark the booking as &quot;Returned.&quot;</p></div></div></div></section><section class="trust-section" data-v-265e4958><h2 class="section-title scroll-animate" data-v-265e4958>Trust &amp; Safety</h2><div class="trust-content" data-v-265e4958><div class="trust-card scroll-animate" style="--delay:0s;" data-v-265e4958><div class="info-icon" data-v-265e4958><i class="bi bi-shield-check" data-v-265e4958></i></div><h3 data-v-265e4958>Verified Users</h3><p data-v-265e4958>All renters must be &quot;Approved to Drive,&quot; and all hosts are verified before they can list. We ensure everyone is who they say they are.</p></div><div class="trust-card scroll-animate" style="--delay:0.1s;" data-v-265e4958><div class="info-icon" data-v-265e4958><i class="bi bi-shield-lock-fill" data-v-265e4958></i></div><h3 data-v-265e4958>Secure Payments</h3><p data-v-265e4958>Our 2-step payment process ensures you never give your vehicle keys without a confirmed downpayment, and renters never pay in full until they meet you.</p></div><div class="trust-card scroll-animate" style="--delay:0.2s;" data-v-265e4958><div class="info-icon" data-v-265e4958><i class="bi bi-journal-check" data-v-265e4958></i></div><h3 data-v-265e4958>Rental Contracts</h3><p data-v-265e4958>Every confirmed booking generates a downloadable rental agreement. We provide this to protect both the host and the renter for every single trip.</p></div></div></section>',4)])])}var Jr={name:"HowItWorksView",data(){return{observer:null}},mounted(){const e={root:null,threshold:.2,rootMargin:"0px"};this.observer=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("is-visible"),this.observer.unobserve(e.target))})},e),this.$nextTick(()=>{const e=this.$el.querySelectorAll(".scroll-animate");e.forEach(e=>{this.observer.observe(e)})})},beforeUnmount(){this.observer&&this.observer.disconnect()}};const zr=(0,B.A)(Jr,[["render",Gr],["__scopeId","data-v-265e4958"]]);var Zr=zr;const ec={class:"careers-page"};function tc(e,t,a,i,o,l){return(0,s.uX)(),(0,s.CE)("div",ec,[...t[0]||(t[0]=[(0,s.Fv)('<section class="hero-section" data-v-2f1c7688><div class="hero-content scroll-animate" data-v-2f1c7688><h1 class="hero-title" data-v-2f1c7688>Join Our Mission</h1><p class="hero-subtitle" data-v-2f1c7688> We&#39;re building the future of shared mobility in the Philippines. Join our passionate team and help us create a community built on trust, convenience, and adventure. </p></div></section><section class="values-section" data-v-2f1c7688><h2 class="section-title scroll-animate" data-v-2f1c7688>Why You&#39;ll Love Working Here</h2><div class="values-content" data-v-2f1c7688><div class="value-card scroll-animate" style="--delay:0s;" data-v-2f1c7688><div class="info-icon" data-v-2f1c7688><i class="bi bi-people-fill" data-v-2f1c7688></i></div><h3 data-v-2f1c7688>Community First</h3><p data-v-2f1c7688>We&#39;re not just a platform; we&#39;re a community. Every decision we make is to support our hosts and renters.</p></div><div class="value-card scroll-animate" style="--delay:0.1s;" data-v-2f1c7688><div class="info-icon" data-v-2f1c7688><i class="bi bi-lightbulb-fill" data-v-2f1c7688></i></div><h3 data-v-2f1c7688>Drive Innovation</h3><p data-v-2f1c7688>From secure payments to real-time chat, we are constantly building new tools to make sharing simple and safe.</p></div><div class="value-card scroll-animate" style="--delay:0.2s;" data-v-2f1c7688><div class="info-icon" data-v-2f1c7688><i class="bi bi-shield-check" data-v-2f1c7688></i></div><h3 data-v-2f1c7688>Act with Integrity</h3><p data-v-2f1c7688>Trust is our currency. We operate with transparency and a strong commitment to the safety of our users.</p></div></div></section><section class="perks-section alternate-bg" data-v-2f1c7688><div class="perks-container" data-v-2f1c7688><div class="step-row" data-v-2f1c7688><div class="step-image-wrapper scroll-animate" style="--delay:0s;" data-v-2f1c7688><img src="https://images.unsplash.com/photo-1516321497487-e288fb19713f?q=80&amp;w=1200" alt="Flexible Work" class="step-image" data-v-2f1c7688></div><div class="step-text-content scroll-animate" style="--delay:0.1s;" data-v-2f1c7688><div class="step-icon" data-v-2f1c7688><i class="bi bi-laptop" data-v-2f1c7688></i></div><h3 data-v-2f1c7688>Work Your Way</h3><p data-v-2f1c7688>We believe in work-life balance. Enjoy flexible working hours and remote-friendly policies that let you do your best work from anywhere.</p></div></div><div class="step-row reverse" data-v-2f1c7688><div class="step-image-wrapper scroll-animate" style="--delay:0s;" data-v-2f1c7688><img src="https://images.unsplash.com/photo-1552664730-d307ca884978?q=80&amp;w=1200" alt="Team Growth" class="step-image" data-v-2f1c7688></div><div class="step-text-content scroll-animate" style="--delay:0.1s;" data-v-2f1c7688><div class="step-icon" data-v-2f1c7688><i class="bi bi-graph-up-arrow" data-v-2f1c7688></i></div><h3 data-v-2f1c7688>Grow With Us</h3><p data-v-2f1c7688>Join a fast-growing startup where you can make a real impact. We&#39;re committed to your professional development and provide opportunities to learn and lead.</p></div></div></div></section><section class="openings-section" data-v-2f1c7688><h2 class="section-title scroll-animate" data-v-2f1c7688>Current Openings</h2><div class="job-listings-container scroll-animate" data-v-2f1c7688><div class="department-group" data-v-2f1c7688><h3 class="department-title" data-v-2f1c7688>Engineering</h3><div class="job-card" data-v-2f1c7688><div class="job-info" data-v-2f1c7688><h4 class="job-title" data-v-2f1c7688>Senior Frontend Engineer (Vue.js)</h4><span class="job-location" data-v-2f1c7688>Cebu City, PH / Remote</span></div><a href="mailto:careers@rentcycle.com?subject=Application: Senior Frontend Engineer" class="button primary-button" data-v-2f1c7688>Apply Now</a></div><div class="job-card" data-v-2f1c7688><div class="job-info" data-v-2f1c7688><h4 class="job-title" data-v-2f1c7688>Backend Engineer (Node.js &amp; Firebase)</h4><span class="job-location" data-v-2f1c7688>Cebu City, PH / Remote</span></div><a href="mailto:careers@rentcycle.com?subject=Application: Backend Engineer" class="button primary-button" data-v-2f1c7688>Apply Now</a></div></div><div class="department-group" data-v-2f1c7688><h3 class="department-title" data-v-2f1c7688>Support</h3><div class="job-card" data-v-2f1c7688><div class="job-info" data-v-2f1c7688><h4 class="job-title" data-v-2f1c7688>Community Support Specialist</h4><span class="job-location" data-v-2f1c7688>Cebu City, PH</span></div><a href="mailto:careers@rentcycle.com?subject=Application: Support Specialist" class="button primary-button" data-v-2f1c7688>Apply Now</a></div></div><div class="no-role-card" data-v-2f1c7688><h4 data-v-2f1c7688>Don&#39;t see your role?</h4><p data-v-2f1c7688>We&#39;re always looking for talented people. Send us your resume and tell us why you&#39;d be a great fit.</p><a href="mailto:careers@rentcycle.com?subject=Future Opportunity" class="button secondary-button" data-v-2f1c7688>Get in Touch</a></div></div></section>',4)])])}var ac={name:"CareersView",data(){return{observer:null}},mounted(){const e={root:null,threshold:.1,rootMargin:"0px"};this.observer=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("is-visible"),this.observer.unobserve(e.target))})},e),this.$nextTick(()=>{const e=this.$el.querySelectorAll(".scroll-animate");e.forEach(e=>{this.observer.observe(e)})})},beforeUnmount(){this.observer&&this.observer.disconnect()}};const ic=(0,B.A)(ac,[["render",tc],["__scopeId","data-v-2f1c7688"]]);var sc=ic;const oc={class:"blog-page"},lc={class:"featured-post-section"},nc={class:"featured-post-card scroll-animate"},rc={class:"featured-image-wrapper"},cc=["src","alt"],dc={class:"featured-content"},uc={class:"post-category"},pc={class:"post-title"},hc={class:"post-excerpt"},mc={class:"recent-posts-section"},vc={class:"posts-grid"};function kc(e,t,a,i,l,n){const r=(0,s.g2)("router-link"),c=(0,s.g2)("BlogPostCard");return(0,s.uX)(),(0,s.CE)("div",oc,[t[3]||(t[3]=(0,s.Lk)("section",{class:"hero-section"},[(0,s.Lk)("div",{class:"hero-content scroll-animate"},[(0,s.Lk)("h1",{class:"hero-title"},"The RentCycle Blog"),(0,s.Lk)("p",{class:"hero-subtitle"}," Your source for travel tips, hosting guides, and community stories. ")])],-1)),(0,s.Lk)("section",lc,[t[1]||(t[1]=(0,s.Lk)("h2",{class:"section-title scroll-animate"},"Featured Post",-1)),(0,s.Lk)("div",nc,[(0,s.Lk)("div",rc,[(0,s.Lk)("img",{src:l.featuredPost.imageUrl,alt:l.featuredPost.title,class:"featured-image"},null,8,cc)]),(0,s.Lk)("div",dc,[(0,s.Lk)("span",uc,(0,o.v_)(l.featuredPost.category),1),(0,s.Lk)("h3",pc,(0,o.v_)(l.featuredPost.title),1),(0,s.Lk)("p",hc,(0,o.v_)(l.featuredPost.excerpt),1),(0,s.bF)(r,{to:l.featuredPost.route,class:"button primary-button"},{default:(0,s.k6)(()=>[...t[0]||(t[0]=[(0,s.eW)(" Read More ",-1),(0,s.Lk)("i",{class:"bi bi-arrow-right-short"},null,-1)])]),_:1},8,["to"])])])]),(0,s.Lk)("section",mc,[t[2]||(t[2]=(0,s.Lk)("h2",{class:"section-title scroll-animate"},"Recent Posts",-1)),(0,s.Lk)("div",vc,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.recentPosts,(e,t)=>((0,s.uX)(),(0,s.Wv)(c,{key:e.id,post:e,class:"scroll-animate",style:(0,o.Tr)({"--delay":.1*t+"s"})},null,8,["post","style"]))),128))])])])}const gc={class:"card-image-wrapper"},fc=["src","alt"],yc={class:"card-content"},bc={class:"post-category"},Lc={class:"post-title"},wc={class:"post-excerpt"};function Cc(e,t,a,i,l,n){const r=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.Wv)(r,{to:a.post.route,class:"blog-post-card"},{default:(0,s.k6)(()=>[(0,s.Lk)("div",gc,[(0,s.Lk)("img",{src:a.post.imageUrl,alt:a.post.title,class:"card-image"},null,8,fc)]),(0,s.Lk)("div",yc,[(0,s.Lk)("span",bc,(0,o.v_)(a.post.category),1),(0,s.Lk)("h4",Lc,(0,o.v_)(a.post.title),1),(0,s.Lk)("p",wc,(0,o.v_)(a.post.excerpt),1),t[0]||(t[0]=(0,s.Lk)("div",{class:"card-footer"},[(0,s.Lk)("span",null,"Read More"),(0,s.Lk)("i",{class:"bi bi-arrow-right-short"})],-1))])]),_:1},8,["to"])}var Sc={name:"BlogPostCard",props:{post:{type:Object,required:!0}}};const Pc=(0,B.A)(Sc,[["render",Cc],["__scopeId","data-v-404bf888"]]);var Ec=Pc;const Dc="\n<p>Peer-to-peer vehicle sharing is a fantastic way to get around, offering more flexibility and variety than traditional rental agencies. At RentCycle, your safety is our top priority. Here are five essential tips to ensure your first rental is smooth, secure, and stress-free.</p>\n\n<h3>1. Complete Your Verification Early</h3>\n<p>Before you can even send a booking request, you'll need to get \"Approved to Drive.\" You can do this from your profile settings. This one-time process involves submitting your driver's license and a quick identity check. Completing this early means you can book any vehicle you want, whenever you want, without delay. It also builds trust with hosts, as they know every renter on our platform is verified.</p>\n\n<h3>2. Do a Pre-Trip Walkaround</h3>\n<p>When you meet the host to pick up the vehicle, don't just grab the keys and go. Take two minutes to walk around the car or motorcycle *with the host*. Note any existing scratches, dings, or scuffs. We highly recommend taking a few quick photos or a short video with your phone. This simple step protects you from any potential disputes about damages that were already there before your trip began.</p>\n\n<h3>3. Use the Secure Payment System</h3>\n<p>Never pay for a booking outside of the RentCycle platform. Our system is designed to protect both you and the host. You will only pay a 20% downpayment via a secure QR code (like GCash) to confirm your booking. The remaining 80% is paid in cash (or as agreed with the host) upon pickup. This prevents fraud and ensures you only pay in full once you've seen the vehicle and met the host.</p>\n\n<h3>4. Keep All Communication in the App</h3>\n<p>Once your booking is confirmed, a private chat will open between you and the host. Use this chat for all communication, including coordinating pickup times, drop-off locations, or asking any questions. This creates a clear, written record of your conversation, which our support team can refer to if any issues or misunderstandings arise.</p>\n\n<h3>5. Download and Read Your Rental Contract</h3>\n<p>Every confirmed trip on RentCycle generates a downloadable PDF rental agreement, which you can find in your booking details. This isn't just a formality—it's your protection. It outlines your responsibilities, the host's responsibilities, and key details about fuel policy, damages, and late returns. Knowing what's in your contract is the best way to ensure a smooth trip.</p>\n\n<h3>Bonus Tip: Drive Safe!</h3>\n<p>This one is simple: obey local traffic laws, be courteous, and treat the vehicle with respect. A great rental experience leads to a great review, which makes it even easier to book amazing vehicles in the future. Enjoy your trip!</p>\n",Ac="\n<p>Is your car or motorcycle sitting in the garage all week? What if it could be earning you money instead of just collecting dust? Welcome to the world of peer-to-peer vehicle sharing. At RentCycle, we make it simple and secure for you to turn your idle asset into a reliable source of passive income. Here’s how.</p>\n\n<h3>1. Listing is Fast, Easy, and Free</h3>\n<p>Forget complicated setups. Our step-by-step listing form guides you through the entire process. You'll add key details (like make, model, and year), write a catchy description, upload your photos, and set your location. You can have your vehicle listed and ready for renters in under 15 minutes.</p>\n\n<h3>2. You Are Always in Control</h3>\n<p>Listing your vehicle doesn't mean you lose control of it. You set the rules. Our platform allows you to:</p>\n<ul>\n  <li><b>Set Your Price:</b> You decide the perfect daily rate for your vehicle.</li>\n  <li><b>Block Your Calendar:</b> Need your car for the weekend? Simply block those dates. Your vehicle is only available when you say it is.</li>\n  <li><b>Approve Renters:</b> You get to approve or decline every single booking request. You can check a renter's profile, verification status, and reviews before you accept a trip.</li>\n</ul>\n\n<h3>3. Secure Payments, Guaranteed</h3>\n<p>Worried about no-shows or payment fraud? We've solved that. Our 2-step payment system ensures you're protected. A renter must pay a 20% downpayment via QR code to secure their booking. You get to verify that you've received this payment *before* the trip is finalized and before you hand over the keys. The renter then pays you the 80% balance in cash upon pickup. It's a secure process that guarantees you get paid.</p>\n\n<h3>4. We've Got Your Back with Trust & Safety</h3>\n<p>Your peace of mind is our priority. We don't let just anyone rent your vehicle. Every renter on our platform must be \"Approved to Drive\" by submitting their driver's license for verification. Furthermore, every confirmed trip is covered by a downloadable rental contract that protects both you and the renter, outlining responsibilities for everything from fuel to damages.</p>\n\n<h3>Ready to Start Earning?</h3>\n<p>Don't let your vehicle just sit there. Join our community of hosts today and turn your asset into an income stream. Head to your profile, start your host application, and get your first listing online!</p>\n",_c="\n<p>Cebu is an adventurer's paradise, and there’s no better way to explore its stunning landscapes than on two wheels. The freedom of a motorcycle allows you to navigate winding mountain roads and find hidden beaches. Here are our top 5 weekend road trips, all starting from Cebu City.</p>\n\n<h3>1. The Transcentral Highway (TCH) to Balamban</h3>\n<p>This is the classic Cebu ride for a reason. Just minutes from the city, the TCH takes you up into the cool mountain air. The road is a thrilling series of twists and turns with breathtaking views of Cebu City on one side and the mountains on the other. Stop at \"Top of Cebu\" for a meal with a view, or explore the various flower gardens like Sirao Garden and Buwakan ni Alejandra. It's the perfect day trip to escape the heat.</p>\n\n<h3>2. Moalboal & the Sardine Run</h3>\n<p>Head south for about 2-3 hours to the diving hub of Moalboal. Park your bike and you're just a few steps from the shore, where you can snorkel with the world-famous \"sardine run\"—a massive school of millions of sardines. The coastal ride down is beautiful, and the underwater sights are unforgettable. For more adventure, head a few minutes further to Badian for canyoneering at Kawasan Falls.</p>\n\n<h3>3. Oslob for Whale Sharks & Waterfalls</h3>\n<p>For a longer journey, ride to the southern tip of the island. Oslob is famous for its whale shark encounters. After your morning swim, hop back on your bike and visit the stunning, multi-tiered Tumalog Falls. The roads are well-paved, and the entire southern coast is dotted with historic churches and beautiful sea views. On your way back, don't miss a stop at the magnificent Simala Shrine.</p>\n\n<h3>4. Bantayan Island: A Slice of Paradise</h3>\n<p>If you have a full weekend, ride north (approx. 3-4 hours) to Hagnaya Port and take the RORO ferry to Bantayan Island. You can bring your motorcycle on the ferry! Bantayan is famous for its pristine white-sand beaches, crystal-clear water, and laid-back island vibe. It's the ultimate escape, and having your own bike makes exploring the island's hidden spots a breeze.</p>\n\n<h3>5. Aloguinsan & the Bojo River Cruise</h3>\n<p>For a unique eco-tourism experience, head southwest to Aloguinsan. The main attraction is the Bojo River Cruise, a community-run river tour through a stunning, protected mangrove forest that opens up to the sea. The ride there takes you through beautiful rural landscapes, offering a peaceful glimpse into Cebu's natural wonders.</p>\n\n<h3>Find Your Ride</h3>\n<p>Don't have your own motorcycle? No problem. Open the RentCycle app, filter for \"Motorcycles,\" and find the perfect ride for your next adventure. Grab your helmet and go!</p>\n",Vc=[{id:1,slug:"5-safety-tips-for-peer-to-peer-rental",title:"5 Safety Tips for Your First Peer-to-Peer Rental",category:"Trust & Safety",excerpt:"Renting from a local host is convenient and affordable. Here are 5 simple steps to ensure your first trip is safe, smooth, and worry-free.",imageUrl:"https://images.unsplash.com/photo-1547306220-c0ab7aba52b1?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",date:"November 18, 2025",author:"RentCycle Team",content:Dc,route:{name:"BlogPostDetail",params:{slug:"5-safety-tips-for-peer-to-peer-rental"}}},{id:2,slug:"how-to-earn-passive-income-with-your-car",title:"How to Earn Passive Income by Hosting Your Car on RentCycle",category:"Hosting 101",excerpt:"Your car could be earning you money right now. We break down the simple process of listing your vehicle and turning your asset into a profitable side-hustle.",imageUrl:"https://images.unsplash.com/photo-1616422285623-13ff0162193c?q=80&w=1200",date:"November 15, 2025",author:"Alex Johnson",content:Ac,route:{name:"BlogPostDetail",params:{slug:"how-to-earn-passive-income-with-your-car"}}},{id:3,slug:"top-5-motorcycle-road-trips-from-cebu",title:"Top 5 Weekend Road Trips from Cebu on a Motorcycle",category:"Travel Guides",excerpt:"Escape the city! We've picked the top 5 motorcycle-friendly destinations just a few hours from Cebu. Grab your helmet, book a bike, and hit the road.",imageUrl:"https://images.unsplash.com/photo-1558981806-ec527fa84c39?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",date:"November 12, 2025",author:"Maria Garcia",content:_c,route:{name:"BlogPostDetail",params:{slug:"top-5-motorcycle-road-trips-from-cebu"}}}];var Ic={name:"BlogView",components:{BlogPostCard:Ec},data(){return{observer:null,featuredPost:Vc[0],recentPosts:Vc.slice(1)}},mounted(){const e={root:null,threshold:.1,rootMargin:"0px 0px -50px 0px"};this.observer=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("is-visible"),this.observer.unobserve(e.target))})},e),this.$nextTick(()=>{const e=this.$el.querySelectorAll(".scroll-animate");e.forEach(e=>{this.observer.observe(e)})})},beforeUnmount(){this.observer&&this.observer.disconnect()}};const Fc=(0,B.A)(Ic,[["render",kc],["__scopeId","data-v-5186fc80"]]);var xc=Fc;const Mc={class:"post-detail-page"},Tc={key:0,class:"post-container"},Rc={class:"post-header scroll-animate"},Bc={class:"post-category"},Uc={class:"post-title"},Nc={class:"post-meta"},Xc={class:"hero-image-wrapper scroll-animate",style:{"--delay":"0.1s"}},Oc=["src","alt"],qc=["innerHTML"],$c={class:"post-footer scroll-animate"},Qc={key:1,class:"loading-state"};function Wc(e,t,a,i,l,n){const r=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",Mc,[l.post?((0,s.uX)(),(0,s.CE)("div",Tc,[(0,s.Lk)("header",Rc,[(0,s.Lk)("span",Bc,(0,o.v_)(l.post.category),1),(0,s.Lk)("h1",Uc,(0,o.v_)(l.post.title),1),(0,s.Lk)("div",Nc,[(0,s.Lk)("span",null,"By "+(0,o.v_)(l.post.author),1),t[0]||(t[0]=(0,s.Lk)("span",null,"•",-1)),(0,s.Lk)("span",null,(0,o.v_)(l.post.date),1)])]),(0,s.Lk)("div",Xc,[(0,s.Lk)("img",{src:l.post.imageUrl,alt:l.post.title,class:"hero-image"},null,8,Oc)]),(0,s.Lk)("article",{class:"post-content scroll-animate",style:{"--delay":"0.2s"},innerHTML:l.post.content},null,8,qc),(0,s.Lk)("div",$c,[(0,s.bF)(r,{to:"/blog",class:"button secondary-button"},{default:(0,s.k6)(()=>[...t[1]||(t[1]=[(0,s.Lk)("i",{class:"bi bi-arrow-left-short"},null,-1),(0,s.eW)(" Back to All Posts ",-1)])]),_:1})])])):((0,s.uX)(),(0,s.CE)("div",Qc,[...t[2]||(t[2]=[(0,s.Lk)("p",null,"Loading post...",-1)])]))])}var Hc={name:"BlogPostDetailView",props:{slug:{type:String,required:!0}},data(){return{post:null,observer:null}},methods:{fetchPost(){this.post=Vc.find(e=>e.slug===this.slug)||null},setupScrollAnimations(){const e={root:null,threshold:.1,rootMargin:"0px 0px -50px 0px"};this.observer=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("is-visible"),this.observer.unobserve(e.target))})},e),this.$nextTick(()=>{const e=this.$el.querySelectorAll(".scroll-animate");e.forEach(e=>{this.observer.observe(e)})})}},created(){this.fetchPost()},mounted(){this.post&&this.setupScrollAnimations()},beforeUnmount(){this.observer&&this.observer.disconnect()},watch:{slug(e){this.fetchPost(),this.$nextTick(()=>this.setupScrollAnimations())}}};const jc=(0,B.A)(Hc,[["render",Wc],["__scopeId","data-v-6f9b5692"]]);var Yc=jc;const Kc={class:"faq-page"},Gc={class:"faq-content-section scroll-animate"},Jc={class:"faq-list"},zc=["onClick"],Zc={class:"faq-question"},ed={class:"faq-answer"},td={class:"faq-content-section alternate-bg scroll-animate"},ad={class:"faq-list"},id=["onClick"],sd={class:"faq-question"},od={class:"faq-answer"},ld={class:"faq-content-section scroll-animate"},nd={class:"faq-list"},rd=["onClick"],cd={class:"faq-question"},dd={class:"faq-answer"},ud={class:"cta-section scroll-animate"};function pd(e,t,a,i,l,n){const r=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",Kc,[t[9]||(t[9]=(0,s.Lk)("section",{class:"hero-section"},[(0,s.Lk)("div",{class:"hero-content scroll-animate"},[(0,s.Lk)("h1",{class:"hero-title"},"Frequently Asked Questions"),(0,s.Lk)("p",{class:"hero-subtitle"}," Have a question? We've got answers. Find help for common topics below. ")])],-1)),(0,s.Lk)("section",Gc,[t[1]||(t[1]=(0,s.Lk)("h2",{class:"section-title"},"For Renters",-1)),(0,s.Lk)("div",Jc,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.renterFAQs,(e,a)=>((0,s.uX)(),(0,s.CE)("div",{key:`renter-${a}`,class:"faq-item"},[(0,s.Lk)("div",{class:"faq-question-bar",onClick:e=>n.toggleAnswer("renter",a)},[(0,s.Lk)("h3",Zc,(0,o.v_)(e.question),1),(0,s.Lk)("span",{class:(0,o.C4)(["faq-icon",{rotated:l.activeRenterIndex===a}])},[...t[0]||(t[0]=[(0,s.Lk)("i",{class:"bi bi-chevron-down"},null,-1)])],2)],8,zc),(0,s.Lk)("div",{class:(0,o.C4)(["faq-answer-container",{open:l.activeRenterIndex===a}])},[(0,s.Lk)("p",ed,(0,o.v_)(e.answer),1)],2)]))),128))])]),(0,s.Lk)("section",td,[t[3]||(t[3]=(0,s.Lk)("h2",{class:"section-title"},"For Hosts",-1)),(0,s.Lk)("div",ad,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.hostFAQs,(e,a)=>((0,s.uX)(),(0,s.CE)("div",{key:`host-${a}`,class:"faq-item"},[(0,s.Lk)("div",{class:"faq-question-bar",onClick:e=>n.toggleAnswer("host",a)},[(0,s.Lk)("h3",sd,(0,o.v_)(e.question),1),(0,s.Lk)("span",{class:(0,o.C4)(["faq-icon",{rotated:l.activeHostIndex===a}])},[...t[2]||(t[2]=[(0,s.Lk)("i",{class:"bi bi-chevron-down"},null,-1)])],2)],8,id),(0,s.Lk)("div",{class:(0,o.C4)(["faq-answer-container",{open:l.activeHostIndex===a}])},[(0,s.Lk)("p",od,(0,o.v_)(e.answer),1)],2)]))),128))])]),(0,s.Lk)("section",ld,[t[5]||(t[5]=(0,s.Lk)("h2",{class:"section-title"},"Trust, Safety & Payments",-1)),(0,s.Lk)("div",nd,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.safetyFAQs,(e,a)=>((0,s.uX)(),(0,s.CE)("div",{key:`safety-${a}`,class:"faq-item"},[(0,s.Lk)("div",{class:"faq-question-bar",onClick:e=>n.toggleAnswer("safety",a)},[(0,s.Lk)("h3",cd,(0,o.v_)(e.question),1),(0,s.Lk)("span",{class:(0,o.C4)(["faq-icon",{rotated:l.activeSafetyIndex===a}])},[...t[4]||(t[4]=[(0,s.Lk)("i",{class:"bi bi-chevron-down"},null,-1)])],2)],8,rd),(0,s.Lk)("div",{class:(0,o.C4)(["faq-answer-container",{open:l.activeSafetyIndex===a}])},[(0,s.Lk)("p",dd,(0,o.v_)(e.answer),1)],2)]))),128))])]),(0,s.Lk)("section",ud,[t[7]||(t[7]=(0,s.Lk)("h2",null,"Still have questions?",-1)),t[8]||(t[8]=(0,s.Lk)("p",null,"Our support team is ready to help you with any issue.",-1)),(0,s.bF)(r,{to:"/contact",class:"button primary-button"},{default:(0,s.k6)(()=>[...t[6]||(t[6]=[(0,s.eW)("Contact Support",-1)])]),_:1})])])}var hd={name:"FAQView",data(){return{observer:null,activeRenterIndex:null,activeHostIndex:null,activeSafetyIndex:null,renterFAQs:[{question:"What is the booking process?",answer:"It's simple! 1. Find a vehicle and request to book. 2. The host will approve or decline your request. 3. If approved, you pay the 20% downpayment via QR code and submit the reference number. 4. The host confirms your payment, and your booking is secured!"},{question:"What verification do I need to rent?",answer:"To rent any vehicle, you must have a verified account. This includes verifying your email and phone number, and submitting an 'Approved to Drive' application (with your driver's license) from your profile settings. You only need to do this once."},{question:"How do I contact the vehicle host?",answer:"Once your booking is fully confirmed (after the host verifies your downpayment), a private chat room will be automatically created for you and the host in your 'Inbox'. You can use this chat to coordinate all pickup and drop-off details."},{question:"How do I extend my trip?",answer:"To extend your trip, please contact the host directly through your booking's chat. They will coordinate with you on availability and any additional payment required."},{question:"What if I'm a little late returning the vehicle?",answer:"We offer a 3-hour grace period for unexpected delays, but please inform your host as a courtesy. If you are more than 3 hours late without an approved extension, your booking status will be updated and additional fees may apply as per the rental contract."}],hostFAQs:[{question:"How do I list my own car or motorcycle?",answer:"We'd love to have you! First, make sure you are 'Approved to Drive'. Then, you can 'Become a Host' from your user menu (click your profile icon). After your host application is approved, you'll get access to the owner dashboard to list your assets."},{question:"How do I get paid?",answer:"You get paid in two parts. First, the renter pays a 20% downpayment directly to you via your uploaded QR code (e.g., GCash). You must verify this payment to confirm the booking. The remaining 80% is paid by the renter directly to you (typically in cash) upon vehicle pickup."},{question:"How do I manage my vehicle's availability?",answer:"From your 'My Listings' dashboard, you can edit your vehicle and go to the 'Availability' section. You can block any date ranges where your vehicle is not available (e.g., for personal use or maintenance). These dates will automatically be made unbookable by renters."},{question:"Can I reply to reviews?",answer:'Yes! We encourage you to reply to reviews. On your public profile page, you will see all the reviews left for you. As the owner of the profile, you will see a "Reply" button under each review that does not have a response yet.'}],safetyFAQs:[{question:"How are payments secured?",answer:"Our 2-step payment system protects both parties. The renter pays a 20% downpayment to secure the booking, which you confirm. The final 80% is paid upon meetup. This ensures the renter is serious, and you (the host) are guaranteed your booking deposit."},{question:"What is the cancellation policy?",answer:"A renter can cancel for a full refund at any time *before* the host has approved their request or *before* they have submitted their downpayment. Once a booking is confirmed, cancellations must be coordinated directly with the host."},{question:"Is insurance included?",answer:"Basic liability coverage is typically provided by the host as part of their vehicle's registration. We strongly recommend renters have their own comprehensive insurance. All parties are responsible for any damages as outlined in the downloadable rental contract."},{question:"What is the Rental Contract?",answer:"For every confirmed booking, RentCycle automatically generates a downloadable PDF/TXT rental agreement. This legal document outlines the terms, vehicle condition, and responsibilities of both the host and the renter, protecting both parties."}]}},methods:{toggleAnswer(e,t){"renter"===e?this.activeRenterIndex=this.activeRenterIndex===t?null:t:"host"===e?this.activeHostIndex=this.activeHostIndex===t?null:t:"safety"===e&&(this.activeSafetyIndex=this.activeSafetyIndex===t?null:t)}},mounted(){const e={root:null,threshold:.1,rootMargin:"0px 0px -50px 0px"};this.observer=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("is-visible"),this.observer.unobserve(e.target))})},e),this.$nextTick(()=>{const e=this.$el.querySelectorAll(".scroll-animate");e.forEach(e=>{this.observer.observe(e)})})},beforeUnmount(){this.observer&&this.observer.disconnect()}};const md=(0,B.A)(hd,[["render",pd],["__scopeId","data-v-3342e6f1"]]);var vd=md;const kd={class:"hosting-guide-page"},gd={class:"hero-section"},fd={class:"hero-content scroll-animate"},yd={class:"cta-section alternate-bg scroll-animate"};function bd(e,t,a,i,o,l){const n=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",kd,[(0,s.Lk)("section",gd,[(0,s.Lk)("div",fd,[t[1]||(t[1]=(0,s.Lk)("h1",{class:"hero-title"},"Become a RentCycle Host",-1)),t[2]||(t[2]=(0,s.Lk)("p",{class:"hero-subtitle"}," Turn your car or motorcycle into a second income. Join our community of hosts and start earning today. ",-1)),(0,s.bF)(n,{to:"/become-a-host",class:"button primary-button hero-cta"},{default:(0,s.k6)(()=>[...t[0]||(t[0]=[(0,s.eW)("Start Listing",-1)])]),_:1})])]),t[6]||(t[6]=(0,s.Fv)('<section class="why-host-section" data-v-98437bb8><h2 class="section-title scroll-animate" data-v-98437bb8>Why Host on RentCycle?</h2><div class="benefits-grid" data-v-98437bb8><div class="benefit-card scroll-animate" style="--delay:0s;" data-v-98437bb8><div class="info-icon" data-v-98437bb8><i class="bi bi-cash-coin" data-v-98437bb8></i></div><h3 data-v-98437bb8>Earn Extra Income</h3><p data-v-98437bb8>Offset your vehicle ownership costs. Your car can pay for its own maintenance, insurance, and parking.</p></div><div class="benefit-card scroll-animate" style="--delay:0.1s;" data-v-98437bb8><div class="info-icon" data-v-98437bb8><i class="bi bi-calendar2-check-fill" data-v-98437bb8></i></div><h3 data-v-98437bb8>Total Flexibility</h3><p data-v-98437bb8>You&#39;re the boss. You decide the price, the availability, and who gets to rent your vehicle.</p></div><div class="benefit-card scroll-animate" style="--delay:0.2s;" data-v-98437bb8><div class="info-icon" data-v-98437bb8><i class="bi bi-people-fill" data-v-98437bb8></i></div><h3 data-v-98437bb8>Trusted Community</h3><p data-v-98437bb8>We verify every renter before they can book. Plus, our ratings and review system keeps everyone accountable.</p></div></div></section><section class="guide-section alternate-bg" data-v-98437bb8><h2 class="section-title scroll-animate" data-v-98437bb8>Your Journey to Hosting</h2><div class="guide-steps" data-v-98437bb8><div class="step-row" data-v-98437bb8><div class="step-image-wrapper scroll-animate" data-v-98437bb8><img src="https://images.unsplash.com/photo-1560252829-804f1aedf1be?q=80&amp;w=1200" alt="Document Preparation" class="step-image" data-v-98437bb8></div><div class="step-content scroll-animate" data-v-98437bb8><span class="step-number" data-v-98437bb8>01</span><h3 data-v-98437bb8>Prepare Your Documents</h3><p data-v-98437bb8>Before you start, have your vehicle&#39;s Official Receipt (OR) and Certificate of Registration (CR) ready. You&#39;ll also need clear photos of your vehicle&#39;s exterior and interior.</p></div></div><div class="step-row reverse" data-v-98437bb8><div class="step-image-wrapper scroll-animate" data-v-98437bb8><img src="https://images.unsplash.com/photo-1758876020010-fe9a9d9f8266?q=80&amp;w=1632&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.1.0&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Create Listing" class="step-image" data-v-98437bb8></div><div class="step-content scroll-animate" data-v-98437bb8><span class="step-number" data-v-98437bb8>02</span><h3 data-v-98437bb8>Create Your Listing</h3><p data-v-98437bb8>Use our simple form to list your vehicle. Set your daily rate, add a detailed description, and upload your photos. Be honest about your vehicle&#39;s condition to build trust.</p></div></div><div class="step-row" data-v-98437bb8><div class="step-image-wrapper scroll-animate" data-v-98437bb8><img src="https://images.pexels.com/photos/342248/pexels-photo-342248.jpeg?_gl=1*x9om7a*_ga*OTY4NTAxNDc0LjE3NjM0ODE4Mjk.*_ga_8JE65Q40S6*czE3NjM0ODE4MjgkbzEkZzEkdDE3NjM0ODE4NzkkajkkbDAkaDA." alt="Calendar Management" class="step-image" data-v-98437bb8></div><div class="step-content scroll-animate" data-v-98437bb8><span class="step-number" data-v-98437bb8>03</span><h3 data-v-98437bb8>Manage Availability</h3><p data-v-98437bb8>Go to your dashboard and set your availability calendar. Block out dates when you need the car for yourself. You can update this anytime.</p></div></div><div class="step-row reverse" data-v-98437bb8><div class="step-image-wrapper scroll-animate" data-v-98437bb8><img src="https://images.unsplash.com/photo-1556740714-a8395b3bf30f?q=80&amp;w=1200" alt="Payment" class="step-image" data-v-98437bb8></div><div class="step-content scroll-animate" data-v-98437bb8><span class="step-number" data-v-98437bb8>04</span><h3 data-v-98437bb8>Set Up Payments</h3><p data-v-98437bb8>Upload your preferred payment QR code (like GCash or Maya) in your profile settings. This is how renters will pay you their 20% downpayment securely.</p></div></div></div></section><section class="tips-section scroll-animate" data-v-98437bb8><h2 class="section-title" data-v-98437bb8>Pro Tips for Success</h2><div class="tips-grid" data-v-98437bb8><div class="tip-item" data-v-98437bb8><h4 data-v-98437bb8><i class="bi bi-camera-fill" data-v-98437bb8></i> Great Photos Matter</h4><p data-v-98437bb8>Listings with high-quality, bright photos get 3x more bookings. Show off your car from all angles!</p></div><div class="tip-item" data-v-98437bb8><h4 data-v-98437bb8><i class="bi bi-chat-dots-fill" data-v-98437bb8></i> Quick Responses</h4><p data-v-98437bb8>Respond to booking requests and messages quickly. Being responsive boosts your ranking and builds trust.</p></div><div class="tip-item" data-v-98437bb8><h4 data-v-98437bb8><i class="bi bi-stars" data-v-98437bb8></i> Keep it Clean</h4><p data-v-98437bb8>Always hand over your vehicle clean and with a full tank of gas. It leads to 5-star reviews.</p></div><div class="tip-item" data-v-98437bb8><h4 data-v-98437bb8><i class="bi bi-calendar-event-fill" data-v-98437bb8></i> Update Often</h4><p data-v-98437bb8>Keep your calendar up-to-date to avoid declining requests, which can hurt your search visibility.</p></div></div></section>',3)),(0,s.Lk)("section",yd,[t[4]||(t[4]=(0,s.Lk)("h2",null,"Ready to become a host?",-1)),t[5]||(t[5]=(0,s.Lk)("p",null,"It only takes a few minutes to get started.",-1)),(0,s.bF)(n,{to:"/become-a-host",class:"button primary-button"},{default:(0,s.k6)(()=>[...t[3]||(t[3]=[(0,s.eW)("List Your Car Now",-1)])]),_:1})])])}var Ld={name:"HostingGuideView",data(){return{observer:null}},mounted(){const e={root:null,threshold:.1,rootMargin:"0px 0px -50px 0px"};this.observer=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("is-visible"),this.observer.unobserve(e.target))})},e),this.$nextTick(()=>{const e=this.$el.querySelectorAll(".scroll-animate");e.forEach(e=>{this.observer.observe(e)})})},beforeUnmount(){this.observer&&this.observer.disconnect()}};const wd=(0,B.A)(Ld,[["render",bd],["__scopeId","data-v-98437bb8"]]);var Cd=wd;const Sd={class:"policy-page"},Pd={class:"policy-container"},Ed={class:"policy-header"},Dd={class:"effective-date"};function Ad(e,t,a,i,l,n){return(0,s.uX)(),(0,s.CE)("div",Sd,[(0,s.Lk)("div",Pd,[(0,s.Lk)("header",Ed,[t[0]||(t[0]=(0,s.Lk)("h1",{class:"page-title"},"Privacy Policy",-1)),(0,s.Lk)("p",Dd,"Last Updated: "+(0,o.v_)(n.currentDate),1)]),t[1]||(t[1]=(0,s.Fv)('<div class="policy-content" data-v-6f15477a><section class="policy-section" data-v-6f15477a><p data-v-6f15477a> At <strong data-v-6f15477a>RentCycle, Inc.</strong> (&quot;RentCycle,&quot; &quot;we,&quot; &quot;us,&quot; or &quot;our&quot;), we value your trust and are committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our website and mobile application (the &quot;Platform&quot;) to rent or list vehicles. </p><p data-v-6f15477a> By accessing or using RentCycle, you agree to the terms of this Privacy Policy. If you do not agree with the terms of this privacy policy, please do not access the application. </p></section><section class="policy-section" data-v-6f15477a><h2 data-v-6f15477a>1. Information We Collect</h2><p data-v-6f15477a>We collect information that you provide directly to us, information we collect automatically, and information from third-party sources.</p><h3 data-v-6f15477a>A. Information You Provide</h3><ul data-v-6f15477a><li data-v-6f15477a><strong data-v-6f15477a>Account Registration:</strong> Name, email address, phone number, and password.</li><li data-v-6f15477a><strong data-v-6f15477a>Identity Verification (Trust &amp; Safety):</strong> Government-issued ID (driver&#39;s license, passport), selfie photos, and date of birth. This is required for our &quot;Approved to Drive&quot; verification process.</li><li data-v-6f15477a><strong data-v-6f15477a>Vehicle Information (Hosts):</strong> Vehicle make, model, year, VIN (Vehicle Identification Number), license plate number, insurance documentation, and photos of the vehicle.</li><li data-v-6f15477a><strong data-v-6f15477a>Payment Information:</strong> Mobile wallet details (GCash, PayMaya) or bank account information. Note: We do not store your full payment credentials; transactions are processed by our secure third-party payment gateways.</li><li data-v-6f15477a><strong data-v-6f15477a>Communications:</strong> The content of messages sent through our in-app secure chat system.</li></ul><h3 data-v-6f15477a>B. Information Collected Automatically</h3><ul data-v-6f15477a><li data-v-6f15477a><strong data-v-6f15477a>Usage Data:</strong> Log files, access times, pages viewed, and your IP address.</li><li data-v-6f15477a><strong data-v-6f15477a>Transaction Data:</strong> Details about trips, dates, times, and amounts charged.</li><li data-v-6f15477a><strong data-v-6f15477a>QR Code Verification:</strong> We log the timestamp and location when you scan a QR code to start or end a trip for security purposes.</li></ul></section><section class="policy-section" data-v-6f15477a><h2 data-v-6f15477a>2. How We Use Your Information</h2><p data-v-6f15477a>We use the collected information for the following purposes:</p><ul data-v-6f15477a><li data-v-6f15477a><strong data-v-6f15477a>To Provide Services:</strong> Facilitating vehicle bookings, processing the 20% downpayment, and generating Rental Contracts.</li><li data-v-6f15477a><strong data-v-6f15477a>Trust &amp; Safety:</strong> Verifying your identity, conducting the &quot;Approved to Drive&quot; background checks, and preventing fraud.</li><li data-v-6f15477a><strong data-v-6f15477a>Communication:</strong> Sending booking confirmations, support messages, and dispute resolution via our logged chat system.</li><li data-v-6f15477a><strong data-v-6f15477a>Legal Compliance:</strong> Generating the PDF Rental Agreement for every trip to ensure both Host and Renter are legally protected.</li><li data-v-6f15477a><strong data-v-6f15477a>Platform Improvement:</strong> Analyzing usage trends to improve the user experience.</li></ul></section><section class="policy-section" data-v-6f15477a><h2 data-v-6f15477a>3. Sharing of Your Information</h2><p data-v-6f15477a>We do not sell your personal data. We share information only in the following circumstances:</p><ul data-v-6f15477a><li data-v-6f15477a><strong data-v-6f15477a>Between Users:</strong> Once a booking is confirmed, we share necessary details (e.g., Renter&#39;s name and license status to the Host; Host&#39;s name and vehicle location to the Renter).</li><li data-v-6f15477a><strong data-v-6f15477a>Service Providers:</strong> With third-party vendors for payment processing (e.g., GCash, PayMaya), identity verification, and cloud hosting.</li><li data-v-6f15477a><strong data-v-6f15477a>Legal Requirements:</strong> If required by law, court order, or to protect the rights and safety of RentCycle, our users, or others (e.g., in the event of a vehicle theft or accident).</li></ul></section><section class="policy-section" data-v-6f15477a><h2 data-v-6f15477a>4. Data Security</h2><p data-v-6f15477a> We implement &quot;Secure by Design&quot; principles. We use administrative, technical, and physical security measures to help protect your personal information. These measures include: </p><ul data-v-6f15477a><li data-v-6f15477a>Encryption of sensitive data in transit and at rest.</li><li data-v-6f15477a>Secure in-app messaging logs to prevent &quot;he said, she said&quot; disputes.</li><li data-v-6f15477a>Two-step payment verification to prevent financial fraud.</li></ul><p data-v-6f15477a>While we have taken reasonable steps to secure the personal information you provide to us, please be aware that despite our efforts, no security measures are perfect or impenetrable.</p></section><section class="policy-section" data-v-6f15477a><h2 data-v-6f15477a>5. Your Data Rights</h2><p data-v-6f15477a>Depending on your location, you may have the following rights regarding your data:</p><ul data-v-6f15477a><li data-v-6f15477a>The right to access the personal data we hold about you.</li><li data-v-6f15477a>The right to request correction of inaccurate data.</li><li data-v-6f15477a>The right to request deletion of your account and data (subject to legal retention requirements for transaction records).</li></ul><p data-v-6f15477a>To exercise these rights, please contact us at rentcycleplatform@gmail.com.</p></section><section class="policy-section" data-v-6f15477a><h2 data-v-6f15477a>6. Third-Party Websites</h2><p data-v-6f15477a>The Platform may contain links to third-party websites. We are not responsible for the privacy practices or content of those third-party sites.</p></section><section class="policy-section" data-v-6f15477a><h2 data-v-6f15477a>7. Contact Us</h2><p data-v-6f15477a>If you have questions or comments about this Privacy Policy, please contact us at:</p><address class="contact-box" data-v-6f15477a><strong data-v-6f15477a>RentCycle, Inc.</strong><br data-v-6f15477a> Attn: Privacy Officer<br data-v-6f15477a> Email: <a href="mailto:rentcycleplatform@gmail.com" data-v-6f15477a>rentcycleplatform@gmail.com</a></address></section></div>',1))])])}var _d={name:"PrivacyPolicyView",computed:{currentDate(){return(new Date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}}};const Vd=(0,B.A)(_d,[["render",Ad],["__scopeId","data-v-6f15477a"]]);var Id=Vd;const Fd={class:"terms-page"},xd={class:"terms-container"},Md={class:"terms-header"},Td={class:"effective-date"};function Rd(e,t,a,i,l,n){return(0,s.uX)(),(0,s.CE)("div",Fd,[(0,s.Lk)("div",xd,[(0,s.Lk)("header",Md,[t[0]||(t[0]=(0,s.Lk)("h1",{class:"page-title"},"Terms of Service",-1)),(0,s.Lk)("p",Td,"Last Updated: "+(0,o.v_)(n.currentDate),1)]),t[1]||(t[1]=(0,s.Fv)('<div class="terms-content" data-v-9685caf2><section class="terms-section" data-v-9685caf2><p data-v-9685caf2> Welcome to <strong data-v-9685caf2>RentCycle, Inc.</strong> (&quot;RentCycle&quot;, &quot;we&quot;, &quot;us&quot;, or &quot;our&quot;). By accessing or using our website, mobile application, and services (collectively, the &quot;Platform&quot;), you agree to comply with and be bound by these Terms of Service (&quot;Terms&quot;). </p><p class="alert-text" data-v-9685caf2> PLEASE READ THESE TERMS CAREFULLY. IF YOU DO NOT AGREE TO THESE TERMS, YOU MAY NOT USE THE PLATFORM. </p></section><section class="terms-section" data-v-9685caf2><h2 data-v-9685caf2>1. The RentCycle Platform</h2><p data-v-9685caf2> RentCycle is a peer-to-peer marketplace that connects vehicle owners (&quot;Hosts&quot;) with individuals seeking to rent vehicles (&quot;Renters&quot;). RentCycle is not a vehicle rental company; we provide the technology to facilitate these transactions. We do not own or control the vehicles listed on the Platform. </p></section><section class="terms-section" data-v-9685caf2><h2 data-v-9685caf2>2. Eligibility and Verification</h2><ul data-v-9685caf2><li data-v-9685caf2><strong data-v-9685caf2>Age Requirement:</strong> You must be at least 18 years old to use the Platform.</li><li data-v-9685caf2><strong data-v-9685caf2>&quot;Approved to Drive&quot; Status:</strong> To rent a vehicle, Renters must complete our verification process and receive &quot;Approved to Drive&quot; status. This requires submitting a valid government-issued Driver&#39;s License and a selfie for identity verification.</li><li data-v-9685caf2><strong data-v-9685caf2>Host Verification:</strong> Hosts must provide valid vehicle registration (OR/CR) and proof of ownership before listing a vehicle.</li></ul></section><section class="terms-section" data-v-9685caf2><h2 data-v-9685caf2>3. Booking and Financial Terms</h2><h3 data-v-9685caf2>A. Fees and Payments</h3><p data-v-9685caf2> RentCycle utilizes a secured payment system. We currently support <strong data-v-9685caf2>GCash</strong> and <strong data-v-9685caf2>PayMaya</strong> for transactions. </p><ul data-v-9685caf2><li data-v-9685caf2><strong data-v-9685caf2>Downpayment:</strong> A <strong data-v-9685caf2>20% downpayment</strong> is required to confirm a booking. This secures your reservation.</li><li data-v-9685caf2><strong data-v-9685caf2>Balance Payment:</strong> The remaining 80% balance is paid directly to the Host upon vehicle pickup/handover.</li><li data-v-9685caf2><strong data-v-9685caf2>Security Deposit:</strong> Hosts may require a refundable security deposit. This is handled directly between the Host and Renter as per the Rental Agreement.</li></ul><h3 data-v-9685caf2>B. Cancellations and Refunds</h3><ul data-v-9685caf2><li data-v-9685caf2><strong data-v-9685caf2>Renter Cancellation:</strong> Cancellations made more than 24 hours before the trip start time are eligible for a full refund of the downpayment. Cancellations within 24 hours are non-refundable.</li><li data-v-9685caf2><strong data-v-9685caf2>Host Cancellation:</strong> If a Host cancels a confirmed booking, the Renter will receive a full refund, and the Host may be subject to penalties or account suspension.</li></ul></section><section class="terms-section" data-v-9685caf2><h2 data-v-9685caf2>4. Prohibited Activities</h2><p data-v-9685caf2>You agree NOT to use the Platform or rented vehicles for:</p><ul data-v-9685caf2><li data-v-9685caf2>Any illegal purpose or in violation of any local, state, or national law.</li><li data-v-9685caf2>Sub-leasing the vehicle to third parties.</li><li data-v-9685caf2>Racing, off-roading, or speed testing.</li><li data-v-9685caf2>Transporting passengers for hire (e.g., using the vehicle as a taxi or ride-share) unless explicitly authorized.</li><li data-v-9685caf2>Transporting flammable, poisonous, or otherwise hazardous materials.</li></ul></section><section class="terms-section" data-v-9685caf2><h2 data-v-9685caf2>5. Damage and Insurance</h2><ul data-v-9685caf2><li data-v-9685caf2><strong data-v-9685caf2>Renter Liability:</strong> Renters are responsible for returning the vehicle in the same condition it was received. You are liable for any damage, theft, or loss occurring during the rental period.</li><li data-v-9685caf2><strong data-v-9685caf2>Rental Contract:</strong> Every confirmed booking generates a legal Rental Contract. In the event of a dispute or accident, this contract serves as the binding agreement between Host and Renter.</li><li data-v-9685caf2><strong data-v-9685caf2>Reporting:</strong> Any accident, damage, or theft must be reported to RentCycle and the relevant authorities immediately.</li></ul></section><section class="terms-section" data-v-9685caf2><h2 data-v-9685caf2>6. Limitation of Liability</h2><p data-v-9685caf2> To the fullest extent permitted by law, RentCycle shall not be liable for any indirect, incidental, special, consequential, or punitive damages, or any loss of profits or revenues. Our liability is limited to the amount of commission fees we have earned from the specific transaction giving rise to the claim. </p></section><section class="terms-section" data-v-9685caf2><h2 data-v-9685caf2>7. Dispute Resolution</h2><p data-v-9685caf2> We encourage users to resolve disputes amicably through our <strong data-v-9685caf2>Secure Chat</strong> system. If a resolution cannot be reached, RentCycle may act as a mediator based on the evidence provided (photos, chat logs, contracts), but we do not act as a judge or arbiter of law. </p></section><section class="terms-section" data-v-9685caf2><h2 data-v-9685caf2>8. Contact Us</h2><p data-v-9685caf2>For any questions regarding these Terms, please contact us at:</p><address class="contact-box" data-v-9685caf2><strong data-v-9685caf2>RentCycle, Inc.</strong><br data-v-9685caf2> Email: <a href="mailto:rentcycleplatform@gmail.com" data-v-9685caf2>rentcycleplatform@gmail.com</a></address></section></div>',1))])])}var Bd={name:"TermsOfServiceView",computed:{currentDate(){return(new Date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}}};const Ud=(0,B.A)(Bd,[["render",Rd],["__scopeId","data-v-9685caf2"]]);var Nd=Ud;const Xd={class:"admin-layout"},Od={class:"main-content"},qd={class:"mobile-top-bar"},$d={class:"content-wrapper"};function Qd(e,t,a,i,o,l){const n=(0,s.g2)("AdminSidebar"),r=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",Xd,[(0,s.bF)(n,{"is-open":i.isSidebarOpen,onClose:t[0]||(t[0]=e=>i.isSidebarOpen=!1)},null,8,["is-open"]),(0,s.Lk)("main",Od,[(0,s.Lk)("header",qd,[(0,s.Lk)("button",{class:"menu-toggle",onClick:t[1]||(t[1]=e=>i.isSidebarOpen=!0)},[...t[2]||(t[2]=[(0,s.Lk)("i",{class:"bi bi-list"},null,-1)])]),t[3]||(t[3]=(0,s.Lk)("span",{class:"mobile-brand"},"Admin Panel",-1))]),(0,s.Lk)("div",$d,[(0,s.bF)(r)])])])}const Wd={class:"sidebar-header"},Hd={class:"sidebar-nav"},jd={key:0,class:"notification-badge"},Yd={key:0,class:"notification-badge"},Kd={key:0,class:"notification-badge danger"},Gd={key:0,class:"notification-badge danger"},Jd={key:0,class:"notification-badge warning"},zd={class:"sidebar-footer"};function Zd(e,t,a,i,l,n){const r=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)(s.FK,null,[a.isOpen?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"sidebar-overlay",onClick:t[0]||(t[0]=t=>e.$emit("close"))})):(0,s.Q3)("",!0),(0,s.Lk)("aside",{class:(0,o.C4)(["admin-sidebar",{"is-open":a.isOpen}])},[(0,s.Lk)("div",Wd,[t[11]||(t[11]=(0,s.Fv)('<div class="brand-wrapper" data-v-14e7d3c9><div class="logo-icon" data-v-14e7d3c9><i class="bi bi-shield-check" data-v-14e7d3c9></i></div><h2 class="brand-text" data-v-14e7d3c9>Admin<span class="highlight" data-v-14e7d3c9>Panel</span></h2></div>',1)),(0,s.Lk)("button",{class:"close-btn",onClick:t[1]||(t[1]=t=>e.$emit("close"))},[...t[10]||(t[10]=[(0,s.Lk)("i",{class:"bi bi-x-lg"},null,-1)])])]),(0,s.Lk)("nav",Hd,[t[24]||(t[24]=(0,s.Lk)("p",{class:"nav-category"},"Main Menu",-1)),(0,s.Lk)("ul",null,[(0,s.Lk)("li",null,[(0,s.bF)(r,{to:{name:"AdminDashboard"},class:"nav-link",onClick:t[2]||(t[2]=t=>e.$emit("close"))},{default:(0,s.k6)(()=>[...t[12]||(t[12]=[(0,s.Lk)("i",{class:"bi bi-grid-1x2-fill"},null,-1),(0,s.Lk)("span",null,"Dashboard",-1)])]),_:1})]),(0,s.Lk)("li",null,[(0,s.bF)(r,{to:{name:"AdminUsers"},class:"nav-link",onClick:t[3]||(t[3]=t=>e.$emit("close"))},{default:(0,s.k6)(()=>[...t[13]||(t[13]=[(0,s.Lk)("i",{class:"bi bi-people-fill"},null,-1),(0,s.Lk)("span",null,"Users",-1)])]),_:1})]),(0,s.Lk)("li",null,[(0,s.bF)(r,{to:{name:"AdminVehicles"},class:"nav-link",onClick:t[4]||(t[4]=t=>e.$emit("close"))},{default:(0,s.k6)(()=>[t[14]||(t[14]=(0,s.Lk)("i",{class:"bi bi-car-front-fill"},null,-1)),t[15]||(t[15]=(0,s.Lk)("span",null,"Vehicles",-1)),i.counts.vehicles>0?((0,s.uX)(),(0,s.CE)("span",jd,(0,o.v_)(i.counts.vehicles),1)):(0,s.Q3)("",!0)]),_:1})]),(0,s.Lk)("li",null,[(0,s.bF)(r,{to:{name:"AdminBookings"},class:"nav-link",onClick:t[5]||(t[5]=t=>e.$emit("close"))},{default:(0,s.k6)(()=>[t[16]||(t[16]=(0,s.Lk)("i",{class:"bi bi-briefcase-fill"},null,-1)),t[17]||(t[17]=(0,s.Lk)("span",null,"Bookings",-1)),i.counts.bookings>0?((0,s.uX)(),(0,s.CE)("span",Yd,(0,o.v_)(i.counts.bookings),1)):(0,s.Q3)("",!0)]),_:1})])]),t[25]||(t[25]=(0,s.Lk)("p",{class:"nav-category"},"Applications",-1)),(0,s.Lk)("ul",null,[(0,s.Lk)("li",null,[(0,s.bF)(r,{to:{name:"AdminHostApplications"},class:"nav-link",onClick:t[6]||(t[6]=t=>e.$emit("close"))},{default:(0,s.k6)(()=>[t[18]||(t[18]=(0,s.Lk)("i",{class:"bi bi-person-check-fill"},null,-1)),t[19]||(t[19]=(0,s.Lk)("span",null,"Host Applications",-1)),i.counts.hostApps>0?((0,s.uX)(),(0,s.CE)("span",Kd,(0,o.v_)(i.counts.hostApps),1)):(0,s.Q3)("",!0)]),_:1})]),(0,s.Lk)("li",null,[(0,s.bF)(r,{to:{name:"AdminDriveApplications"},class:"nav-link",onClick:t[7]||(t[7]=t=>e.$emit("close"))},{default:(0,s.k6)(()=>[t[20]||(t[20]=(0,s.Lk)("i",{class:"bi bi-person-vcard-fill"},null,-1)),t[21]||(t[21]=(0,s.Lk)("span",null,"Driver Applications",-1)),i.counts.driveApps>0?((0,s.uX)(),(0,s.CE)("span",Gd,(0,o.v_)(i.counts.driveApps),1)):(0,s.Q3)("",!0)]),_:1})])]),t[26]||(t[26]=(0,s.Lk)("p",{class:"nav-category"},"Management",-1)),(0,s.Lk)("ul",null,[(0,s.Lk)("li",null,[(0,s.bF)(r,{to:{name:"AdminReports"},class:"nav-link",onClick:t[8]||(t[8]=t=>e.$emit("close"))},{default:(0,s.k6)(()=>[t[22]||(t[22]=(0,s.Lk)("i",{class:"bi bi-flag-fill"},null,-1)),t[23]||(t[23]=(0,s.Lk)("span",null,"Reports",-1)),i.counts.reports>0?((0,s.uX)(),(0,s.CE)("span",Jd,(0,o.v_)(i.counts.reports),1)):(0,s.Q3)("",!0)]),_:1})])])]),(0,s.Lk)("div",zd,[t[28]||(t[28]=(0,s.Fv)('<div class="user-profile" data-v-14e7d3c9><div class="avatar" data-v-14e7d3c9>A</div><div class="user-info" data-v-14e7d3c9><span class="name" data-v-14e7d3c9>Administrator</span><span class="status" data-v-14e7d3c9>Online</span></div></div>',1)),(0,s.Lk)("button",{onClick:t[9]||(t[9]=(...e)=>i.handleLogout&&i.handleLogout(...e)),class:"logout-button",title:"Logout"},[...t[27]||(t[27]=[(0,s.Lk)("i",{class:"bi bi-box-arrow-right"},null,-1)])])])],2)],64)}var eu={name:"AdminSidebar",props:{isOpen:{type:Boolean,default:!1}},emits:["close"],setup(){const e=(0,x.Pj)(),t=(0,Se.rd)(),a=async()=>{try{e.getters.authToken&&await Promise.all([e.dispatch("fetchHostApplications"),e.dispatch("fetchDriveApplications"),e.dispatch("fetchBookingReports")])}catch(t){console.error("Sidebar failed to fetch counts:",t)}};(0,s.sV)(()=>{a()}),(0,s.wB)(()=>t.currentRoute.value,()=>{a()});const i=(0,s.EW)(()=>{const t=e.state.hostApplications||[],a=e.state.driveApplications||[],i=e.state.reports||[],s=e.getters.pendingHostApplicationsCount??t.filter(e=>"pending"===e.status).length,o=e.getters.pendingDriveApplicationsCount??a.filter(e=>"pending"===e.status).length,l=e.getters.unresolvedReportsCount??i.filter(e=>"resolved"!==e.status).length;return{hostApps:s,driveApps:o,vehicles:e.getters.pendingVehiclesCount||0,reports:l,bookings:0}}),o=()=>{e.dispatch("logout").then(()=>{t.push("/login")})};return{handleLogout:o,counts:i}}};const tu=(0,B.A)(eu,[["render",Zd],["__scopeId","data-v-14e7d3c9"]]);var au=tu,iu={name:"AdminLayout",components:{AdminSidebar:au},setup(){const e=(0,zs.KR)(!1);return{isSidebarOpen:e}}};const su=(0,B.A)(iu,[["render",Qd],["__scopeId","data-v-aa6a7106"]]);var ou=su;const lu={class:"dashboard-layout"},nu={class:"dashboard-content"};function ru(e,t,a,i,o,l){const n=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",lu,[(0,s.Lk)("main",nu,[(0,s.bF)(n)])])}var cu={name:"DashboardLayout",computed:{...(0,x.L8)(["userRole"])},methods:{...(0,x.i0)(["logout"])}};const du=(0,B.A)(cu,[["render",ru],["__scopeId","data-v-529511dd"]]);var uu=du;const pu={class:"my-bookings-container"},hu={class:"booking-filters"},mu=["onClick"],vu={key:0,class:"info-state"},ku={key:1,class:"info-state error-state"},gu={key:2,class:"info-state empty-state"},fu={key:3,class:"info-state empty-state"},yu={key:4,class:"bookings-grid"},bu={class:"card-header"},Lu={class:"vehicle-name"},wu={class:"card-body"},Cu={class:"detail-row"},Su={class:"detail-row"},Pu={class:"card-footer"},Eu={class:"booking-id"},Du=["onClick"];function Au(e,t,a,i,l,n){const r=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",pu,[t[6]||(t[6]=(0,s.Lk)("div",{class:"header-section"},[(0,s.Lk)("h2",{class:"section-title"},"My Trips"),(0,s.Lk)("p",{class:"section-subtitle"}," Review your upcoming, past, and pending trips. ")],-1)),(0,s.Lk)("div",hu,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.statusFilters,e=>((0,s.uX)(),(0,s.CE)("button",{key:e.value,class:(0,o.C4)(["filter-tab",{active:l.activeFilter===e.value}]),onClick:t=>l.activeFilter=e.value},(0,o.v_)(e.label),11,mu))),128))]),l.loading?((0,s.uX)(),(0,s.CE)("div",vu,[...t[1]||(t[1]=[(0,s.Lk)("p",null,"Loading your trips...",-1)])])):l.errorMessage?((0,s.uX)(),(0,s.CE)("div",ku,[(0,s.Lk)("p",null,(0,o.v_)(l.errorMessage),1),(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.fetchBookings&&n.fetchBookings(...e)),class:"button primary"},"Retry")])):0===n.filteredBookings.length&&"all"===l.activeFilter?((0,s.uX)(),(0,s.CE)("div",gu,[t[3]||(t[3]=(0,s.Lk)("p",null,"You have no active or past trips.",-1)),(0,s.bF)(r,{to:"/vehicles",class:"button primary"},{default:(0,s.k6)(()=>[...t[2]||(t[2]=[(0,s.eW)("Browse Vehicles",-1)])]),_:1})])):0===n.filteredBookings.length?((0,s.uX)(),(0,s.CE)("div",fu,[(0,s.Lk)("p",null,'You have no trips with the status "'+(0,o.v_)(l.activeFilter)+'".',1)])):((0,s.uX)(),(0,s.CE)("div",yu,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.filteredBookings,e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"booking-card"},[(0,s.Lk)("div",bu,[(0,s.Lk)("h3",Lu,(0,o.v_)(e.vehicleDetails.make)+" "+(0,o.v_)(e.vehicleDetails.model),1),(0,s.Lk)("span",{class:(0,o.C4)(["status-badge",n.getStatusClass(e.paymentStatus)])},(0,o.v_)(n.formatStatus(e.paymentStatus)),3)]),(0,s.Lk)("div",wu,[(0,s.Lk)("div",Cu,[t[4]||(t[4]=(0,s.Lk)("i",{class:"bi bi-calendar-range"},null,-1)),(0,s.Lk)("span",null,(0,o.v_)(n.formatDate(e.startDate))+" to "+(0,o.v_)(n.formatDate(e.endDate)),1)]),(0,s.Lk)("div",Su,[t[5]||(t[5]=(0,s.Lk)("i",{class:"bi bi-tag-fill"},null,-1)),(0,s.Lk)("span",null,"₱"+(0,o.v_)(e.totalCost?e.totalCost.toLocaleString():"N/A"),1)])]),(0,s.Lk)("div",Pu,[(0,s.Lk)("span",Eu,"ID: "+(0,o.v_)(e.id),1),(0,s.Lk)("button",{onClick:t=>n.viewDetails(e.id),class:"button secondary"}," View Details ",8,Du)])]))),128))]))])}var _u={name:"MyBookingsView",data(){return{loading:!0,errorMessage:null,bookings:[],activeFilter:"all",statusFilters:[{label:"All",value:"all"},{label:"Pending",value:"pending"},{label:"Confirmed",value:"confirmed"},{label:"Completed",value:"completed"},{label:"Cancelled",value:"cancelled"}]}},computed:{...(0,x.L8)(["user"]),filteredBookings(){if("all"===this.activeFilter)return this.bookings;if("pending"===this.activeFilter){const e=["pending_owner_approval","pending_payment"];return this.bookings.filter(t=>e.includes(t.paymentStatus))}if("cancelled"===this.activeFilter){const e=["cancelled","declined_by_owner"];return this.bookings.filter(t=>e.includes(t.paymentStatus))}if("completed"===this.activeFilter){const e=["completed","returned"];return this.bookings.filter(t=>e.includes(t.paymentStatus))}return this.bookings.filter(e=>e.paymentStatus===this.activeFilter)}},watch:{user(e){e&&e.uid&&this.fetchBookings()}},created(){this.user&&this.user.uid&&this.fetchBookings()},methods:{...(0,x.i0)(["fetchBookingsByUser"]),async fetchBookings(){this.loading=!0,this.errorMessage=null;try{if(!this.user||!this.user.uid)throw new Error("User is not authenticated.");const e=await this.fetchBookingsByUser(this.user.uid);this.bookings=e}catch(e){this.errorMessage="Failed to load your bookings. Please try again.",console.error("[MyBookingsView] Error fetching bookings:",e)}finally{this.loading=!1}},viewDetails(e){this.$router.push({name:"BookingDetails",params:{bookingId:e}})},formatDate(e){return e?Z.c9.fromISO(e).toFormat("MMM dd, yyyy"):"N/A"},formatStatus(e){return e?e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()):"Unknown"},getStatusClass(e){switch(e){case"confirmed":case"completed":case"returned":return"status-success";case"pending_owner_approval":case"pending_payment":return"status-warning";case"cancelled":case"declined_by_owner":return"status-danger";default:return"status-default"}}}};const Vu=(0,B.A)(_u,[["render",Au],["__scopeId","data-v-de74300e"]]);var Iu=Vu;const Fu={class:"favorites-container"},xu={key:0,class:"info-state"},Mu={key:1,class:"info-state"},Tu={key:2,class:"vehicle-grid"};function Ru(e,t,a,i,o,l){const n=(0,s.g2)("router-link"),r=(0,s.g2)("VehicleCard");return(0,s.uX)(),(0,s.CE)("div",Fu,[t[4]||(t[4]=(0,s.Lk)("h1",{class:"page-title"},"My Favorites",-1)),t[5]||(t[5]=(0,s.Lk)("p",{class:"page-subtitle"},"Your saved vehicles for future trips.",-1)),o.loading?((0,s.uX)(),(0,s.CE)("div",xu,[...t[0]||(t[0]=[(0,s.Lk)("p",null,"Loading your favorites...",-1)])])):0===l.favoriteVehicles.length?((0,s.uX)(),(0,s.CE)("div",Mu,[t[2]||(t[2]=(0,s.Lk)("i",{class:"bi bi-heartbreak-fill"},null,-1)),t[3]||(t[3]=(0,s.Lk)("p",null,"You haven't saved any vehicles yet.",-1)),(0,s.bF)(n,{to:"/vehicles",class:"button primary-button"},{default:(0,s.k6)(()=>[...t[1]||(t[1]=[(0,s.eW)("Find Vehicles",-1)])]),_:1})])):((0,s.uX)(),(0,s.CE)("div",Tu,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.favoriteVehicles,e=>((0,s.uX)(),(0,s.Wv)(r,{key:e.id,vehicle:e},null,8,["vehicle"]))),128))]))])}var Bu={name:"MyFavoritesView",components:{VehicleCard:ga},data(){return{loading:!0}},computed:{...(0,x.L8)(["allVehicles","userFavorites"]),favoriteVehicles(){if(!this.allVehicles.length||!this.userFavorites.length)return[];const e=new Set(this.userFavorites);return this.allVehicles.filter(t=>e.has(t.id))}},methods:{...(0,x.i0)(["fetchAllVehicles"]),async loadData(){this.loading=!0;try{0===this.allVehicles.length&&await this.fetchAllVehicles()}catch(e){console.error("Error loading vehicles for favorites:",e)}finally{this.loading=!1}}},created(){this.loadData()}};const Uu=(0,B.A)(Bu,[["render",Ru],["__scopeId","data-v-97763dca"]]);var Nu=Uu;const Xu={class:"page-container"},Ou={key:0,class:"loading-state"},qu={key:1,class:"error-state"},$u={key:2,class:"booking-details-layout"},Qu={class:"main-content"},Wu={class:"header"},Hu={class:"booking-id"},ju={key:0,class:"action-card owner-approval"},Yu={class:"card-content"},Ku={class:"action-buttons"},Gu={key:1,class:"action-card renter-payment"},Ju={class:"card-content"},zu={key:2,class:"action-card owner-confirm"},Zu={class:"card-content"},ep={class:"action-buttons"},tp={key:3,class:"action-card renter-payment extension-payment"},ap={class:"card-content"},ip={key:4,class:"info-card status-info-card downpayment-verified"},sp={class:"info-card vehicle-card"},op=["src"],lp={class:"vehicle-info"},np={class:"vehicle-name"},rp={class:"vehicle-year"},cp={key:0,class:"vehicle-location"},dp={class:"info-card trip-details-card"},up={class:"details-grid"},pp={class:"detail-item"},hp={class:"value"},mp={class:"detail-item"},vp={class:"value"},kp={class:"detail-item"},gp={class:"value"},fp={class:"detail-item"},yp={class:"value"},bp={class:"info-card payment-details-card"},Lp={class:"payment-grid"},wp={class:"detail-item"},Cp={class:"value price total-price"},Sp={class:"detail-item"},Pp={class:"value price paid-price"},Ep={class:"detail-item"},Dp={class:"value price"},Ap={class:"detail-item"},_p={class:"value price remaining-price"},Vp={key:0,class:"detail-item"},Ip={class:"value"},Fp={class:"label"},xp={class:"value price"},Mp={class:"sidebar-content"},Tp={class:"info-card participant-card"},Rp={class:"participant-details"},Bp=["src"],Up={class:"name"},Np={class:"email"},Xp={class:"info-card participant-card"},Op={class:"participant-details"},qp=["src"],$p={class:"name"},Qp={class:"email"},Wp={class:"info-card sidebar-actions-card"},Hp={key:0},jp={key:0,class:"action-group"},Yp=["disabled"],Kp={key:0},Gp={key:1},Jp=["disabled"],zp={key:0},Zp={key:1},eh=["disabled"],th={key:0},ah={key:1},ih={key:1,class:"completed-state"};function sh(e,t,a,i,l,n){const r=(0,s.g2)("SubmitReviewModal"),c=(0,s.g2)("PaymentModal"),d=(0,s.g2)("ReportIssueModal"),u=(0,s.g2)("BookingExtensionModal");return(0,s.uX)(),(0,s.CE)("div",Xu,[l.loading?((0,s.uX)(),(0,s.CE)("div",Ou,[...t[20]||(t[20]=[(0,s.Lk)("p",null,"Loading booking details...",-1)])])):l.errorMessage?((0,s.uX)(),(0,s.CE)("div",qu,[t[21]||(t[21]=(0,s.Lk)("i",{class:"bi bi-exclamation-circle-fill icon"},null,-1)),(0,s.Lk)("p",null,(0,o.v_)(l.errorMessage),1),(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.fetchBooking&&n.fetchBooking(...e)),class:"button primary"},"Retry")])):l.booking?((0,s.uX)(),(0,s.CE)("div",$u,[(0,s.Lk)("div",Qu,[(0,s.Lk)("div",Wu,[(0,s.Lk)("span",{class:(0,o.C4)(["booking-status",n.getStatusClass(l.booking.paymentStatus)])},(0,o.v_)(n.formatStatus(l.booking.paymentStatus)),3),t[22]||(t[22]=(0,s.Lk)("h1",{class:"booking-title"},"Booking Details",-1)),(0,s.Lk)("p",Hu,"#"+(0,o.v_)(l.booking.id),1)]),n.showOwnerActionCard?((0,s.uX)(),(0,s.CE)("div",ju,[t[25]||(t[25]=(0,s.Lk)("div",{class:"card-icon"},[(0,s.Lk)("i",{class:"bi bi-exclamation-triangle-fill"})],-1)),(0,s.Lk)("div",Yu,[t[23]||(t[23]=(0,s.Lk)("h3",{class:"card-title"},"New Booking Request",-1)),t[24]||(t[24]=(0,s.Lk)("p",null,"Review the details and respond to the renter.",-1)),(0,s.Lk)("div",Ku,[(0,s.Lk)("button",{onClick:t[1]||(t[1]=e=>n.handleApproval("decline")),class:"button secondary"},"Decline"),(0,s.Lk)("button",{onClick:t[2]||(t[2]=e=>n.handleApproval("approve")),class:"button primary"},"Approve")])])])):(0,s.Q3)("",!0),n.showPaymentActionCard?((0,s.uX)(),(0,s.CE)("div",Gu,[t[28]||(t[28]=(0,s.Lk)("div",{class:"card-icon"},[(0,s.Lk)("i",{class:"bi bi-credit-card-fill"})],-1)),(0,s.Lk)("div",Ju,[t[26]||(t[26]=(0,s.Lk)("h3",{class:"card-title"},"Payment Required",-1)),t[27]||(t[27]=(0,s.Lk)("p",null,"The owner approved your request. Pay the downpayment to confirm.",-1)),(0,s.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>n.openDownpaymentModal&&n.openDownpaymentModal(...e)),class:"button primary pay-now-button"}," Pay ₱"+(0,o.v_)(l.booking.downPayment.toLocaleString("en-US",{minimumFractionDigits:2}))+" Downpayment ",1)])])):(0,s.Q3)("",!0),n.showOwnerPaymentConfirmationCard?((0,s.uX)(),(0,s.CE)("div",zu,[t[31]||(t[31]=(0,s.Lk)("div",{class:"card-icon"},[(0,s.Lk)("i",{class:"bi bi-patch-check-fill"})],-1)),(0,s.Lk)("div",Zu,[t[30]||(t[30]=(0,s.Lk)("h3",{class:"card-title"},"Verify Downpayment",-1)),(0,s.Lk)("p",null,[(0,s.eW)("The renter submitted payment (Ref: "+(0,o.v_)(l.booking.paymentReferenceNumber||"N/A")+"). Verify receipt of ",1),(0,s.Lk)("strong",null,"₱"+(0,o.v_)(l.booking.downPayment.toLocaleString("en-US",{minimumFractionDigits:2})),1),t[29]||(t[29]=(0,s.eW)(" to finalize.",-1))]),(0,s.Lk)("div",ep,[(0,s.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>n.handleConfirmPayment&&n.handleConfirmPayment(...e)),class:"button primary"},"Confirm Payment Received")])])])):(0,s.Q3)("",!0),n.showPayExtensionCard&&n.latestPendingExtension?((0,s.uX)(),(0,s.CE)("div",tp,[t[34]||(t[34]=(0,s.Lk)("div",{class:"card-icon"},[(0,s.Lk)("i",{class:"bi bi-clock-history"})],-1)),(0,s.Lk)("div",ap,[t[33]||(t[33]=(0,s.Lk)("h3",{class:"card-title"},"Extension Payment Required",-1)),(0,s.Lk)("p",null,[t[32]||(t[32]=(0,s.eW)(" Your extension request is pending payment. Please pay the extension fee of ",-1)),(0,s.Lk)("strong",null,"₱"+(0,o.v_)(n.latestPendingExtension.cost.toLocaleString("en-US",{minimumFractionDigits:2})),1),(0,s.eW)(" to confirm the new return time: "+(0,o.v_)(n.formatFullDateTime(n.latestPendingExtension.newEndDate)||"N/A")+". ",1)]),(0,s.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>n.openExtensionPaymentModal&&n.openExtensionPaymentModal(...e)),class:"button primary pay-now-button"}," Pay Extension Fee Now ")])])):(0,s.Q3)("",!0),n.showDownpaymentVerifiedMessage?((0,s.uX)(),(0,s.CE)("div",ip,[...t[35]||(t[35]=[(0,s.Fv)('<div class="card-icon" data-v-0a72dba0><i class="bi bi-shield-check" data-v-0a72dba0></i></div><div class="card-content" data-v-0a72dba0><h3 class="card-title" data-v-0a72dba0>Booking Confirmed</h3><p data-v-0a72dba0>The owner has confirmed receipt of your payment. Your booking is secured!</p><p class="next-steps" data-v-0a72dba0>You can now contact the host via chat to coordinate pickup details.</p></div>',2)])])):(0,s.Q3)("",!0),(0,s.Lk)("div",sp,[(0,s.Lk)("img",{src:n.getVehicleImageUrl(l.booking.vehicleDetails),alt:"Vehicle",class:"vehicle-image"},null,8,op),(0,s.Lk)("div",lp,[(0,s.Lk)("h2",np,(0,o.v_)(l.booking.vehicleDetails?.make)+" "+(0,o.v_)(l.booking.vehicleDetails?.model),1),(0,s.Lk)("p",rp,(0,o.v_)(l.booking.vehicleDetails?.year),1),l.booking.vehicleDetails?.location?.city?((0,s.uX)(),(0,s.CE)("p",cp,[t[36]||(t[36]=(0,s.Lk)("i",{class:"bi bi-geo-alt-fill"},null,-1)),(0,s.eW)(" "+(0,o.v_)(l.booking.vehicleDetails.location.city),1)])):(0,s.Q3)("",!0)])]),(0,s.Lk)("div",dp,[t[41]||(t[41]=(0,s.Lk)("h3",{class:"card-section-title"},"Trip Details",-1)),(0,s.Lk)("div",up,[(0,s.Lk)("div",pp,[t[37]||(t[37]=(0,s.Lk)("span",{class:"label"},"Pickup",-1)),(0,s.Lk)("span",hp,(0,o.v_)(n.formatFullDateTime(l.booking.startDate)),1)]),(0,s.Lk)("div",mp,[t[38]||(t[38]=(0,s.Lk)("span",{class:"label"},"Return",-1)),(0,s.Lk)("span",vp,(0,o.v_)(n.formatFullDateTime(l.booking.endDate)),1)]),(0,s.Lk)("div",kp,[t[39]||(t[39]=(0,s.Lk)("span",{class:"label"},"Booked On",-1)),(0,s.Lk)("span",gp,(0,o.v_)(n.formatFullDateTime(l.booking.createdAt)),1)]),(0,s.Lk)("div",fp,[t[40]||(t[40]=(0,s.Lk)("span",{class:"label"},"Duration",-1)),(0,s.Lk)("span",yp,(0,o.v_)(n.calculateDuration(l.booking.startDate,l.booking.endDate)),1)])])]),(0,s.Lk)("div",bp,[t[47]||(t[47]=(0,s.Lk)("h3",{class:"card-section-title"},"Payment Details",-1)),(0,s.Lk)("div",Lp,[(0,s.Lk)("div",wp,[t[42]||(t[42]=(0,s.Lk)("span",{class:"label"},"Total Cost",-1)),(0,s.Lk)("span",Cp,"₱"+(0,o.v_)(l.booking.totalCost?l.booking.totalCost.toLocaleString("en-US",{minimumFractionDigits:2}):"0.00"),1)]),(0,s.Lk)("div",Sp,[t[43]||(t[43]=(0,s.Lk)("span",{class:"label"},"Amount Paid",-1)),(0,s.Lk)("span",Pp,"₱"+(0,o.v_)(l.booking.amountPaid?l.booking.amountPaid.toLocaleString("en-US",{minimumFractionDigits:2}):"0.00"),1)]),(0,s.Lk)("div",Ep,[t[44]||(t[44]=(0,s.Lk)("span",{class:"label"},"Downpayment Due",-1)),(0,s.Lk)("span",Dp,"₱"+(0,o.v_)(l.booking.downPayment?l.booking.downPayment.toLocaleString("en-US",{minimumFractionDigits:2}):"0.00"),1)]),(0,s.Lk)("div",Ap,[t[45]||(t[45]=(0,s.Lk)("span",{class:"label"},"Remaining Balance",-1)),(0,s.Lk)("span",_p,"₱"+(0,o.v_)(l.booking.remainingBalance?l.booking.remainingBalance.toLocaleString("en-US",{minimumFractionDigits:2}):"0.00"),1)]),l.booking.paymentReferenceNumber?((0,s.uX)(),(0,s.CE)("div",Vp,[t[46]||(t[46]=(0,s.Lk)("span",{class:"label"},"Payment Reference",-1)),(0,s.Lk)("span",Ip,(0,o.v_)(l.booking.paymentReferenceNumber),1)])):(0,s.Q3)("",!0),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.booking.extensions,(e,t)=>((0,s.uX)(),(0,s.CE)("div",{class:"detail-item",key:`ext-${t}`},[(0,s.Lk)("span",Fp,"Extension "+(0,o.v_)(t+1)+" ("+(0,o.v_)(e.status)+")",1),(0,s.Lk)("span",xp,"₱"+(0,o.v_)(e.cost.toLocaleString("en-US",{minimumFractionDigits:2})),1)]))),128))])])]),(0,s.Lk)("div",Mp,[(0,s.Lk)("div",Tp,[t[48]||(t[48]=(0,s.Lk)("h3",{class:"card-section-title"},"Host",-1)),(0,s.Lk)("div",Rp,[(0,s.Lk)("img",{src:l.booking.ownerDetails?.profilePhotoUrl||"https://placehold.co/60x60/e2e8f0/666666?text=Host",alt:"Host Avatar",class:"participant-avatar",onError:t[6]||(t[6]=(...e)=>n.onImageError&&n.onImageError(...e))},null,40,Bp),(0,s.Lk)("div",null,[(0,s.Lk)("p",Up,(0,o.v_)(l.booking.ownerDetails?.name||"N/A"),1),(0,s.Lk)("p",Np,(0,o.v_)(l.booking.ownerDetails?.email||"No email available"),1)])])]),(0,s.Lk)("div",Xp,[t[49]||(t[49]=(0,s.Lk)("h3",{class:"card-section-title"},"Renter",-1)),(0,s.Lk)("div",Op,[(0,s.Lk)("img",{src:l.booking.renterDetails?.profilePhotoUrl||"https://placehold.co/60x60/e2e8f0/666666?text=Renter",alt:"Renter Avatar",class:"participant-avatar",onError:t[7]||(t[7]=(...e)=>n.onImageError&&n.onImageError(...e))},null,40,qp),(0,s.Lk)("div",null,[(0,s.Lk)("p",$p,(0,o.v_)(l.booking.renterDetails?.name||"N/A"),1),(0,s.Lk)("p",Qp,(0,o.v_)(l.booking.renterDetails?.email||"No email available"),1)])])]),(0,s.Lk)("div",Wp,[t[62]||(t[62]=(0,s.Lk)("h3",{class:"card-section-title"},"Actions",-1)),n.isTripFinished?((0,s.uX)(),(0,s.CE)("div",ih,[t[59]||(t[59]=(0,s.Lk)("i",{class:"bi bi-patch-check-fill completed-icon"},null,-1)),t[60]||(t[60]=(0,s.Lk)("h4",null,"Trip Completed",-1)),t[61]||(t[61]=(0,s.Lk)("p",null,"This trip finished successfully.",-1)),n.canSubmitReview?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:t[14]||(t[14]=e=>l.isReviewModalOpen=!0),class:"button secondary full-width review-button"},[...t[56]||(t[56]=[(0,s.Lk)("i",{class:"bi bi-star-fill"},null,-1),(0,s.eW)(" Write a Review ",-1)])])):(0,s.Q3)("",!0),n.showReportButton?((0,s.uX)(),(0,s.CE)("button",{key:1,onClick:t[15]||(t[15]=e=>l.isReportModalOpen=!0),class:"button secondary full-width",style:{"margin-bottom":"0.5rem"}},[...t[57]||(t[57]=[(0,s.Lk)("i",{class:"bi bi-flag-fill"},null,-1),(0,s.eW)(" Report Issue ",-1)])])):(0,s.Q3)("",!0),(0,s.Lk)("button",{onClick:t[16]||(t[16]=(...e)=>n.goBack&&n.goBack(...e)),class:"button secondary full-width"},[...t[58]||(t[58]=[(0,s.Lk)("i",{class:"bi bi-arrow-left"},null,-1),(0,s.eW)(" Go Back ",-1)])])])):((0,s.uX)(),(0,s.CE)("div",Hp,[n.showCancelAction?((0,s.uX)(),(0,s.CE)("div",jp,[(0,s.Lk)("button",{onClick:t[8]||(t[8]=(...e)=>n.handleCancelBooking&&n.handleCancelBooking(...e)),class:"button danger full-width",disabled:l.isCancelling},[l.isCancelling?((0,s.uX)(),(0,s.CE)("span",Kp,"Cancelling...")):((0,s.uX)(),(0,s.CE)("span",Gp,[...t[50]||(t[50]=[(0,s.Lk)("i",{class:"bi bi-x-circle",style:{"pointer-events":"none"}},null,-1),(0,s.eW)(" Cancel Booking ",-1)])]))],8,Yp)])):(0,s.Q3)("",!0),n.showExtensionButton?((0,s.uX)(),(0,s.CE)("button",{key:1,onClick:t[9]||(t[9]=e=>l.isExtensionModalOpen=!0),class:"button secondary full-width"},[...t[51]||(t[51]=[(0,s.Lk)("i",{class:"bi bi-clock-history"},null,-1),(0,s.eW)(" Extend Booking ",-1)])])):(0,s.Q3)("",!0),n.showMarkAsReturnedButton?((0,s.uX)(),(0,s.CE)("button",{key:2,onClick:t[10]||(t[10]=(...e)=>n.handleMarkAsReturned&&n.handleMarkAsReturned(...e)),class:"button primary full-width",disabled:l.isMarkingReturned},[l.isMarkingReturned?((0,s.uX)(),(0,s.CE)("span",zp,"Updating...")):((0,s.uX)(),(0,s.CE)("span",Zp,[...t[52]||(t[52]=[(0,s.Lk)("i",{class:"bi bi-check2-circle"},null,-1),(0,s.eW)(" Mark as Returned",-1)])]))],8,Jp)):(0,s.Q3)("",!0),n.showDownloadContractButton?((0,s.uX)(),(0,s.CE)("button",{key:3,onClick:t[11]||(t[11]=(...e)=>n.handleDownloadContract&&n.handleDownloadContract(...e)),class:"button secondary full-width",disabled:l.isDownloadingContract},[l.isDownloadingContract?((0,s.uX)(),(0,s.CE)("span",th,"Downloading...")):((0,s.uX)(),(0,s.CE)("span",ah,[...t[53]||(t[53]=[(0,s.Lk)("i",{class:"bi bi-file-earmark-arrow-down-fill"},null,-1),(0,s.eW)(" Download Contract",-1)])]))],8,eh)):(0,s.Q3)("",!0),n.showReportButton?((0,s.uX)(),(0,s.CE)("button",{key:4,onClick:t[12]||(t[12]=e=>l.isReportModalOpen=!0),class:"button secondary full-width"},[...t[54]||(t[54]=[(0,s.Lk)("i",{class:"bi bi-flag-fill"},null,-1),(0,s.eW)(" Report Issue ",-1)])])):(0,s.Q3)("",!0),(0,s.Lk)("button",{onClick:t[13]||(t[13]=(...e)=>n.goBack&&n.goBack(...e)),class:"button secondary full-width"},[...t[55]||(t[55]=[(0,s.Lk)("i",{class:"bi bi-arrow-left"},null,-1),(0,s.eW)(" Go Back ",-1)])])]))])])])):(0,s.Q3)("",!0),l.booking&&l.vehicle?((0,s.uX)(),(0,s.Wv)(r,{key:3,"is-open":l.isReviewModalOpen,booking:l.booking,vehicle:l.vehicle,onClose:t[17]||(t[17]=e=>l.isReviewModalOpen=!1),onReviewSubmitted:n.handleReviewSubmission},null,8,["is-open","booking","vehicle","onReviewSubmitted"])):(0,s.Q3)("",!0),l.booking?((0,s.uX)(),(0,s.Wv)(c,{key:4,"is-open":l.isPaymentModalOpen||l.isExtensionPaymentModalOpen,booking:l.booking,"payment-type":l.paymentModalType,"amount-due":l.paymentAmountDue,"owner-details":l.booking.ownerDetails,onClose:n.closePaymentModals,onPaymentConfirmed:n.handlePaymentSubmission},null,8,["is-open","booking","payment-type","amount-due","owner-details","onClose","onPaymentConfirmed"])):(0,s.Q3)("",!0),l.booking?((0,s.uX)(),(0,s.Wv)(d,{key:5,"is-open":l.isReportModalOpen,"booking-id":l.booking.id,"user-role":e.userRole,onClose:t[18]||(t[18]=e=>l.isReportModalOpen=!1),onReportSubmitted:n.handleReportSubmission},null,8,["is-open","booking-id","user-role","onReportSubmitted"])):(0,s.Q3)("",!0),l.booking&&l.vehicle?((0,s.uX)(),(0,s.Wv)(u,{key:6,"is-open":l.isExtensionModalOpen,booking:l.booking,vehicle:l.vehicle,onClose:t[19]||(t[19]=e=>l.isExtensionModalOpen=!1),onExtensionRequested:n.handleExtensionRequested},null,8,["is-open","booking","vehicle","onExtensionRequested"])):(0,s.Q3)("",!0)])}a(4603),a(7566),a(8721);const oh={class:"modal-card"},lh={key:0,class:"modal-subtitle"},nh={key:1,class:"form-content"},rh={class:"ratings-section"},ch=["onMouseleave"],dh=["onClick","onMouseover"],uh={class:"comment-section"},ph={key:0,class:"error-message"},hh=["disabled"],mh={key:0},vh={key:1},kh={key:2,class:"success-message"};function gh(e,t,a,l,n,r){return a.isOpen?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"modal-overlay",onClick:t[3]||(t[3]=(0,i.D$)(t=>e.$emit("close"),["self"]))},[(0,s.Lk)("div",oh,[t[7]||(t[7]=(0,s.Lk)("h3",{class:"modal-title"},"Write a Review",-1)),a.vehicle?((0,s.uX)(),(0,s.CE)("p",lh," Share your experience with the "+(0,o.v_)(a.vehicle.make)+" "+(0,o.v_)(a.vehicle.model)+". ",1)):(0,s.Q3)("",!0),n.reviewSent?((0,s.uX)(),(0,s.CE)("div",kh,[t[5]||(t[5]=(0,s.Lk)("h4",null,[(0,s.Lk)("i",{class:"bi bi-check-circle-fill"}),(0,s.eW)(" Thank You!")],-1)),t[6]||(t[6]=(0,s.Lk)("p",null,"Your review has been submitted and will help other guests.",-1)),(0,s.Lk)("button",{onClick:t[2]||(t[2]=t=>e.$emit("close")),class:"action-button"},"Close")])):((0,s.uX)(),(0,s.CE)("div",nh,[(0,s.Lk)("div",rh,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(Object.keys(n.ratings),e=>((0,s.uX)(),(0,s.CE)("div",{key:e,class:"rating-category"},[(0,s.Lk)("label",null,(0,o.v_)(r.formatCategoryName(e)),1),(0,s.Lk)("div",{class:"stars",onMouseleave:t=>r.resetHover(e)},[((0,s.uX)(),(0,s.CE)(s.FK,null,(0,s.pI)(5,t=>(0,s.Lk)("i",{key:t,class:(0,o.C4)(["bi",r.getStarClass(e,t)]),onClick:a=>r.setRating(e,t),onMouseover:a=>r.hoverRating(e,t)},null,42,dh)),64))],40,ch)]))),128))]),(0,s.Lk)("div",uh,[t[4]||(t[4]=(0,s.Lk)("label",{for:"comment"},"Your Review",-1)),(0,s.bo)((0,s.Lk)("textarea",{id:"comment","onUpdate:modelValue":t[0]||(t[0]=e=>n.comment=e),rows:"5",placeholder:"Describe your trip, the vehicle's condition, and your interaction with the host..."},null,512),[[i.Jo,n.comment]])]),n.errorMessage?((0,s.uX)(),(0,s.CE)("p",ph,(0,o.v_)(n.errorMessage),1)):(0,s.Q3)("",!0),(0,s.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>r.submitReview&&r.submitReview(...e)),disabled:n.isSubmitting,class:"action-button"},[n.isSubmitting?((0,s.uX)(),(0,s.CE)("span",mh,"Submitting...")):((0,s.uX)(),(0,s.CE)("span",vh,"Submit Review"))],8,hh)]))])])):(0,s.Q3)("",!0)}var fh={name:"SubmitReviewModal",props:{isOpen:Boolean,booking:Object,vehicle:Object},emits:["close","review-submitted"],data(){return{ratings:{cleanliness:0,maintenance:0,communication:0,convenience:0,accuracy:0},hoveredRatings:{cleanliness:0,maintenance:0,communication:0,convenience:0,accuracy:0},comment:"",isSubmitting:!1,errorMessage:"",reviewSent:!1}},watch:{isOpen(e){e&&this.resetForm()}},methods:{...(0,x.i0)({dispatchSubmitReview:"submitReview"}),formatCategoryName(e){return e.charAt(0).toUpperCase()+e.slice(1)},getStarClass(e,t){const a=this.hoveredRatings[e]||this.ratings[e];return t<=a?"bi-star-fill":"bi-star"},setRating(e,t){this.ratings[e]=t},hoverRating(e,t){this.hoveredRatings[e]=t},resetHover(e){this.hoveredRatings[e]=0},resetForm(){this.ratings={cleanliness:0,maintenance:0,communication:0,convenience:0,accuracy:0},this.hoveredRatings={cleanliness:0,maintenance:0,communication:0,convenience:0,accuracy:0},this.comment="",this.isSubmitting=!1,this.errorMessage="",this.reviewSent=!1},async submitReview(){this.errorMessage="";const e=Object.values(this.ratings).reduce((e,t)=>e+t,0)/5;if(0!==e&&this.comment.trim()){this.isSubmitting=!0;try{if(!this.vehicle||!this.vehicle.id)return this.errorMessage="Vehicle information is missing. Cannot submit review.",console.error('[SubmitReviewModal] Critical Error: The "vehicle" prop is missing or does not have an ID.'),void(this.isSubmitting=!1);const t={bookingId:this.booking.id,vehicleId:this.vehicle.id,rating:e,categoricalRatings:this.ratings,comment:this.comment};await this.dispatchSubmitReview(t),this.reviewSent=!0,this.$emit("review-submitted")}catch(t){console.error("[SubmitReviewModal] An error occurred while dispatching the Vuex action:",t),this.errorMessage=t.response?.data?.message||"Failed to submit review."}finally{this.isSubmitting=!1}}else this.errorMessage="Please provide a rating for all categories and write a comment."}}};const yh=(0,B.A)(fh,[["render",gh],["__scopeId","data-v-d49cfd78"]]);var bh=yh;const Lh={class:"modal-card"},wh={class:"modal-title"},Ch={class:"payment-content"},Sh={key:0,class:"modal-subtitle"},Ph=["src"],Eh={key:1,class:"qr-instructions error"},Dh={class:"input-group"},Ah={class:"terms-section"},_h={class:"checkbox-container"},Vh={key:0,class:"error-message"},Ih={class:"modal-actions"},Fh=["disabled"],xh={key:0},Mh={key:1};function Th(e,t,a,l,n,r){return(0,s.uX)(),(0,s.Wv)(i.eB,{name:"modal-fade"},{default:(0,s.k6)(()=>[a.isOpen?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"modal-overlay",onClick:t[5]||(t[5]=(0,i.D$)(t=>e.$emit("close"),["self"]))},[(0,s.Lk)("div",Lh,[(0,s.Lk)("h3",wh,(0,o.v_)(r.modalTitle),1),(0,s.Lk)("div",Ch,[a.booking?((0,s.uX)(),(0,s.CE)("p",Sh,[t[6]||(t[6]=(0,s.eW)(" Scan the QR code to pay ",-1)),(0,s.Lk)("strong",null,"₱"+(0,o.v_)(r.amountToPay),1),t[7]||(t[7]=(0,s.eW)(". ",-1))])):(0,s.Q3)("",!0),(0,s.Lk)("img",{src:r.qrCodeUrl,alt:"QR Code",class:"qr-code-image",onError:t[0]||(t[0]=(...e)=>r.onQrError&&r.onQrError(...e))},null,40,Ph),r.hasQrCode?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("p",Eh," The host has not provided a QR code. Please contact them to arrange payment. ")),t[9]||(t[9]=(0,s.Lk)("p",{class:"qr-instructions"}," After paying, please enter the transaction reference number below, check the box, and confirm. ",-1)),(0,s.Lk)("div",Dh,[t[8]||(t[8]=(0,s.Lk)("label",{for:"referenceNumber"},"Reference Number:",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"referenceNumber","onUpdate:modelValue":t[1]||(t[1]=e=>n.referenceNumber=e),placeholder:"Enter transaction reference"},null,512),[[i.Jo,n.referenceNumber]])])]),(0,s.Lk)("div",Ah,[(0,s.Lk)("label",_h,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=e=>n.termsAccepted=e)},null,512),[[i.lH,n.termsAccepted]]),t[10]||(t[10]=(0,s.Lk)("span",{class:"checkmark"},null,-1)),t[11]||(t[11]=(0,s.Lk)("span",null,[(0,s.eW)(" I agree to the "),(0,s.Lk)("a",{href:"/terms",target:"_blank"},"terms and conditions"),(0,s.eW)(" and confirm that I have completed the payment. ")],-1))])]),t[12]||(t[12]=(0,s.Lk)("div",{class:"extension-note"},[(0,s.Lk)("i",{class:"bi bi-info-circle-fill"}),(0,s.Lk)("p",null,"Need to extend your trip? Please contact the host directly through our chat system to arrange an extension.")],-1)),n.errorMessage?((0,s.uX)(),(0,s.CE)("p",Vh,(0,o.v_)(n.errorMessage),1)):(0,s.Q3)("",!0),(0,s.Lk)("div",Ih,[(0,s.Lk)("button",{onClick:t[3]||(t[3]=t=>e.$emit("close")),class:"button secondary-button"},"Cancel"),(0,s.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>r.handleConfirmPayment&&r.handleConfirmPayment(...e)),disabled:!r.isReadyToConfirmQr||n.isSubmitting,class:"button primary-button"},[n.isSubmitting?((0,s.uX)(),(0,s.CE)("span",xh,"Confirming...")):((0,s.uX)(),(0,s.CE)("span",Mh,"I Have Paid"))],8,Fh)])])])):(0,s.Q3)("",!0)]),_:1})}var Rh={name:"PaymentModal",props:{isOpen:Boolean,booking:Object,paymentType:{type:String,default:"downpayment"},amountDue:{type:Number,required:!0,default:0},ownerDetails:{type:Object,default:()=>({})}},emits:["close","payment-confirmed"],data(){return{termsAccepted:!1,referenceNumber:"",isSubmitting:!1,errorMessage:"",paymentMethod:"qr"}},computed:{isReadyToConfirmQr(){return this.termsAccepted&&""!==this.referenceNumber.trim()&&this.hasQrCode},modalTitle(){return"Confirm Downpayment"},amountToPay(){return this.amountDue?this.amountDue.toLocaleString("en-US",{minimumFractionDigits:2}):"0.00"},qrCodeUrl(){return this.ownerDetails?.payoutQRCodeUrl||"https://placehold.co/250x250/e2e8f0/666666?text=No+QR+Found"},hasQrCode(){return!!this.qrCodeUrl&&!this.qrCodeUrl.includes("placehold.co")}},watch:{isOpen(e){e&&(this.termsAccepted=!1,this.referenceNumber="",this.isSubmitting=!1,this.errorMessage="",this.paymentMethod="qr")}},methods:{...(0,x.i0)(["confirmDownpaymentByUser"]),async handleConfirmPayment(){if(this.isReadyToConfirmQr){this.isSubmitting=!0,this.errorMessage="";try{const e={bookingId:this.booking.id,referenceNumber:this.referenceNumber.trim(),amount:this.amountDue,paymentMethod:"qr"};await this.confirmDownpaymentByUser(e),this.$emit("payment-confirmed")}catch(e){this.errorMessage=e.response?.data?.message||"Failed to confirm payment. Please try again."}finally{this.isSubmitting=!1}}else this.hasQrCode?this.referenceNumber.trim()?this.termsAccepted||(this.errorMessage="You must agree to the terms and conditions."):this.errorMessage="Please enter your payment reference number.":this.errorMessage="Cannot proceed without a valid QR code from the host."},onQrError(e){e.target.src="https://placehold.co/250x250/e2e8f0/666666?text=QR+Load+Error"}}};const Bh=(0,B.A)(Rh,[["render",Th],["__scopeId","data-v-87257f8a"]]);var Uh=Bh;const Nh={class:"modal-card"},Xh={class:"modal-subtitle"},Oh={key:0},qh={key:1},$h={key:2},Qh={class:"input-group"},Wh={key:2,value:"admin_generic_issue"},Hh={class:"input-group"},jh={key:0,class:"error-message"},Yh={class:"modal-actions"},Kh=["disabled"],Gh={key:0},Jh={key:1};function zh(e,t,a,l,n,r){return a.isOpen?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"modal-overlay",onClick:t[4]||(t[4]=(0,i.D$)(t=>e.$emit("close"),["self"]))},[(0,s.Lk)("div",Nh,[t[10]||(t[10]=(0,s.Lk)("h3",{class:"modal-title"},"Report an Issue",-1)),(0,s.Lk)("p",Xh,["renter"===a.userRole?((0,s.uX)(),(0,s.CE)("span",Oh,"Describe the problem you encountered with your booking (#"+(0,o.v_)(a.bookingId)+").",1)):"owner"===a.userRole?((0,s.uX)(),(0,s.CE)("span",qh,"Describe the problem you encountered with this booking (#"+(0,o.v_)(a.bookingId)+").",1)):((0,s.uX)(),(0,s.CE)("span",$h,"Describe the problem with booking #"+(0,o.v_)(a.bookingId)+".",1))]),(0,s.Lk)("form",{onSubmit:t[3]||(t[3]=(0,i.D$)((...e)=>r.handleSubmit&&r.handleSubmit(...e),["prevent"]))},[(0,s.Lk)("div",Qh,[t[8]||(t[8]=(0,s.Lk)("label",{for:"reportReason"},"Reason:",-1)),(0,s.bo)((0,s.Lk)("select",{id:"reportReason","onUpdate:modelValue":t[0]||(t[0]=e=>n.reportReason=e),required:""},[t[7]||(t[7]=(0,s.Lk)("option",{disabled:"",value:""},"Please select a reason",-1)),"renter"===a.userRole?((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[t[5]||(t[5]=(0,s.Fv)('<option value="renter_vehicle_condition" data-v-74344e45>Vehicle Condition (Not as described, dirty, mechanical issue)</option><option value="renter_host_unresponsive" data-v-74344e45>Host Unresponsive/Late</option><option value="renter_pickup_issue" data-v-74344e45>Problem during Pickup</option><option value="renter_trip_issue" data-v-74344e45>Problem during Trip</option><option value="renter_return_issue" data-v-74344e45>Problem during Return</option><option value="renter_payment_dispute" data-v-74344e45>Billing/Payment Dispute</option><option value="renter_safety_concern" data-v-74344e45>Safety Concern</option><option value="renter_other" data-v-74344e45>Other (Specify Below)</option>',8))],64)):"owner"===a.userRole?((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[t[6]||(t[6]=(0,s.Fv)('<option value="owner_renter_late_pickup" data-v-74344e45>Renter Late for Pickup</option><option value="owner_renter_late_return" data-v-74344e45>Renter Late for Return</option><option value="owner_vehicle_damage" data-v-74344e45>Vehicle Damaged</option><option value="owner_vehicle_dirty" data-v-74344e45>Vehicle Returned Excessively Dirty</option><option value="owner_policy_violation" data-v-74344e45>Renter Violated Policy (Smoking, Pets, etc.)</option><option value="owner_payment_issue" data-v-74344e45>Payment Issue (Renter dispute, etc.)</option><option value="owner_safety_concern" data-v-74344e45>Safety Concern</option><option value="owner_other" data-v-74344e45>Other (Specify Below)</option>',8))],64)):((0,s.uX)(),(0,s.CE)("option",Wh,"Generic Issue"))],512),[[i.u1,n.reportReason]])]),(0,s.Lk)("div",Hh,[t[9]||(t[9]=(0,s.Lk)("label",{for:"reportDetails"},"Details:",-1)),(0,s.bo)((0,s.Lk)("textarea",{id:"reportDetails","onUpdate:modelValue":t[1]||(t[1]=e=>n.reportDetails=e),rows:"4",placeholder:"Please provide specific details about the issue...",required:""},null,512),[[i.Jo,n.reportDetails]])]),n.errorMessage?((0,s.uX)(),(0,s.CE)("p",jh,(0,o.v_)(n.errorMessage),1)):(0,s.Q3)("",!0),(0,s.Lk)("div",Yh,[(0,s.Lk)("button",{type:"button",onClick:t[2]||(t[2]=t=>e.$emit("close")),class:"button secondary-button"},"Cancel"),(0,s.Lk)("button",{type:"submit",disabled:n.isSubmitting,class:"button primary-button"},[n.isSubmitting?((0,s.uX)(),(0,s.CE)("span",Gh,"Submitting...")):((0,s.uX)(),(0,s.CE)("span",Jh,"Submit Report"))],8,Kh)])],32)])])):(0,s.Q3)("",!0)}var Zh={name:"ReportIssueModal",props:{isOpen:Boolean,bookingId:String,userRole:String},emits:["close","report-submitted"],data(){return{reportReason:"",reportDetails:"",isSubmitting:!1,errorMessage:""}},watch:{isOpen(e){e&&(this.reportReason="",this.reportDetails="",this.isSubmitting=!1,this.errorMessage="")}},methods:{...(0,x.i0)(["submitBookingReport"]),async handleSubmit(){if(this.reportReason&&this.reportDetails.trim()){this.isSubmitting=!0,this.errorMessage="";try{await this.submitBookingReport({bookingId:this.bookingId,reason:this.reportReason,details:this.reportDetails.trim(),reporterRole:this.userRole}),this.$emit("report-submitted"),this.$emit("close")}catch(e){console.error("Error submitting report:",e),this.errorMessage=e.response?.data?.message||"Failed to submit report. Please try again."}finally{this.isSubmitting=!1}}else this.errorMessage="Please select a reason and provide details."}}};const em=(0,B.A)(Zh,[["render",zh],["__scopeId","data-v-74344e45"]]);var tm=em;const am={class:"modal-card"},im={key:0,class:"current-return-time"},sm={class:"modal-actions"};function om(e,t,a,l,n,r){return(0,s.uX)(),(0,s.Wv)(i.eB,{name:"modal-fade"},{default:(0,s.k6)(()=>[a.isOpen?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"modal-overlay",onClick:t[1]||(t[1]=(0,i.D$)(t=>e.$emit("close"),["self"]))},[(0,s.Lk)("div",am,[t[3]||(t[3]=(0,s.Lk)("h3",{class:"modal-title"},"Need to extend your trip?",-1)),t[4]||(t[4]=(0,s.Lk)("div",{class:"extension-note"},[(0,s.Lk)("i",{class:"bi bi-info-circle-fill"}),(0,s.Lk)("p",null," To request an extension, please contact the host directly through our chat system or contact them directly with their contact number to coordinate a new return time and any additional costs. ")],-1)),a.booking?((0,s.uX)(),(0,s.CE)("div",im,[t[2]||(t[2]=(0,s.eW)(" Your current return time is: ",-1)),(0,s.Lk)("strong",null,(0,o.v_)(r.formatDateTime(a.booking.endDate)),1)])):(0,s.Q3)("",!0),(0,s.Lk)("div",sm,[(0,s.Lk)("button",{type:"button",onClick:t[0]||(t[0]=t=>e.$emit("close")),class:"button primary-button"}," Got it ")])])])):(0,s.Q3)("",!0)]),_:1})}var lm={name:"BookingExtensionModal",props:{isOpen:Boolean,booking:Object,vehicle:Object},emits:["close"],data(){return{}},computed:{},watch:{isOpen(e){}},methods:{formatDateTime(e){if(!e)return"N/A";try{const t="string"===typeof e?Z.c9.fromISO(e):Z.c9.fromJSDate(e.toDate());return t.isValid?t.toLocaleString(Z.c9.DATETIME_MED):"Invalid Date"}catch(t){return"Invalid Date"}}},mounted(){}};const nm=(0,B.A)(lm,[["render",om],["__scopeId","data-v-d09ee206"]]);var rm=nm,cm={name:"BookingDetailView",components:{SubmitReviewModal:bh,PaymentModal:Uh,ReportIssueModal:tm,BookingExtensionModal:rm},props:["bookingId"],data(){return{loading:!0,errorMessage:null,booking:null,vehicle:null,isReviewModalOpen:!1,isPaymentModalOpen:!1,isMarkingReturned:!1,isReportModalOpen:!1,isExtensionModalOpen:!1,isExtensionPaymentModalOpen:!1,isCancelling:!1,isDownloadingContract:!1,paymentModalType:"downpayment",paymentAmountDue:0}},computed:{...(0,x.L8)(["userRole","user"]),showOwnerActionCard(){if(!this.booking||!this.user)return!1;const e=this.user.uid===this.booking.ownerId;return e&&"pending_owner_approval"===this.booking.paymentStatus},showPaymentActionCard(){if(!this.booking||!this.user)return!1;const e=this.user.uid===this.booking.renterId;return e&&"pending_payment"===this.booking.paymentStatus},showOwnerPaymentConfirmationCard(){if(!this.booking||!this.user)return!1;const e=this.user.uid===this.booking.ownerId;return e&&"downpayment_pending_verification"===this.booking.paymentStatus},showDownpaymentVerifiedMessage(){if(!this.booking||!this.user)return!1;const e=this.user.uid===this.booking.renterId;return e&&"confirmed"===this.booking.paymentStatus},showCancelAction(){if(!this.booking||!this.user)return!1;const e=this.user.uid===this.booking.renterId,t=["pending_owner_approval","pending_payment"];return e&&t.includes(this.booking.paymentStatus)},isCancellationWindowClosed(){return!1},showMarkAsReturnedButton(){if(!this.booking||!this.user||!this.booking.vehicleDetails?.ownerId)return!1;const e=this.user.uid===this.booking.vehicleDetails.ownerId,t=["confirmed","pending_extension_payment","awaiting_return"];return e&&t.includes(this.booking.paymentStatus)},isTripFinished(){return!!this.booking&&["completed","returned","cancelled_by_renter","declined_by_owner"].includes(this.booking.paymentStatus)},canSubmitReview(){if(!this.booking||!this.user)return!1;const e=this.user.uid===this.booking.renterId,t=["completed","returned"].includes(this.booking.paymentStatus),a=!this.booking.reviewSubmitted;return e&&t&&a},showReportButton(){if(!this.booking)return!1;const e=["confirmed","returned","completed","pending_extension_payment","awaiting_return"];return e.includes(this.booking.paymentStatus)},showExtensionButton(){if(!this.booking||!this.user)return!1;const e=this.user.uid===this.booking.renterId;return e&&"confirmed"===this.booking.paymentStatus},latestPendingExtension(){return this.booking&&Array.isArray(this.booking.extensions)&&0!==this.booking.extensions.length?[...this.booking.extensions].reverse().find(e=>"pending_payment"===e.status):null},showPayExtensionCard(){if(!this.booking||!this.user)return!1;const e=this.user.uid===this.booking.renterId;return e&&"pending_extension_payment"===this.booking.paymentStatus&&!!this.latestPendingExtension},showDownloadContractButton(){if(!this.booking||!this.user)return!1;const e=this.user.uid===this.booking.ownerId,t=this.user.uid===this.booking.renterId,a=["confirmed","returned","completed","pending_extension_payment","awaiting_return"];return(e||t||"admin"===this.userRole)&&a.includes(this.booking.paymentStatus)}},methods:{...(0,x.i0)(["getBookingById","updateBookingStatus","getVehicleById","approveBooking","declineBooking","confirmDownpaymentByUser","confirmBookingPayment","cancelBooking","submitBookingReport","requestBookingExtension","confirmExtensionPayment","downloadBookingContract"]),async fetchBooking(){this.loading=!0,this.errorMessage=null;try{const e=await this.getBookingById(this.bookingId);if(!e)throw new Error("Booking not found.");this.booking=e,this.booking.vehicleId?this.vehicle=await this.getVehicleById(this.booking.vehicleId):(console.warn("Vehicle ID missing from booking details."),this.vehicle=null)}catch(e){console.error("Failed to load booking/vehicle details:",e),this.errorMessage=e.message||"Failed to load booking details.",this.booking=null,this.vehicle=null}finally{this.loading=!1}},async handleApproval(e){const t="approve"===e?"Approve this booking request?":"Decline this booking request?";if(window.confirm(t))try{"approve"===e?await this.approveBooking(this.booking.id):await this.declineBooking(this.booking.id),alert(`Booking ${e}d successfully!`),await this.fetchBooking()}catch(a){console.error(`Failed to ${e} booking:`,a),alert(`Error: Failed to ${e} booking. ${a.response?.data?.message||a.message}`)}},async handlePaymentSubmission(){this.closePaymentModals(),"downpayment"===this.paymentModalType?alert("Downpayment submitted for verification! The owner will confirm shortly."):"extension"===this.paymentModalType&&alert("Extension payment submitted! Your booking has been updated."),await this.fetchBooking()},async handleConfirmPayment(){if(window.confirm("Confirm receipt of downpayment? This finalizes the booking."))try{await this.confirmBookingPayment(this.booking.id),alert("Payment confirmed! Booking finalized."),await this.fetchBooking()}catch(e){console.error("Error confirming payment:",e),alert(`Error: Failed to confirm payment. ${e.response?.data?.message||e.message}`)}},async handleCancelBooking(){if(this.showCancelAction){if(window.confirm("Cancel this booking? This cannot be undone.")){this.isCancelling=!0;try{await this.cancelBooking(this.booking.id),alert("Booking cancelled."),await this.fetchBooking()}catch(e){console.error("Error cancelling booking:",e),alert(`Failed to cancel booking: ${e.response?.data?.message||e.message}`)}finally{this.isCancelling=!1}}}else alert(`Booking cannot be cancelled in state: ${this.formatStatus(this.booking.paymentStatus)}.`)},async handleMarkAsReturned(){if(confirm("Mark vehicle as returned? This completes the trip.")){this.isMarkingReturned=!0;try{await this.updateBookingStatus({bookingId:this.booking.id,newStatus:"returned"}),alert("Vehicle marked as returned."),await this.fetchBooking()}catch(e){console.error("Error marking as returned:",e),alert(`Failed to mark as returned: ${e.response?.data?.message||e.message}`)}finally{this.isMarkingReturned=!1}}},handleReviewSubmission(){this.isReviewModalOpen=!1,this.booking&&(this.booking.reviewSubmitted=!0),alert("Review submitted!")},handleReportSubmission(){this.isReportModalOpen=!1,alert("Report submitted.")},handleExtensionRequested(e){this.isExtensionModalOpen=!1,alert(`Extension requested. Status updated. Please pay the fee: ₱${e?.extensionCost?.toFixed(2)||"N/A"}`),this.fetchBooking()},openDownpaymentModal(){this.paymentModalType="downpayment",this.paymentAmountDue=this.booking.downPayment,this.isPaymentModalOpen=!0,this.isExtensionPaymentModalOpen=!1},openExtensionPaymentModal(){const e=this.latestPendingExtension;e&&e.cost>0?(this.paymentModalType="extension",this.paymentAmountDue=e.cost,this.isExtensionPaymentModalOpen=!0,this.isPaymentModalOpen=!1):(console.error("Cannot open extension payment modal: No pending extension or cost is missing."),alert("Error: No pending extension payment found."))},closePaymentModals(){this.isPaymentModalOpen=!1,this.isExtensionPaymentModalOpen=!1},async handleDownloadContract(){this.isDownloadingContract=!0,console.log("%c[Download] Starting download...","color: blue; font-weight: bold;");try{const{data:e,filename:t}=await this.downloadBookingContract(this.booking.id);if(console.log("[Download] Received data from Vuex:",e),console.log("[Download] Received filename from Vuex:",t),console.log("[Download] Is data a Blob?",e instanceof Blob),console.log("[Download] Blob MIME type:",e.type),console.log("[Download] Blob size:",e.size),!(e instanceof Blob))return console.error("[Download] CRITICAL ERROR: Data is NOT a blob!",e),alert("Download failed: Received invalid data from server."),void(this.isDownloadingContract=!1);const a=window.URL.createObjectURL(e);console.log("[Download] Created object URL:",a);const i=document.createElement("a");i.href=a,i.setAttribute("download",`BookingContract-${this.booking.id}.pdf`),document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(a),console.log("%c[Download] Download triggered successfully.","color: green; font-weight: bold;")}catch(e){if(console.error("Error in handleDownloadContract:",e),e.response?.data instanceof Blob)try{const t=await e.response.data.text(),a=JSON.parse(t);alert(`Failed to download contract: ${a.message||"Server error"}`)}catch(t){alert("Failed to download contract: An unknown server error occurred.")}else alert(`Failed to download contract: ${e.response?.data?.message||e.message}`)}finally{this.isDownloadingContract=!1}},onImageError(e){e.target.src="https://placehold.co/60x60/e2e8f0/666666?text=User"},getVehicleImageUrl(e){return e?.exteriorPhotos?.length>0?e.exteriorPhotos[0]:"https://placehold.co/200x150/e2e8f0/666666?text=No+Image"},formatFullDateTime(e){if(!e)return"N/A";const t=e&&e.toDate?e.toDate():new Date(e);if(isNaN(t.getTime()))return"Invalid Date";const a=Z.c9.fromJSDate(t);return a.isValid?a.toLocaleString(Z.c9.DATETIME_MED):"Invalid Date"},calculateDuration(e,t){if(!e||!t)return"N/A";const a=e.toDate?e.toDate():new Date(e),i=t.toDate?t.toDate():new Date(t);if(isNaN(a.getTime())||isNaN(i.getTime()))return"Invalid dates";const s=Z.c9.fromJSDate(a),o=Z.c9.fromJSDate(i);if(!s.isValid||!o.isValid||s>=o)return"Invalid dates";const l=o.diff(s,["days","hours"]).normalize();let n="";return l.days>0&&(n+=`${l.days} day${l.days>1?"s":""}`),l.hours>0&&(n+=`${n?", ":""}${Math.round(l.hours)} hour${l.hours>1?"s":""}`),n||"Less than an hour"},formatStatus(e){return e?e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()):"Unknown"},getStatusClass(e){return e?["confirmed","completed","returned","downpayment_verified"].includes(e)?"status-success":["pending_owner_approval","pending_payment","downpayment_pending_verification","pending_extension_payment"].includes(e)?"status-warning":e?.includes("cancelled")||e?.includes("declined")?"status-danger":"status-default":"status-default"},goBack(){this.$router.go(-1)}},created(){this.fetchBooking()}};const dm=(0,B.A)(cm,[["render",sh],["__scopeId","data-v-0a72dba0"]]);var um=dm;const pm={class:"profile-container"},hm={key:1,class:"loading-state"},mm={key:2,class:"error-state"},vm={key:3,class:"profile-content"},km={class:"profile-left-section"},gm={class:"profile-photo-container"},fm=["src"],ym=["src"],bm={class:"profile-info-header"},Lm={class:"profile-info-block"},wm={class:"profile-info-block"},Cm={class:"profile-info-block"},Sm={class:"verification-list"},Pm={class:"verification-item"},Em={class:"item-label"},Dm={key:0,class:"check-icon"},Am={key:1,class:"cross-icon"},_m={class:"verification-item"},Vm={class:"item-label"},Im={key:0,class:"check-icon"},Fm={key:1,class:"cross-icon"},xm={class:"value-and-action"},Mm={class:"item-value"},Tm={key:0,class:"email-verification-ui"},Rm={class:"verification-instructions"},Bm={class:"form-group"},Um=["disabled"],Nm={key:0},Xm={key:1},Om={class:"verification-item"},qm={class:"item-label"},$m={key:0,class:"check-icon"},Qm={key:1,class:"cross-icon"},Wm={class:"value-and-action"},Hm={class:"item-value"},jm={key:1,class:"email-verification-ui"},Ym={key:0,class:"verification-instructions"},Km={key:1,class:"verification-instructions"},Gm={key:2,class:"form-group"},Jm=["disabled"],zm={key:0},Zm={key:1},ev={class:"verification-item"},tv={class:"item-label"},av={key:0,class:"check-icon"},iv={key:1,class:"cross-icon"},sv={class:"value-and-action"},ov=["src"],lv={key:1,class:"item-value"},nv={key:0,class:"email-verification-ui"},rv=["disabled"],cv={key:0},dv={key:1},uv={key:0,class:"form-group",style:{"margin-top":"1rem"}},pv=["disabled"],hv={key:0},mv={key:1},vv=["disabled"],kv={key:0},gv={key:1},fv={class:"profile-info-block"},yv={class:"about-text"},bv={class:"profile-right-section"},Lv={class:"profile-section"},wv={key:0,class:"loading-state small"},Cv={key:1,class:"vehicle-list"},Sv={key:2,class:"empty-state small"},Pv={class:"profile-section"},Ev={key:0,class:"loading-state small"},Dv={key:1,class:"review-list"},Av={key:2,class:"empty-state small"},_v={key:3,class:"error-message small"};function Vv(e,t,a,l,n,r){const c=(0,s.g2)("VerificationReminder"),d=(0,s.g2)("ProfileVehicleCard"),u=(0,s.g2)("ProfileReviewCard"),p=(0,s.g2)("EditProfileModal"),h=(0,s.g2)("UpdatePhoneNumberModal");return(0,s.uX)(),(0,s.CE)("div",pm,[r.profileData&&r.isOwnProfile?((0,s.uX)(),(0,s.Wv)(c,{key:0,"is-email-verified":r.isEmailVerified,"is-mobile-verified":r.isMobileVerified,"is-approved-to-drive":r.isApprovedToDrive,onVerifyNow:r.startEmailVerification,onApproveToDrive:r.goToApplicationPage},null,8,["is-email-verified","is-mobile-verified","is-approved-to-drive","onVerifyNow","onApproveToDrive"])):(0,s.Q3)("",!0),!r.profileData&&n.loadingProfile?((0,s.uX)(),(0,s.CE)("div",hm,[...t[16]||(t[16]=[(0,s.Lk)("p",null,"Loading profile...",-1)])])):r.profileData?((0,s.uX)(),(0,s.CE)("div",vm,[(0,s.Lk)("div",km,[(0,s.Lk)("div",gm,[r.profileData.profilePhotoUrl?((0,s.uX)(),(0,s.CE)("img",{key:0,src:r.profileData.profilePhotoUrl,alt:"Profile Photo",class:"profile-photo"},null,8,fm)):((0,s.uX)(),(0,s.CE)("img",{key:1,src:n.initialsDataUrl,alt:"Profile Initials",class:"profile-photo initials-photo"},null,8,ym))]),(0,s.Lk)("div",bm,[(0,s.Lk)("h4",null,(0,o.v_)(r.profileData.firstName)+" "+(0,o.v_)(r.profileData.lastName),1),r.isOwnProfile?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>r.openEditModal&&r.openEditModal(...e)),class:"edit-button"},[...t[18]||(t[18]=[(0,s.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[(0,s.Lk)("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),(0,s.Lk)("path",{"fill-rule":"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z","clip-rule":"evenodd"})],-1)])])):(0,s.Q3)("",!0)]),(0,s.Lk)("div",Lm,[t[19]||(t[19]=(0,s.Lk)("h4",null,"Address",-1)),(0,s.Lk)("p",null,(0,o.v_)(r.formattedAddress),1)]),(0,s.Lk)("div",wm,[t[20]||(t[20]=(0,s.Lk)("h4",null,"Joined",-1)),(0,s.Lk)("p",null,(0,o.v_)(r.formattedJoinDate),1)]),(0,s.Lk)("div",Cm,[t[28]||(t[28]=(0,s.Lk)("h4",null,"Verified info",-1)),(0,s.Lk)("ul",Sm,[(0,s.Lk)("li",Pm,[(0,s.Lk)("div",Em,[r.isApprovedToDrive?((0,s.uX)(),(0,s.CE)("span",Dm,"✓")):((0,s.uX)(),(0,s.CE)("span",Am,"×")),t[21]||(t[21]=(0,s.eW)(" Approved to Drive ",-1))])]),(0,s.Lk)("li",_m,[(0,s.Lk)("div",Vm,[r.isMobileVerified?((0,s.uX)(),(0,s.CE)("span",Im,"✓")):((0,s.uX)(),(0,s.CE)("span",Fm,"×")),t[22]||(t[22]=(0,s.eW)(" Mobile Number ",-1))]),(0,s.Lk)("div",xm,[(0,s.Lk)("span",Mm,(0,o.v_)(r.profileData.phoneNumber||"Not set"),1),r.isOwnProfile&&!r.isMobileVerified?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:t[1]||(t[1]=(...e)=>r.startPhoneVerificationViaEmail&&r.startPhoneVerificationViaEmail(...e)),class:"change-button verify-button"}," Verify ")):(0,s.Q3)("",!0),r.isOwnProfile&&r.isMobileVerified?((0,s.uX)(),(0,s.CE)("button",{key:1,onClick:t[2]||(t[2]=(...e)=>r.openChangePhoneModal&&r.openChangePhoneModal(...e)),class:"change-button"}," Change ")):(0,s.Q3)("",!0)])]),n.isVerifyingPhone?((0,s.uX)(),(0,s.CE)("li",Tm,[(0,s.Lk)("p",Rm,"To verify your phone, enter the 6-digit code we sent to your email address: "+(0,o.v_)(r.profileData.email)+".",1),(0,s.Lk)("div",Bm,[(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>n.verificationCode=e),placeholder:"123456",maxlength:"6"},null,512),[[i.Jo,n.verificationCode]]),(0,s.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>r.submitPhoneVerificationCode&&r.submitPhoneVerificationCode(...e)),disabled:n.verificationLoading,class:"submit-otp-button"},[n.verificationLoading?((0,s.uX)(),(0,s.CE)("span",Nm,"Verifying...")):((0,s.uX)(),(0,s.CE)("span",Xm,"Submit"))],8,Um)]),n.verificationMessage?((0,s.uX)(),(0,s.CE)("p",{key:0,class:(0,o.C4)(n.verificationStatusIsError?"error-message small":"success-message small")},(0,o.v_)(n.verificationMessage),3)):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0),(0,s.Lk)("li",Om,[(0,s.Lk)("div",qm,[r.isEmailVerified?((0,s.uX)(),(0,s.CE)("span",$m,"✓")):((0,s.uX)(),(0,s.CE)("span",Qm,"×")),t[23]||(t[23]=(0,s.eW)(" Email Address ",-1))]),(0,s.Lk)("div",Wm,[(0,s.Lk)("span",Hm,(0,o.v_)(r.profileData.email),1),r.isOwnProfile&&!r.isEmailVerified?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:t[5]||(t[5]=(...e)=>r.startEmailVerification&&r.startEmailVerification(...e)),class:"change-button verify-button"}," Verify ")):(0,s.Q3)("",!0)])]),n.isVerifyingEmail?((0,s.uX)(),(0,s.CE)("li",jm,[n.emailCodeSent?((0,s.uX)(),(0,s.CE)("p",Km,"Enter the 6-digit code sent to "+(0,o.v_)(r.profileData.email)+".",1)):((0,s.uX)(),(0,s.CE)("p",Ym,"Click the button to send a verification code to your email.")),n.emailCodeSent?((0,s.uX)(),(0,s.CE)("div",Gm,[(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=e=>n.emailOtpCode=e),placeholder:"123456",maxlength:"6"},null,512),[[i.Jo,n.emailOtpCode]]),(0,s.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>r.submitEmailCode&&r.submitEmailCode(...e)),disabled:n.verificationLoading,class:"submit-otp-button"},[n.verificationLoading?((0,s.uX)(),(0,s.CE)("span",zm,"Verifying...")):((0,s.uX)(),(0,s.CE)("span",Zm,"Submit"))],8,Jm)])):(0,s.Q3)("",!0),n.emailVerificationMessage?((0,s.uX)(),(0,s.CE)("p",{key:3,class:(0,o.C4)(n.emailVerificationStatusIsError?"error-message small":"success-message small")},(0,o.v_)(n.emailVerificationMessage),3)):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0),r.isOwnProfile&&"owner"===r.profileData.role?((0,s.uX)(),(0,s.CE)(s.FK,{key:2},[(0,s.Lk)("li",ev,[(0,s.Lk)("div",tv,[r.payoutQRCodeUrl?((0,s.uX)(),(0,s.CE)("span",av,"✓")):((0,s.uX)(),(0,s.CE)("span",iv,"×")),t[24]||(t[24]=(0,s.eW)(" Payment QR Code ",-1))]),(0,s.Lk)("div",sv,[r.payoutQRCodeUrl?((0,s.uX)(),(0,s.CE)("img",{key:0,src:r.payoutQRCodeUrl,alt:"QR Code",class:"qr-code-thumb"},null,8,ov)):((0,s.uX)(),(0,s.CE)("span",lv,"Not set")),r.isOwnProfile?((0,s.uX)(),(0,s.CE)("button",{key:2,onClick:t[8]||(t[8]=(...e)=>r.startQRCodeUpdateVerification&&r.startQRCodeUpdateVerification(...e)),class:"change-button"},(0,o.v_)(r.payoutQRCodeUrl?"Update":"Add"),1)):(0,s.Q3)("",!0)])]),n.isVerifyingQRCode?((0,s.uX)(),(0,s.CE)("li",nv,[n.isQRCodeUpdateUnlocked?((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[t[27]||(t[27]=(0,s.Lk)("p",{class:"verification-instructions"},"Verification successful! You can now upload your new QR code image.",-1)),(0,s.Lk)("input",{type:"file",ref:"qrCodeInput",onChange:t[12]||(t[12]=(...e)=>r.handleQRCodeUpload&&r.handleQRCodeUpload(...e)),accept:"image/png, image/jpeg",class:"hidden-file-input"},null,544),(0,s.Lk)("button",{onClick:t[13]||(t[13]=(...e)=>r.triggerQRCodeUpload&&r.triggerQRCodeUpload(...e)),disabled:n.qrCodeUploadLoading,class:"button primary full-width"},[n.qrCodeUploadLoading?((0,s.uX)(),(0,s.CE)("span",kv,"Uploading...")):((0,s.uX)(),(0,s.CE)("span",gv,[...t[26]||(t[26]=[(0,s.Lk)("i",{class:"bi bi-upload"},null,-1),(0,s.eW)(" Upload New QR Code ",-1)])]))],8,vv)],64)):((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[t[25]||(t[25]=(0,s.Lk)("p",{class:"verification-instructions"},"For your security, we need to verify your identity. A verification code will be sent to your email.",-1)),(0,s.Lk)("button",{onClick:t[9]||(t[9]=e=>r.sendVerificationCode("qr")),disabled:n.verificationLoading,class:"button primary full-width"},[n.verificationLoading?((0,s.uX)(),(0,s.CE)("span",cv,"Sending...")):((0,s.uX)(),(0,s.CE)("span",dv,"Send Code to "+(0,o.v_)(r.profileData.email),1))],8,rv),n.qrCodeVerificationMessage&&!n.qrCodeVerificationError?((0,s.uX)(),(0,s.CE)("div",uv,[(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[10]||(t[10]=e=>n.qrCodeVerificationCode=e),placeholder:"123456",maxlength:"6"},null,512),[[i.Jo,n.qrCodeVerificationCode]]),(0,s.Lk)("button",{onClick:t[11]||(t[11]=(...e)=>r.submitQRCodeVerificationCode&&r.submitQRCodeVerificationCode(...e)),disabled:n.verificationLoading,class:"submit-otp-button"},[n.verificationLoading?((0,s.uX)(),(0,s.CE)("span",hv,"Verifying...")):((0,s.uX)(),(0,s.CE)("span",mv,"Submit"))],8,pv)])):(0,s.Q3)("",!0)],64)),n.qrCodeVerificationMessage?((0,s.uX)(),(0,s.CE)("p",{key:2,class:(0,o.C4)(n.qrCodeVerificationError?"error-message small":"success-message small")},(0,o.v_)(n.qrCodeVerificationMessage),3)):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0)],64)):(0,s.Q3)("",!0)])]),(0,s.Lk)("div",fv,[t[29]||(t[29]=(0,s.Lk)("h4",null,"About",-1)),(0,s.Lk)("p",yv,(0,o.v_)(r.profileData.about||"No information provided."),1)])]),(0,s.Lk)("div",bv,[(0,s.Lk)("div",Lv,[(0,s.Lk)("h4",null,(0,o.v_)(r.isOwnProfile?"My":`${r.profileData.firstName}'s`)+" Listings",1),n.isLoadingVehicles?((0,s.uX)(),(0,s.CE)("div",wv,[...t[30]||(t[30]=[(0,s.Lk)("p",null,"Loading listings...",-1)])])):n.ownerVehicles.length>0?((0,s.uX)(),(0,s.CE)("div",Cv,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.ownerVehicles,e=>((0,s.uX)(),(0,s.Wv)(d,{key:e.id,vehicle:e},null,8,["vehicle"]))),128))])):((0,s.uX)(),(0,s.CE)("div",Sv,[(0,s.Lk)("p",null,(0,o.v_)(r.isOwnProfile?"You have":"This user has")+" no listings yet.",1)]))]),(0,s.Lk)("div",Pv,[(0,s.Lk)("h4",null,"Reviews for "+(0,o.v_)(r.isOwnProfile?"Me":r.profileData.firstName)+" as Host",1),n.isLoadingReviews?((0,s.uX)(),(0,s.CE)("div",Ev,[...t[31]||(t[31]=[(0,s.Lk)("p",null,"Loading reviews...",-1)])])):n.ownerReviews.length>0?((0,s.uX)(),(0,s.CE)("div",Dv,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.ownerReviews,e=>((0,s.uX)(),(0,s.Wv)(u,{key:e.id,review:e,"is-owner":r.isOwnProfile&&"owner"===r.profileData.role,onSubmitReply:r.handleSubmitReply},null,8,["review","is-owner","onSubmitReply"]))),128))])):((0,s.uX)(),(0,s.CE)("div",Av,[...t[32]||(t[32]=[(0,s.Lk)("p",null,"This host has no reviews yet.",-1)])])),n.replyError?((0,s.uX)(),(0,s.CE)("p",_v,(0,o.v_)(n.replyError),1)):(0,s.Q3)("",!0)])])])):((0,s.uX)(),(0,s.CE)("div",mm,[...t[17]||(t[17]=[(0,s.Lk)("p",{class:"error-message"},"Could not load user profile.",-1)])])),r.profileData?((0,s.uX)(),(0,s.Wv)(p,{key:4,"is-open":n.isEditModalOpen,"profile-data":r.profileData,onClose:t[14]||(t[14]=e=>n.isEditModalOpen=!1),onProfileUpdated:r.handleProfileUpdate},null,8,["is-open","profile-data","onProfileUpdated"])):(0,s.Q3)("",!0),(0,s.bF)(h,{"is-open":n.isChangePhoneModalOpen,onClose:t[15]||(t[15]=e=>n.isChangePhoneModalOpen=!1),onPhoneUpdated:r.handleProfileUpdate},null,8,["is-open","onPhoneUpdated"])])}const Iv={class:"modal-header"},Fv={class:"modal-body"},xv={key:0},Mv={class:"form-group"},Tv={class:"profile-photo-uploader"},Rv=["src"],Bv={class:"photo-buttons"},Uv={class:"name-grid"},Nv={class:"form-group"},Xv={class:"form-group"},Ov={key:1},qv={class:"form-group"},$v={class:"form-group"},Qv={key:2},Wv={class:"form-group"},Hv={class:"modal-footer"},jv={key:0,class:"success-message"},Yv={key:1,class:"error-message"},Kv={class:"navigation-controls"},Gv=["disabled"];function Jv(e,t,a,l,n,r){return(0,s.uX)(),(0,s.Wv)(i.eB,{name:"modal-fade"},{default:(0,s.k6)(()=>[a.isOpen?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"modal-overlay",onClick:t[13]||(t[13]=t=>e.$emit("close"))},[(0,s.Lk)("div",{class:"modal-content",onClick:t[12]||(t[12]=(0,i.D$)(()=>{},["stop"]))},[(0,s.Lk)("div",Iv,[t[14]||(t[14]=(0,s.Lk)("h2",null,"Edit Your Profile",-1)),(0,s.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$emit("close")),class:"close-modal-button"}," × ")]),(0,s.Lk)("div",Fv,[1===n.currentStep?((0,s.uX)(),(0,s.CE)("div",xv,[t[20]||(t[20]=(0,s.Lk)("p",{class:"step-info-text"},"Update your name and profile picture.",-1)),(0,s.Lk)("div",Mv,[t[17]||(t[17]=(0,s.Lk)("label",null,"Profile Picture",-1)),(0,s.Lk)("div",Tv,[(0,s.Lk)("img",{src:n.profilePhotoPreview,alt:"Profile preview",class:"photo-preview",onError:t[1]||(t[1]=(...e)=>r.setDefaultAvatar&&r.setDefaultAvatar(...e))},null,40,Rv),(0,s.Lk)("div",Bv,[(0,s.Lk)("input",{type:"file",ref:"fileInput",onChange:t[2]||(t[2]=(...e)=>r.onFileSelected&&r.onFileSelected(...e)),accept:"image/png, image/jpeg",hidden:""},null,544),(0,s.Lk)("button",{type:"button",onClick:t[3]||(t[3]=(...e)=>r.triggerFileInput&&r.triggerFileInput(...e)),class:"button-upload"},[...t[15]||(t[15]=[(0,s.Lk)("i",{class:"bi bi-camera-fill"},null,-1),(0,s.eW)(" Change ",-1)])]),n.profilePhotoPreview?((0,s.uX)(),(0,s.CE)("button",{key:0,type:"button",onClick:t[4]||(t[4]=(...e)=>r.removeImage&&r.removeImage(...e)),class:"button-remove"},[...t[16]||(t[16]=[(0,s.Lk)("i",{class:"bi bi-trash-fill"},null,-1),(0,s.eW)(" Remove ",-1)])])):(0,s.Q3)("",!0)])])]),(0,s.Lk)("div",Uv,[(0,s.Lk)("div",Nv,[t[18]||(t[18]=(0,s.Lk)("label",{for:"firstName"},"First Name",-1)),(0,s.bo)((0,s.Lk)("input",{id:"firstName","onUpdate:modelValue":t[5]||(t[5]=e=>n.editableProfile.firstName=e),type:"text",placeholder:"Enter your first name"},null,512),[[i.Jo,n.editableProfile.firstName]])]),(0,s.Lk)("div",Xv,[t[19]||(t[19]=(0,s.Lk)("label",{for:"lastName"},"Last Name",-1)),(0,s.bo)((0,s.Lk)("input",{id:"lastName","onUpdate:modelValue":t[6]||(t[6]=e=>n.editableProfile.lastName=e),type:"text",placeholder:"Enter your last name"},null,512),[[i.Jo,n.editableProfile.lastName]])])])])):(0,s.Q3)("",!0),2===n.currentStep?((0,s.uX)(),(0,s.CE)("div",Ov,[t[23]||(t[23]=(0,s.Lk)("p",{class:"step-info-text"},"Update your address.",-1)),(0,s.Lk)("div",qv,[t[21]||(t[21]=(0,s.Lk)("label",{for:"address-brgy"},"Barangay",-1)),(0,s.bo)((0,s.Lk)("input",{id:"address-brgy","onUpdate:modelValue":t[7]||(t[7]=e=>n.editableProfile.address.barangay=e),type:"text",placeholder:"e.g., Apas"},null,512),[[i.Jo,n.editableProfile.address.barangay]])]),(0,s.Lk)("div",$v,[t[22]||(t[22]=(0,s.Lk)("label",{for:"address-city"},"City",-1)),(0,s.bo)((0,s.Lk)("input",{id:"address-city","onUpdate:modelValue":t[8]||(t[8]=e=>n.editableProfile.address.city=e),type:"text",placeholder:"e.g., Cebu City"},null,512),[[i.Jo,n.editableProfile.address.city]])])])):(0,s.Q3)("",!0),3===n.currentStep?((0,s.uX)(),(0,s.CE)("div",Qv,[t[25]||(t[25]=(0,s.Lk)("p",{class:"step-info-text"},"Tell potential renters a little about yourself.",-1)),(0,s.Lk)("div",Wv,[t[24]||(t[24]=(0,s.Lk)("label",{for:"about"},"About",-1)),(0,s.bo)((0,s.Lk)("textarea",{id:"about","onUpdate:modelValue":t[9]||(t[9]=e=>n.editableProfile.about=e),rows:"5",placeholder:"e.g., I'm a car enthusiast..."},null,512),[[i.Jo,n.editableProfile.about]])])])):(0,s.Q3)("",!0)]),(0,s.Lk)("div",Hv,[n.successMessage?((0,s.uX)(),(0,s.CE)("p",jv,(0,o.v_)(n.successMessage),1)):(0,s.Q3)("",!0),n.errorMessage?((0,s.uX)(),(0,s.CE)("p",Yv,(0,o.v_)(n.errorMessage),1)):(0,s.Q3)("",!0),(0,s.Lk)("div",Kv,[n.currentStep>1?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:t[10]||(t[10]=(...e)=>r.prevStep&&r.prevStep(...e)),class:"nav-button secondary"},"Back")):(0,s.Q3)("",!0),(0,s.Lk)("button",{onClick:t[11]||(t[11]=(...e)=>r.nextStep&&r.nextStep(...e)),class:"nav-button primary",disabled:n.isSaving},(0,o.v_)(n.isSaving?"Saving...":r.nextButtonText),9,Gv)])])])])):(0,s.Q3)("",!0)]),_:1})}var zv={name:"EditProfileModal",props:{isOpen:{type:Boolean,required:!0},profileData:{type:Object,required:!0}},emits:["close","profile-updated"],data(){return{currentStep:1,editableProfile:{firstName:"",lastName:"",address:{barangay:"",city:""},about:"",profilePhotoUrl:null},profilePhotoPreview:null,profilePhotoBase64:null,isSaving:!1,successMessage:"",errorMessage:""}},computed:{nextButtonText(){return 3===this.currentStep?"Save Changes":"Next"}},watch:{isOpen(e){e&&(this.populateEditForm(this.profileData),this.successMessage="",this.errorMessage="",this.currentStep=1)}},methods:{...(0,x.i0)(["updateUserProfile"]),getDefaultAvatar(){return"https://placehold.co/150x150/e2e8f0/666666?text=User"},setDefaultAvatar(e){e.target.src=this.getDefaultAvatar()},populateEditForm(e){this.editableProfile.firstName=e.firstName||"",this.editableProfile.lastName=e.lastName||"",this.editableProfile.about=e.about||"",this.editableProfile.profilePhotoUrl=e.profilePhotoUrl||null,this.profilePhotoPreview=e.profilePhotoUrl||this.getDefaultAvatar(),this.profilePhotoBase64=null,"object"===typeof e.address&&null!==e.address?(this.editableProfile.address.barangay=e.address.barangay||"",this.editableProfile.address.city=e.address.city||""):this.editableProfile.address={barangay:"",city:""}},triggerFileInput(){this.$refs.fileInput.click()},onFileSelected(e){const t=e.target.files[0];if(!t)return;if(!t.type.startsWith("image/"))return void(this.errorMessage="Please select a valid image file.");if(t.size>2097152)return void(this.errorMessage="File is too large (Max 2MB).");this.errorMessage="",this.profilePhotoPreview=URL.createObjectURL(t);const a=new FileReader;a.onload=e=>{this.profilePhotoBase64=e.target.result,this.editableProfile.profilePhotoUrl=null},a.readAsDataURL(t)},removeImage(){this.profilePhotoPreview=this.getDefaultAvatar(),this.profilePhotoBase64=null,this.editableProfile.profilePhotoUrl=null},nextStep(){this.successMessage="",this.errorMessage="",this.currentStep<3?this.currentStep++:this.saveProfile()},prevStep(){this.currentStep>1&&this.currentStep--},async saveProfile(){this.isSaving=!0,this.successMessage="",this.errorMessage="";const e={...this.editableProfile};this.profilePhotoBase64&&(e.profilePhotoBase64=this.profilePhotoBase64);try{await this.updateUserProfile(e),this.successMessage="Profile updated successfully!",this.$emit("profile-updated"),this.profilePhotoBase64=null,setTimeout(()=>this.$emit("close"),1500)}catch(t){this.errorMessage=t.response?.data?.message||"Failed to update profile."}finally{this.isSaving=!1}}}};const Zv=(0,B.A)(zv,[["render",Jv],["__scopeId","data-v-8a2d4962"]]);var ek=Zv;const tk={class:"reminders-container"},ak={key:0,class:"reminder-banner warning"},ik={key:1,class:"reminder-banner info"};function sk(e,t,a,i,o,l){return(0,s.uX)(),(0,s.CE)("div",tk,[a.isApprovedToDrive?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",ak,[t[2]||(t[2]=(0,s.Lk)("div",{class:"banner-content"},[(0,s.Lk)("i",{class:"bi bi-exclamation-triangle-fill"}),(0,s.Lk)("p",null,"To book or list a vehicle, you need to be approved to drive. Complete your application now.")],-1)),(0,s.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$emit("approve-to-drive")),class:"action-button"},"Complete Application")])),a.isEmailVerified&&a.isMobileVerified||!a.isApprovedToDrive?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",ik,[t[3]||(t[3]=(0,s.Lk)("div",{class:"banner-content"},[(0,s.Lk)("i",{class:"bi bi-info-circle-fill"}),(0,s.Lk)("p",null,"Complete your profile by verifying your email and mobile number.")],-1)),(0,s.Lk)("button",{onClick:t[1]||(t[1]=t=>e.$emit("verify-now")),class:"action-button"},"Verify Now")]))])}var ok={name:"VerificationReminder",props:{isEmailVerified:Boolean,isMobileVerified:Boolean,isApprovedToDrive:Boolean},emits:["verify-now","approve-to-drive"]};const lk=(0,B.A)(ok,[["render",sk],["__scopeId","data-v-12175a3f"]]);var nk=lk;const rk={class:"modal-card"},ck={key:0,class:"form-step"},dk={class:"input-group"},uk=["disabled"],pk={key:0},hk={key:1},mk={key:1,class:"form-step"},vk={class:"input-group"},kk={class:"phone-input-wrapper"},gk={class:"input-group"},fk=["disabled"],yk={key:0},bk={key:1},Lk={key:2,class:"error-message"};function wk(e,t,a,l,n,r){return a.isOpen?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"modal-overlay",onClick:t[6]||(t[6]=(0,i.D$)((...e)=>r.closeModal&&r.closeModal(...e),["self"]))},[(0,s.Lk)("div",rk,[t[13]||(t[13]=(0,s.Lk)("h3",{class:"modal-title"},"Change Phone Number",-1)),"password"===n.currentStep?((0,s.uX)(),(0,s.CE)("div",ck,[t[8]||(t[8]=(0,s.Lk)("p",{class:"modal-subtitle"}," For your security, please enter your password to continue. ",-1)),(0,s.Lk)("div",dk,[t[7]||(t[7]=(0,s.Lk)("label",{for:"current-password"},"Password",-1)),(0,s.bo)((0,s.Lk)("input",{id:"current-password","onUpdate:modelValue":t[0]||(t[0]=e=>n.password=e),type:"password",placeholder:"••••••••",onKeyup:t[1]||(t[1]=(0,i.jR)((...e)=>r.handlePasswordVerification&&r.handlePasswordVerification(...e),["enter"]))},null,544),[[i.Jo,n.password]])]),(0,s.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>r.handlePasswordVerification&&r.handlePasswordVerification(...e)),disabled:n.isLoading,class:"action-button"},[n.isLoading?((0,s.uX)(),(0,s.CE)("span",pk,"Verifying...")):((0,s.uX)(),(0,s.CE)("span",hk,"Continue"))],8,uk)])):(0,s.Q3)("",!0),"verify"===n.currentStep?((0,s.uX)(),(0,s.CE)("div",mk,[t[12]||(t[12]=(0,s.Lk)("p",{class:"modal-subtitle"}," Please enter your new phone number and the 6-digit code we sent to your email. ",-1)),(0,s.Lk)("div",vk,[t[10]||(t[10]=(0,s.Lk)("label",{for:"new-phone-number"},"New Phone Number",-1)),(0,s.Lk)("div",kk,[t[9]||(t[9]=(0,s.Lk)("span",{class:"phone-prefix"},"+63",-1)),(0,s.bo)((0,s.Lk)("input",{id:"new-phone-number","onUpdate:modelValue":t[3]||(t[3]=e=>r.localPhoneNumber=e),type:"tel",placeholder:"9171234567",autocomplete:"tel"},null,512),[[i.Jo,r.localPhoneNumber]])])]),(0,s.Lk)("div",gk,[t[11]||(t[11]=(0,s.Lk)("label",{for:"otp-code"},"Verification Code",-1)),(0,s.bo)((0,s.Lk)("input",{id:"otp-code","onUpdate:modelValue":t[4]||(t[4]=e=>n.otpCode=e),type:"text",placeholder:"123456",maxlength:"6"},null,512),[[i.Jo,n.otpCode]])]),(0,s.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>r.verifyCodeAndUpdatePhone&&r.verifyCodeAndUpdatePhone(...e)),disabled:n.isLoading,class:"action-button"},[n.isLoading?((0,s.uX)(),(0,s.CE)("span",yk,"Verifying & Saving...")):((0,s.uX)(),(0,s.CE)("span",bk,"Verify & Save"))],8,fk)])):(0,s.Q3)("",!0),n.errorMessage?((0,s.uX)(),(0,s.CE)("p",Lk,(0,o.v_)(n.errorMessage),1)):(0,s.Q3)("",!0)])])):(0,s.Q3)("",!0)}var Ck={name:"UpdatePhoneNumberModal",props:{isOpen:Boolean},emits:["close","phone-updated"],data(){return{currentStep:"password",password:"",phoneNumber:"",otpCode:"",isLoading:!1,errorMessage:""}},computed:{localPhoneNumber:{get(){return this.phoneNumber.replace(/^\+63/,"")},set(e){const t=e.replace(/\D/g,"").slice(0,10);this.phoneNumber=`+63${t}`}}},methods:{...(0,x.i0)(["reauthenticate","sendEmailVerificationCode","verifyEmailCode","updateUserProfile"]),closeModal(){this.resetState(),this.$emit("close")},resetState(){this.currentStep="password",this.password="",this.phoneNumber="",this.otpCode="",this.isLoading=!1,this.errorMessage=""},async handlePasswordVerification(){if(this.password){this.isLoading=!0,this.errorMessage="";try{await this.reauthenticate(this.password),await this.sendEmailVerificationCode(),this.currentStep="verify"}catch(e){this.errorMessage=e.response?.data?.message||"Password verification failed. Please try again.",console.error("Re-authentication error:",e)}finally{this.isLoading=!1}}else this.errorMessage="Please enter your password."},async verifyCodeAndUpdatePhone(){if(this.isLoading=!0,this.errorMessage="",13!==this.phoneNumber.length)return this.errorMessage="Please enter a valid 10-digit phone number.",void(this.isLoading=!1);if(!this.otpCode||this.otpCode.length<6)return this.errorMessage="Please enter the 6-digit code from your email.",void(this.isLoading=!1);try{await this.verifyEmailCode(this.otpCode),await this.updateUserProfile({phoneNumber:this.phoneNumber,isMobileVerified:!0}),this.$emit("phone-updated"),this.closeModal()}catch(e){console.error("Code verification or phone update error:",e),this.errorMessage=e.response?.data?.message||"Verification failed. The code may be incorrect."}finally{this.isLoading=!1}}}};const Sk=(0,B.A)(Ck,[["render",wk],["__scopeId","data-v-4845cd08"]]);var Pk=Sk;const Ek=["src"],Dk={class:"vehicle-info"},Ak={class:"vehicle-name"};function _k(e,t,a,i,l,n){const r=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.Wv)(r,{to:{name:"VehicleDetail",params:{id:a.vehicle.id}},class:"profile-vehicle-card"},{default:(0,s.k6)(()=>[(0,s.Lk)("img",{src:n.primaryImage,alt:"Vehicle Image",class:"vehicle-image",onError:t[0]||(t[0]=(...e)=>n.onImageError&&n.onImageError(...e))},null,40,Ek),(0,s.Lk)("div",Dk,[(0,s.Lk)("h5",Ak,(0,o.v_)(a.vehicle.make)+" "+(0,o.v_)(a.vehicle.model)+" ("+(0,o.v_)(a.vehicle.year)+")",1)])]),_:1},8,["to"])}var Vk={name:"ProfileVehicleCard",props:{vehicle:{type:Object,required:!0}},computed:{primaryImage(){return this.vehicle.profilePhotoUrl||(this.vehicle.exteriorPhotos&&this.vehicle.exteriorPhotos.length>0?this.vehicle.exteriorPhotos[0]:"https://placehold.co/200x150/e2e8f0/666666?text=No+Image")}},methods:{onImageError(e){e.target.src="https://placehold.co/200x150/e2e8f0/666666?text=Error"}}};const Ik=(0,B.A)(Vk,[["render",_k],["__scopeId","data-v-089a445e"]]);var Fk=Ik;const xk={class:"review-card"},Mk={class:"review-header"},Tk={class:"reviewer-info"},Rk=["src"],Bk={class:"reviewer-name"},Uk={class:"review-date"},Nk={class:"review-rating"},Xk={class:"review-comment"},Ok={key:0,class:"host-reply"},qk={class:"reply-header"},$k={class:"reply-date"},Qk={class:"reply-text"},Wk={key:1,class:"reply-action-section"},Hk={class:"reply-form-actions"},jk=["disabled"],Yk={key:0},Kk={key:1};function Gk(e,t,a,l,n,r){return(0,s.uX)(),(0,s.CE)("div",xk,[(0,s.Lk)("div",Mk,[(0,s.Lk)("div",Tk,[(0,s.Lk)("img",{src:a.review.reviewerPhotoUrl||"https://placehold.co/60x60/e2e8f0/666666?text=User",alt:"Reviewer",class:"reviewer-avatar"},null,8,Rk),(0,s.Lk)("div",null,[(0,s.Lk)("span",Bk,(0,o.v_)(a.review.reviewerName||"Anonymous"),1),(0,s.Lk)("span",Uk,(0,o.v_)(r.formattedDate),1)])]),(0,s.Lk)("div",Nk,[t[4]||(t[4]=(0,s.Lk)("i",{class:"bi bi-star-fill"},null,-1)),(0,s.Lk)("span",null,(0,o.v_)(a.review.overallRating),1)])]),(0,s.Lk)("p",Xk,(0,o.v_)(a.review.comment),1),a.review.reply?((0,s.uX)(),(0,s.CE)("div",Ok,[(0,s.Lk)("div",qk,[t[5]||(t[5]=(0,s.Lk)("span",{class:"reply-label"},"Host's Reply",-1)),(0,s.Lk)("span",$k,(0,o.v_)(r.formatReplyDate(a.review.reply.createdAt)),1)]),(0,s.Lk)("p",Qk,(0,o.v_)(a.review.reply.text),1)])):(0,s.Q3)("",!0),r.canReply?((0,s.uX)(),(0,s.CE)("div",Wk,[n.showReplyForm?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:t[0]||(t[0]=e=>n.showReplyForm=!0),class:"button reply-button"},[...t[6]||(t[6]=[(0,s.Lk)("i",{class:"bi bi-chat-left-dots-fill"},null,-1),(0,s.eW)(" Reply to this review ",-1)])])),n.showReplyForm?((0,s.uX)(),(0,s.CE)("form",{key:1,onSubmit:t[3]||(t[3]=(0,i.D$)((...e)=>r.submitReply&&r.submitReply(...e),["prevent"])),class:"reply-form"},[(0,s.bo)((0,s.Lk)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.replyText=e),placeholder:"Write your public reply...",rows:"3",required:""},null,512),[[i.Jo,n.replyText]]),(0,s.Lk)("div",Hk,[(0,s.Lk)("button",{type:"button",onClick:t[2]||(t[2]=(...e)=>r.cancelReply&&r.cancelReply(...e)),class:"button secondary-button"},"Cancel"),(0,s.Lk)("button",{type:"submit",disabled:n.isSubmitting,class:"button primary-button"},[n.isSubmitting?((0,s.uX)(),(0,s.CE)("span",Yk,"Posting...")):((0,s.uX)(),(0,s.CE)("span",Kk,"Post Reply"))],8,jk)])],32)):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0)])}var Jk={name:"ProfileReviewCard",props:{review:{type:Object,required:!0},isOwner:{type:Boolean,default:!1}},emits:["submit-reply"],data(){return{showReplyForm:!1,replyText:"",isSubmitting:!1}},computed:{formattedDate(){if(!this.review.createdAt)return"";const e=this.review.createdAt,t=e.toDate?e.toDate():e._seconds?new Date(1e3*e._seconds):new Date(e);return Z.c9.fromJSDate(t).toLocaleString(Z.c9.DATE_MED)},formatReplyDate(){return e=>{if(!e)return"";const t=e.toDate?e.toDate():new Date(1e3*e._seconds);return Z.c9.fromJSDate(t).toLocaleString(Z.c9.DATE_MED)}},canReply(){return this.isOwner&&!this.review.reply}},methods:{submitReply(){""!==this.replyText.trim()&&(this.isSubmitting=!0,this.$emit("submit-reply",{reviewId:this.review.id,text:this.replyText,callback:this.onReplySuccess}))},cancelReply(){this.showReplyForm=!1,this.replyText="",this.isSubmitting=!1},onReplySuccess(){this.isSubmitting=!1,this.showReplyForm=!1,this.replyText=""}}};const zk=(0,B.A)(Jk,[["render",Gk],["__scopeId","data-v-7619a29b"]]);var Zk=zk,eg={name:"ProfileSettingsView",components:{EditProfileModal:ek,VerificationReminder:nk,UpdatePhoneNumberModal:Pk,ProfileVehicleCard:Fk,ProfileReviewCard:Zk},props:{userId:String},data(){return{profileUser:null,isEditModalOpen:!1,isChangePhoneModalOpen:!1,initialsDataUrl:null,isVerifyingEmail:!1,emailCodeSent:!1,emailOtpCode:"",emailVerificationMessage:"",emailVerificationStatusIsError:!1,isVerifyingPhone:!1,verificationCode:"",verificationMessage:"",verificationStatusIsError:!1,verificationLoading:!1,isVerifyingQRCode:!1,isQRCodeUpdateUnlocked:!1,qrCodeVerificationCode:"",qrCodeVerificationMessage:"",qrCodeVerificationError:!1,qrCodeUploadLoading:!1,loadingProfile:!0,isLoadingVehicles:!0,isLoadingReviews:!0,ownerVehicles:[],ownerReviews:[],replyError:""}},computed:{...(0,x.L8)(["user"]),isOwnProfile(){return!!this.user&&(!this.userId||this.userId===this.user.uid)},profileData(){return this.isOwnProfile?this.user:this.profileUser},isApprovedToDrive(){return!0===this.profileData?.isApprovedToDrive},isMobileVerified(){return!0===this.profileData?.isMobileVerified},isEmailVerified(){return!0===this.profileData?.emailVerified},payoutQRCodeUrl(){return this.profileData?.payoutQRCodeUrl||null},initials(){if(!this.profileData)return"";const e=this.profileData.firstName||this.profileData.name||"User";return e.split(" ").map(e=>e[0]).join("").toUpperCase().substring(0,2)},formattedJoinDate(){if(this.profileData&&this.profileData.createdAt){const e=this.profileData.createdAt;let t;if(t="function"===typeof e.toDate?e.toDate():e._seconds?new Date(1e3*e._seconds):new Date(e),!isNaN(t)){const e={year:"numeric",month:"long"};return`Joined in ${t.toLocaleDateString("en-US",e)}`}}return"N/A"},formattedAddress(){const e=this.profileData?.address;return e?.barangay&&e?.city?`${e.barangay}, ${e.city}`:"Address not set"}},watch:{initials:{immediate:!0,handler(e){e&&this.generateInitialsImage(e)}},userId:{immediate:!0,handler(e){this.loadProfileData(e)}},user(e){this.isOwnProfile&&e&&this.loadProfileData(e.uid)}},methods:{...(0,x.i0)(["fetchUserProfile","sendEmailVerificationCode","verifyEmailCode","updateUserProfile","getPublicVehiclesByOwner","getReviewsForHost","submitReviewReply"]),async loadProfileData(e){this.loadingProfile=!0,this.isLoadingVehicles=!0,this.isLoadingReviews=!0;const t=this.isOwnProfile?this.user?.uid:e||this.userId;if(!t)return this.loadingProfile=!1,this.isLoadingVehicles=!1,void(this.isLoadingReviews=!1);this.isOwnProfile||await this.fetchOtherUserProfile(t),this.loadingProfile=!1;try{const e=this.getPublicVehiclesByOwner(t),a=this.getReviewsForHost(t),[i,s]=await Promise.all([e,a]);this.ownerVehicles=i||[],this.ownerReviews=s||[]}catch(a){console.error("Error fetching profile content:",a)}finally{this.isLoadingVehicles=!1,this.isLoadingReviews=!1}},generateInitialsImage(e){const t=document.createElement("canvas"),a=t.getContext("2d"),i=150;t.width=i,t.height=i,a.fillStyle="#C0C0C0",a.fillRect(0,0,i,i),a.fillStyle="#FFFFFF",a.font=`bold ${i/2}px Nunito`,a.textAlign="center",a.textBaseline="middle",a.fillText(e,i/2,i/2),this.initialsDataUrl=t.toDataURL()},openEditModal(){this.isEditModalOpen=!0},openChangePhoneModal(){this.isChangePhoneModalOpen=!0},handleProfileUpdate(){this.isEditModalOpen=!1,this.isChangePhoneModalOpen=!1,this.isVerifyingQRCode=!1,this.isQRCodeUpdateUnlocked=!1,this.qrCodeUploadLoading=!1,this.fetchUserProfile()},async fetchOtherUserProfile(e){this.loadingProfile=!0;const t=(0,Te.H9)(Xe,"users",e);try{const e=await(0,Te.x7)(t);this.profileUser=e.exists()?e.data():null}catch(a){console.error("Error fetching user profile:",a)}finally{this.loadingProfile=!1}},async startEmailVerification(){this.isVerifyingEmail=!0,this.verificationLoading=!0,this.emailVerificationMessage="Sending code...",this.emailVerificationStatusIsError=!1;try{await this.sendEmailVerificationCode(),this.emailCodeSent=!0,this.emailVerificationMessage="A verification code has been sent to your email."}catch(e){this.emailVerificationMessage="Failed to send code. Please try again.",this.emailVerificationStatusIsError=!0}finally{this.verificationLoading=!1}},async submitEmailCode(){if(!this.emailOtpCode||this.emailOtpCode.length<6)return this.emailVerificationMessage="Please enter the 6-digit code.",void(this.emailVerificationStatusIsError=!0);this.verificationLoading=!0;try{await this.verifyEmailCode(this.emailOtpCode),this.emailVerificationMessage="Success! Your email has been verified.",await this.fetchUserProfile(),setTimeout(()=>{this.isVerifyingEmail=!1},2e3)}catch(e){this.emailVerificationMessage=e.response?.data?.message||"Verification failed.",this.emailVerificationStatusIsError=!0}finally{this.verificationLoading=!1}},async startPhoneVerificationViaEmail(){if(!this.profileData.phoneNumber)return alert("Please add a phone number in your profile before verifying."),void this.openEditModal();this.isVerifyingPhone=!0,this.verificationLoading=!0,this.verificationMessage="Sending verification code to your email...",this.verificationStatusIsError=!1;try{await this.sendEmailVerificationCode(),this.verificationMessage="Code sent! Please check your email."}catch(e){this.verificationMessage="Failed to send code. Please try again.",this.verificationStatusIsError=!0}finally{this.verificationLoading=!1}},async submitPhoneVerificationCode(){if(!this.verificationCode||this.verificationCode.length<6)return this.verificationMessage="Please enter the 6-digit code from your email.",void(this.verificationStatusIsError=!0);this.verificationLoading=!0;try{await this.verifyEmailCode(this.verificationCode),await this.updateUserProfile({isMobileVerified:!0}),this.verificationMessage="Success! Your phone number is now verified.",this.verificationStatusIsError=!1,await this.fetchUserProfile(),setTimeout(()=>{this.isVerifyingPhone=!1,this.verificationCode=""},2e3)}catch(e){this.verificationMessage=e.response?.data?.message||"Verification failed. The code may be incorrect.",this.verificationStatusIsError=!0}finally{this.verificationLoading=!1}},goToApplicationPage(){this.$router.push({name:"BecomeDriveVerified"})},startQRCodeUpdateVerification(){if(!this.isEmailVerified)return alert("Please verify your email address before updating payment information."),void this.startEmailVerification();this.isVerifyingQRCode=!0,this.isQRCodeUpdateUnlocked=!1,this.qrCodeVerificationCode="",this.qrCodeVerificationMessage="",this.qrCodeVerificationError=!1},async sendVerificationCode(e){this.verificationLoading=!0;let t="qr"===e?"qrCodeVerificationMessage":"verificationMessage",a="qr"===e?"qrCodeVerificationError":"verificationStatusIsError";this[t]="Sending code...",this[a]=!1;try{await this.sendEmailVerificationCode(),this[t]="Code sent! Please check your email."}catch(i){this[t]="Failed to send code. Please try again.",this[a]=!0}finally{this.verificationLoading=!1}},async submitQRCodeVerificationCode(){if(!this.qrCodeVerificationCode||this.qrCodeVerificationCode.length<6)return this.qrCodeVerificationMessage="Please enter the 6-digit code.",void(this.qrCodeVerificationError=!0);this.verificationLoading=!0,this.qrCodeVerificationError=!1;try{await this.verifyEmailCode(this.qrCodeVerificationCode),this.qrCodeVerificationMessage="Success! You can now upload your QR code.",this.isQRCodeUpdateUnlocked=!0}catch(e){this.qrCodeVerificationMessage=e.response?.data?.message||"Verification failed. The code may be incorrect.",this.qrCodeVerificationError=!0}finally{this.verificationLoading=!1}},triggerQRCodeUpload(){this.$refs.qrCodeInput.click()},handleQRCodeUpload(e){const t=e.target.files[0];if(!t)return;if(this.qrCodeUploadLoading=!0,this.qrCodeVerificationMessage="Reading file...",this.qrCodeVerificationError=!1,t.size>2097152)return this.qrCodeVerificationMessage="File is too large (Max 2MB).",this.qrCodeVerificationError=!0,void(this.qrCodeUploadLoading=!1);if(!["image/png","image/jpeg","image/jpg"].includes(t.type))return this.qrCodeVerificationMessage="Invalid file type. Please use PNG or JPG.",this.qrCodeVerificationError=!0,void(this.qrCodeUploadLoading=!1);const a=new FileReader;a.onload=async e=>{const t=e.target.result;this.qrCodeVerificationMessage="Uploading QR Code...";try{await this.updateUserProfile({payoutQRCode:t}),this.qrCodeVerificationMessage="QR Code updated successfully!",this.handleProfileUpdate()}catch(a){this.qrCodeVerificationMessage="Upload failed. Please try again.",this.qrCodeVerificationError=!0,this.qrCodeUploadLoading=!1}},a.onerror=()=>{this.qrCodeVerificationMessage="Failed to read file.",this.qrCodeVerificationError=!0,this.qrCodeUploadLoading=!1},a.readAsDataURL(t)},async handleSubmitReply({reviewId:e,text:t,callback:a}){this.replyError="";try{await this.submitReviewReply({reviewId:e,text:t}),a&&a(),this.isLoadingReviews=!0,this.ownerReviews=await this.getReviewsForHost(this.profileData.uid)}catch(i){console.error("Error submitting reply:",i),this.replyError=i.response?.data?.message||"Failed to post reply.",a&&a()}finally{this.isLoadingReviews=!1}}}};const tg=(0,B.A)(eg,[["render",Vv],["__scopeId","data-v-3726c937"]]);var ag=tg;const ig={class:"success-container"},sg={class:"success-card"};function og(e,t){const a=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",ig,[(0,s.Lk)("div",sg,[t[1]||(t[1]=(0,s.Lk)("div",{class:"icon-wrapper"},[(0,s.Lk)("i",{class:"bi bi-patch-check-fill"})],-1)),t[2]||(t[2]=(0,s.Lk)("h1",{class:"title"},"Application Submitted!",-1)),t[3]||(t[3]=(0,s.Lk)("p",{class:"subtitle"}," Thank you for your submission. Our team will review your application and get back to you within 3-5 business days. ",-1)),(0,s.bF)(a,{to:"/dashboard",class:"button"},{default:(0,s.k6)(()=>[...t[0]||(t[0]=[(0,s.eW)(" Go to Dashboard ",-1)])]),_:1})])])}const lg={},ng=(0,B.A)(lg,[["render",og],["__scopeId","data-v-0494f2ff"]]);var rg=ng;const cg={class:"owner-vehicles-container"},dg={key:0,class:"suspension-banner"},ug={key:"loading",class:"loading-message"},pg={key:"error",class:"error-message error-card"},hg={key:"empty",class:"no-vehicles-message empty-card"},mg=["disabled","title"],vg={key:0},kg={key:1},gg={key:"list",class:"vehicle-list-wrapper"},fg={class:"image-wrapper"},yg=["src","alt"],bg={class:"vehicle-details"},Lg={class:"vehicle-title"},wg={class:"detail-row"},Cg={class:"detail-row"},Sg={class:"vehicle-actions"},Pg=["onClick"],Eg=["onClick"],Dg=["disabled","title"],Ag={key:0,class:"bi bi-plus-circle"};function _g(e,t,a,l,n,r){const c=(0,s.g2)("VehicleTypeChoiceModal");return(0,s.uX)(),(0,s.CE)("div",cg,[t[16]||(t[16]=(0,s.Lk)("h2",{class:"section-title"},"My Listings",-1)),r.isSuspended?((0,s.uX)(),(0,s.CE)("div",dg,[...t[5]||(t[5]=[(0,s.Lk)("i",{class:"bi bi-exclamation-triangle-fill"},null,-1),(0,s.Lk)("span",null,[(0,s.Lk)("strong",null,"Account Suspended:"),(0,s.eW)(" You cannot list new vehicles at this time. You may still manage or remove your existing listings. ")],-1)])])):(0,s.Q3)("",!0),(0,s.bF)(i.eB,{name:"fade",mode:"out-in"},{default:(0,s.k6)(()=>[n.loading?((0,s.uX)(),(0,s.CE)("div",ug,[...t[6]||(t[6]=[(0,s.Lk)("p",null,"Loading your vehicle listings...",-1),(0,s.Lk)("div",{class:"spinner"},null,-1)])])):n.errorMessage?((0,s.uX)(),(0,s.CE)("div",pg,[(0,s.Lk)("p",null,(0,o.v_)(n.errorMessage),1),(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.loadPageData&&r.loadPageData(...e)),class:"button primary-button"}," Retry Load Vehicles ")])):n.vehicles&&0!==n.vehicles.length?((0,s.uX)(),(0,s.CE)("div",gg,[(0,s.bF)(i.F,{name:"list-fade",tag:"div",class:"vehicle-list"},{default:(0,s.k6)(()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.vehicles,(e,a)=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"vehicle-card",style:(0,o.Tr)({"--i":a})},[(0,s.Lk)("div",fg,[(0,s.Lk)("img",{src:r.getVehicleImageUrl(e),alt:`${e.make} ${e.model}`,class:"vehicle-image",onError:t[2]||(t[2]=e=>e.target.src="https://placehold.co/400x200/e2e8f0/666666?text=No+Image")},null,40,yg),(0,s.Lk)("span",{class:(0,o.C4)(["status-badge",e.status?e.status.toLowerCase():"pending"])},(0,o.v_)(e.status||"Draft"),3)]),(0,s.Lk)("div",bg,[(0,s.Lk)("h3",Lg,(0,o.v_)(e.make)+" "+(0,o.v_)(e.model)+" ("+(0,o.v_)(e.year)+") ",1),(0,s.Lk)("p",wg,[t[10]||(t[10]=(0,s.Lk)("i",{class:"bi bi-cash"},null,-1)),t[11]||(t[11]=(0,s.Lk)("strong",null,"Rate:",-1)),(0,s.eW)(" ₱"+(0,o.v_)(e.rentalPricePerDay?e.rentalPricePerDay.toLocaleString():"N/A")+"/day ",1)]),(0,s.Lk)("p",Cg,[t[12]||(t[12]=(0,s.Lk)("i",{class:"bi bi-geo-alt-fill"},null,-1)),t[13]||(t[13]=(0,s.Lk)("strong",null,"Location:",-1)),(0,s.eW)(" "+(0,o.v_)(r.formatLocation(e.location)),1)])]),(0,s.Lk)("div",Sg,[(0,s.Lk)("button",{onClick:t=>r.editVehicle(e.id),class:"button secondary-button icon-button",title:"Edit Listing"},[...t[14]||(t[14]=[(0,s.Lk)("i",{class:"bi bi-pencil-square"},null,-1),(0,s.eW)(" Edit ",-1)])],8,Pg),(0,s.Lk)("button",{onClick:t=>r.deleteVehicle(e.id),class:"button cancel-button icon-button",title:"Delete Listing"},[...t[15]||(t[15]=[(0,s.Lk)("i",{class:"bi bi-trash-fill"},null,-1),(0,s.eW)(" Delete ",-1)])],8,Eg)])],4))),128))]),_:1}),(0,s.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>r.openChoiceModal&&r.openChoiceModal(...e)),class:"button primary-button add-new-button",disabled:r.isSuspended,title:r.isSuspended?"Account suspended":"Add Listing"},[r.isSuspended?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("i",Ag)),(0,s.eW)(" "+(0,o.v_)(r.isSuspended?"Adding Disabled":"Add New Listing"),1)],8,Dg)])):((0,s.uX)(),(0,s.CE)("div",hg,[t[8]||(t[8]=(0,s.Lk)("i",{class:"bi bi-car-front-fill icon-large"},null,-1)),t[9]||(t[9]=(0,s.Lk)("div",{class:"message-text"}," You haven't listed any vehicles yet. Let's get your first asset online! ",-1)),(0,s.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>r.openChoiceModal&&r.openChoiceModal(...e)),class:"button primary-button",disabled:r.isSuspended,title:r.isSuspended?"Account suspended":"Add Listing"},[r.isSuspended?((0,s.uX)(),(0,s.CE)("span",vg,[...t[7]||(t[7]=[(0,s.Lk)("i",{class:"bi bi-slash-circle"},null,-1),(0,s.eW)(" Listing Disabled ",-1)])])):((0,s.uX)(),(0,s.CE)("span",kg,"Add New Listing"))],8,mg)]))]),_:1}),(0,s.bF)(c,{show:n.isChoiceModalVisible,onClose:t[4]||(t[4]=e=>n.isChoiceModalVisible=!1),onNavigate:r.handleTypeChoice},null,8,["show","onNavigate"])])}var Vg={name:"OwnerVehiclesView",components:{VehicleTypeChoiceModal:ce},data(){return{loading:!0,errorMessage:null,vehicles:[],isChoiceModalVisible:!1}},computed:{...(0,x.L8)(["user"]),...(0,x.aH)("owner",{ownerBookings:e=>e.ownerBookings||[]}),isSuspended(){return!0===this.user?.isSuspended}},created(){this.loadPageData()},methods:{...(0,x.i0)({getVehiclesByOwner:"getVehiclesByOwner",deleteVehicleAction:"deleteVehicle",fetchUserProfile:"fetchUserProfile"}),...(0,x.i0)("owner",["fetchOwnerBookings"]),async loadPageData(){this.loading=!0,this.errorMessage=null;try{await Promise.all([this.fetchUserProfile(),this.getVehiclesByOwner(),this.fetchOwnerBookings()]).then(e=>{this.vehicles=e[1]})}catch(e){console.error("[OwnerVehiclesView] Error fetching data:",e),this.errorMessage="Failed to load your vehicle listings. Please try again."}finally{this.loading=!1}},openChoiceModal(){this.isSuspended?alert("Your account is suspended. You cannot list new vehicles."):this.isChoiceModalVisible=!0},handleTypeChoice(e){this.isChoiceModalVisible=!1,this.$router.push({name:e})},editVehicle(e){this.$router.push({name:"EditVehicle",params:{vehicleId:e}})},async deleteVehicle(e){const t=this.ownerBookings.some(t=>{if(t.vehicleId!==e)return!1;const a=["confirmed","active","pending_payment","downpayment_verified"];if(!a.includes(t.paymentStatus))return!1;const i=Z.c9.now().startOf("day"),s=t.endDate&&t.endDate.seconds?Z.c9.fromSeconds(t.endDate.seconds).startOf("day"):Z.c9.fromISO(t.endDate).startOf("day");return s>=i});if(t)alert("Unable to delete: This vehicle has active or upcoming bookings. Please complete or cancel them first.");else if(confirm("Are you sure you want to permanently delete this vehicle? This cannot be undone."))try{await this.deleteVehicleAction(e);const t=await this.getVehiclesByOwner();this.vehicles=t,alert("Vehicle deleted successfully.")}catch(a){console.error(a),alert("Failed to delete vehicle. Please check console for details.")}},getVehicleImageUrl(e){return e.profilePhotoUrl?e.profilePhotoUrl:e.exteriorPhotos&&e.exteriorPhotos.length>0?e.exteriorPhotos[0]:"https://placehold.co/300x200/e2e8f0/666666?text=No+Image"},formatLocation(e){if(e){if(e.barangay&&e.city)return`${e.barangay}, ${e.city}`;if(e.city)return e.city}return"string"===typeof e?e:"Location not set"}}};const Ig=(0,B.A)(Vg,[["render",_g],["__scopeId","data-v-1f479d4c"]]);var Fg=Ig;const xg={class:"form-container"},Mg={class:"form-card"};function Tg(e,t,a,o,l,n){const r=(0,s.g2)("FormStepSlider"),c=(0,s.g2)("VehicleLocation"),d=(0,s.g2)("VehicleCOR"),u=(0,s.g2)("VehicleOR"),p=(0,s.g2)("VehicleDetails"),h=(0,s.g2)("VehicleFeatures"),m=(0,s.g2)("SubmitMotorcycle"),v=(0,s.g2)("VehiclePricing"),k=(0,s.g2)("VehicleSafety"),g=(0,s.g2)("VehiclePhotos"),f=(0,s.g2)("SubmitListing");return(0,s.uX)(),(0,s.CE)("div",xg,[(0,s.Lk)("div",Mg,[(0,s.Lk)("form",{onSubmit:t[9]||(t[9]=(0,i.D$)(e=>l.currentStep===n.finalStep?n.submitForm():null,["prevent"])),class:"vehicle-form"},[(0,s.bF)(r,{currentStep:l.currentStep,totalSteps:n.finalStep,onStartOver:n.startOver},null,8,["currentStep","totalSteps","onStartOver"]),1===l.currentStep?((0,s.uX)(),(0,s.Wv)(c,{key:"step1",address:l.localVehicle.location,"onUpdate:address":t[0]||(t[0]=e=>l.localVehicle.location=e),onNext:n.nextStep,onCancel:n.handleCancel},null,8,["address","onNext","onCancel"])):(0,s.Q3)("",!0),2===l.currentStep?((0,s.uX)(),(0,s.Wv)(d,{key:"step2",modelValue:l.localVehicle.cor,"onUpdate:modelValue":t[1]||(t[1]=e=>l.localVehicle.cor=e),onNext:n.nextStep,onPrev:n.prevStep},null,8,["modelValue","onNext","onPrev"])):(0,s.Q3)("",!0),3===l.currentStep?((0,s.uX)(),(0,s.Wv)(u,{key:"step3",modelValue:l.localVehicle.or,"onUpdate:modelValue":t[2]||(t[2]=e=>l.localVehicle.or=e),onNext:n.nextStep,onPrev:n.prevStep},null,8,["modelValue","onNext","onPrev"])):(0,s.Q3)("",!0),4===l.currentStep?((0,s.uX)(),(0,s.Wv)(p,{key:"step4",modelValue:l.localVehicle,"onUpdate:modelValue":n.updateLocalVehicle,onNext:n.nextStep,onPrev:n.prevStep},null,8,["modelValue","onUpdate:modelValue","onNext","onPrev"])):(0,s.Q3)("",!0),5===l.currentStep?((0,s.uX)(),(0,s.Wv)(h,{key:"step5",modelValue:l.localVehicle.features,"onUpdate:modelValue":t[3]||(t[3]=e=>l.localVehicle.features=e),onNext:n.nextStep,onPrev:n.prevStep},null,8,["modelValue","onNext","onPrev"])):(0,s.Q3)("",!0),6===l.currentStep&&n.isMotorcycle?((0,s.uX)(),(0,s.Wv)(m,{key:"step6-moto",motorcycle:l.localVehicle,"is-edit-mode":a.isEditMode,busy:l.isSubmitting,onSubmit:n.submitForm,onPrev:n.prevStep},null,8,["motorcycle","is-edit-mode","busy","onSubmit","onPrev"])):(0,s.Q3)("",!0),6!==l.currentStep||n.isMotorcycle?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(v,{key:"step6-car",modelValue:l.localVehicle.pricing,"onUpdate:modelValue":t[4]||(t[4]=e=>l.localVehicle.pricing=e),vehicleYear:l.localVehicle.year,onNext:n.nextStep,onPrev:n.prevStep},null,8,["modelValue","vehicleYear","onNext","onPrev"])),7!==l.currentStep||n.isMotorcycle?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(k,{key:"step7",modelValue:l.localVehicle.safety,"onUpdate:modelValue":t[5]||(t[5]=e=>l.localVehicle.safety=e),onNext:n.nextStep,onPrev:n.prevStep},null,8,["modelValue","onNext","onPrev"])),8!==l.currentStep||n.isMotorcycle?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(g,{key:"step8",profilePhotoUrl:l.localVehicle.profilePhotoUrl,"onUpdate:profilePhotoUrl":t[6]||(t[6]=e=>l.localVehicle.profilePhotoUrl=e),exteriorPhotos:l.localVehicle.exteriorPhotos,"onUpdate:exteriorPhotos":t[7]||(t[7]=e=>l.localVehicle.exteriorPhotos=e),interiorPhotos:l.localVehicle.interiorPhotos,"onUpdate:interiorPhotos":t[8]||(t[8]=e=>l.localVehicle.interiorPhotos=e),onNext:n.nextStep,onPrev:n.prevStep},null,8,["profilePhotoUrl","exteriorPhotos","interiorPhotos","onNext","onPrev"])),9!==l.currentStep||n.isMotorcycle?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(f,{key:"step9-car",vehicle:l.localVehicle,"is-edit-mode":a.isEditMode,"is-submitting":l.isSubmitting,onSubmit:n.submitForm,onPrev:n.prevStep,onStartOver:n.startOver},null,8,["vehicle","is-edit-mode","is-submitting","onSubmit","onPrev","onStartOver"]))],32)])])}const Rg={class:"form-step-container"},Bg={class:"form-grid"},Ug={class:"form-group"},Ng=["value"],Xg={class:"form-group"},Og=["disabled"],qg=["value"],$g={key:0,class:"coordinates-display"},Qg={key:1,class:"navigation-buttons"},Wg=["disabled"],Hg={key:0,class:"toast"};function jg(e,t,a,l,n,r){return(0,s.uX)(),(0,s.Wv)(i.eB,{name:"form-step-fade",appear:""},{default:(0,s.k6)(()=>[(0,s.Lk)("div",Rg,[t[13]||(t[13]=(0,s.Lk)("h3",null,"Address Details",-1)),t[14]||(t[14]=(0,s.Lk)("p",{class:"step-info-text"}," Please provide the specific address and pin the exact location on the map below. ",-1)),(0,s.Lk)("div",Bg,[t[10]||(t[10]=(0,s.Lk)("div",{class:"form-group"},[(0,s.Lk)("label",{for:"country"},"Country"),(0,s.Lk)("input",{type:"text",id:"country",value:"Philippines",disabled:"",class:"disabled-input"})],-1)),t[11]||(t[11]=(0,s.Lk)("div",{class:"form-group"},[(0,s.Lk)("label",{for:"region"},"Region"),(0,s.Lk)("input",{type:"text",id:"region",value:"Region VII (Central Visayas)",disabled:"",class:"disabled-input"})],-1)),(0,s.Lk)("div",Ug,[t[7]||(t[7]=(0,s.Lk)("label",{for:"city"},"City/Municipality",-1)),(0,s.bo)((0,s.Lk)("select",{id:"city","onUpdate:modelValue":t[0]||(t[0]=e=>r.location.city=e),onChange:t[1]||(t[1]=(...e)=>r.resetBarangay&&r.resetBarangay(...e)),required:""},[t[6]||(t[6]=(0,s.Lk)("option",{value:"",disabled:""},"Select a City/Municipality",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.cities,e=>((0,s.uX)(),(0,s.CE)("option",{key:e,value:e},(0,o.v_)(e),9,Ng))),128))],544),[[i.u1,r.location.city]])]),(0,s.Lk)("div",Xg,[t[9]||(t[9]=(0,s.Lk)("label",{for:"barangay"},"Barangay",-1)),(0,s.bo)((0,s.Lk)("select",{id:"barangay","onUpdate:modelValue":t[2]||(t[2]=e=>r.location.barangay=e),disabled:!r.location.city,required:"",onChange:t[3]||(t[3]=(...e)=>r.emitUpdate&&r.emitUpdate(...e))},[t[8]||(t[8]=(0,s.Lk)("option",{value:"",disabled:""},"Select a Barangay",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.barangays,e=>((0,s.uX)(),(0,s.CE)("option",{key:e,value:e},(0,o.v_)(e),9,qg))),128))],40,Og),[[i.u1,r.location.barangay]])])]),t[15]||(t[15]=(0,s.Lk)("h4",{class:"map-heading"},"Pin Location on Map",-1)),t[16]||(t[16]=(0,s.Lk)("p",{class:"help-text"},"Click on the map to set the exact pick-up point.",-1)),t[17]||(t[17]=(0,s.Lk)("div",{id:"map"},null,-1)),r.location.latitude&&r.location.longitude?((0,s.uX)(),(0,s.CE)("p",$g," Pinned at: "+(0,o.v_)(r.location.latitude.toFixed(6))+", "+(0,o.v_)(r.location.longitude.toFixed(6)),1)):(0,s.Q3)("",!0),a.showNavigation?((0,s.uX)(),(0,s.CE)("div",Qg,[(0,s.Lk)("button",{type:"button",onClick:t[4]||(t[4]=t=>e.$emit("cancel")),class:"nav-button secondary"}," Cancel "),(0,s.Lk)("button",{type:"button",onClick:t[5]||(t[5]=(...e)=>r.nextStep&&r.nextStep(...e)),class:"nav-button primary",disabled:!r.isValid}," Next ",8,Wg)])):(0,s.Q3)("",!0),(0,s.bF)(i.eB,{name:"toast-fade"},{default:(0,s.k6)(()=>[n.showToast?((0,s.uX)(),(0,s.CE)("div",Hg,[...t[12]||(t[12]=[(0,s.Lk)("i",{class:"bi bi-geo-alt-fill"},null,-1),(0,s.eW)(" Location Pinned Successfully! ",-1)])])):(0,s.Q3)("",!0)]),_:1})])]),_:1})}const Yg={"Cebu City":["Apas","Basak Pardo","Basak San Nicolas","Bonbon","Budlaan","Busay","Calamba","Capitol Site","Carreta","Day-as","Duljo-Fatima","Guadalupe","Kalunasan","Kamagayan","Kasambagan","Lahug","Mabolo","Pardo","Poblacion Pardo","Sambag I","Sambag II","San Nicolas","Sta. Cruz","Tisa","Talamban","Toong"],"Mandaue City":["Alang-alang","Bakilid","Banilad","Cabancalan","Cambaro","Casili","Centro","Cubacub","Guizo","Ibabao-Estancia","Jagobiao","Labogon","Maguikay","Pagsabungan","Subangdaku","Tipolo","Umapad"],"Lapu-Lapu City":["Basak","Buaya","Gun-ob","Mactan","Marigondon","Pajac","Punta Engaño","Pusok","San Vicente","Soong","Suba-basbas"],"Talisay City":["Biasong","Bulacao","Candulawan","Campinsa","Cansojong","Dumlog","Jaclupan","Lawaan I","Lawaan II","Maghaway","Poblacion"],"Toledo City":["Bato","Cabitoonan","Calong-calong","Cambang-ug","Canlumampao","Cantabogon","Ibo","Lutopan","Poog","Poblacion"],"Carcar City":["Bolinsong","Calidngan","Can-asujan","Liburon","Luanluan","Perrelos","Poblacion I","Poblacion II","Poblacion III","Valencia"],"Danao City":["Cogon-Cruz","Danao","Looc","Poblacion","Sabang"],"Oslob (Municipality)":["Alegria","Bagnan","Bangcogon","Gawi","Lagunde","Luyongbaybay","Mainit","Poblacion","Tan-awan"]};var Kg={name:"VehicleLocation",props:{address:{type:Object,required:!0,default:()=>({city:"",barangay:"",latitude:null,longitude:null})},showNavigation:{type:Boolean,default:!0}},emits:["update:address","next","cancel"],data(){return{cebuAddresses:Yg,map:null,marker:null,showToast:!1}},computed:{location:{get(){return this.address},set(e){this.$emit("update:address",e)}},cities(){return Object.keys(this.cebuAddresses)},barangays(){return this.location.city?this.cebuAddresses[this.location.city]:[]},isValid(){const e=this.location.city&&this.location.barangay,t=null!==this.location.latitude&&null!==this.location.longitude;return e&&t}},mounted(){this.$nextTick(()=>{this.initializeMap()})},methods:{initializeMap(){const e=()=>{if("undefined"!==typeof L&&document.getElementById("map")){const e=[10.3157,123.8854],t=this.location.latitude&&this.location.longitude?[this.location.latitude,this.location.longitude]:e,a=this.location.latitude&&this.location.longitude?16:13;this.map=L.map("map").setView(t,a),L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(this.map),this.location.latitude&&this.location.longitude&&(this.marker=L.marker(t).addTo(this.map)),this.map.on("click",this.pinLocation)}else setTimeout(e,100)};e()},resetBarangay(){this.location.barangay="",this.emitUpdate()},pinLocation(e){const{lat:t,lng:a}=e.latlng;this.location={...this.location,latitude:t,longitude:a},this.marker&&this.map.removeLayer(this.marker),this.marker=L.marker([t,a]).addTo(this.map),this.map.setView([t,a],16),this.showToast=!0,setTimeout(()=>{this.showToast=!1},2500)},emitUpdate(){this.$emit("update:address",this.location)},nextStep(){this.isValid&&this.$emit("next")}},beforeUnmount(){this.map&&this.map.remove()}};const Gg=(0,B.A)(Kg,[["render",jg],["__scopeId","data-v-08a73ee8"]]);var Jg=Gg;const zg={class:"form-step-container"},Zg={class:"form-grid"},ef={class:"form-group"},tf=["value"],af={class:"form-group"},sf=["value"],of={class:"form-group"},lf=["value","max"],nf={class:"form-group"},rf=["value"],cf={class:"form-group"},df=["value"],uf={class:"form-group"},pf=["value"],hf={class:"form-group"},mf=["value"],vf={key:0,class:"navigation-buttons"},kf={key:1,class:"error-message"};function gf(e,t,a,l,n,r){return(0,s.uX)(),(0,s.Wv)(i.eB,{name:"form-step-fade",appear:""},{default:(0,s.k6)(()=>[(0,s.Lk)("div",zg,[t[20]||(t[20]=(0,s.Lk)("h3",null,"Vehicle Details",-1)),t[21]||(t[21]=(0,s.Lk)("p",{class:"step-info-text"}," Now, fill out the rest of the details about your vehicle. ",-1)),(0,s.Lk)("div",Zg,[(0,s.Lk)("div",ef,[t[9]||(t[9]=(0,s.Lk)("label",{for:"make"},"Make",-1)),(0,s.Lk)("input",{type:"text",id:"make",value:a.modelValue.make,onInput:t[0]||(t[0]=e=>r.updateVehicle("make",e.target.value)),placeholder:"e.g., Toyota",required:""},null,40,tf)]),(0,s.Lk)("div",af,[t[10]||(t[10]=(0,s.Lk)("label",{for:"model"},"Model",-1)),(0,s.Lk)("input",{type:"text",id:"model",value:a.modelValue.model,onInput:t[1]||(t[1]=e=>r.updateVehicle("model",e.target.value)),placeholder:"e.g., Vios",required:""},null,40,sf)]),(0,s.Lk)("div",of,[t[11]||(t[11]=(0,s.Lk)("label",{for:"year"},"Year",-1)),(0,s.Lk)("input",{type:"number",id:"year",value:a.modelValue.year,onInput:t[2]||(t[2]=e=>r.updateVehicle("year",Number(e.target.value))),placeholder:"e.g., 2020",min:"1980",max:(new Date).getFullYear()+1,required:""},null,40,lf)]),(0,s.Lk)("div",nf,[t[13]||(t[13]=(0,s.Lk)("label",{for:"vehicleType"},"Vehicle Type",-1)),(0,s.Lk)("select",{id:"vehicleType",value:a.modelValue.vehicleType,onChange:t[3]||(t[3]=e=>r.updateVehicle("vehicleType",e.target.value)),required:""},[...t[12]||(t[12]=[(0,s.Lk)("option",{value:"",disabled:""},"Select a vehicle type",-1),(0,s.Lk)("option",{value:"Sedan"},"Sedan",-1),(0,s.Lk)("option",{value:"SUV"},"SUV",-1),(0,s.Lk)("option",{value:"MPV"},"MPV",-1),(0,s.Lk)("option",{value:"Hatchback"},"Hatchback",-1),(0,s.Lk)("option",{value:"Van"},"Van",-1),(0,s.Lk)("option",{value:"Pickup Truck"},"Pickup Truck",-1)])],40,rf)]),(0,s.Lk)("div",cf,[t[15]||(t[15]=(0,s.Lk)("label",{for:"seats"},"Seats",-1)),(0,s.Lk)("select",{id:"seats",value:a.modelValue.seats,onChange:t[4]||(t[4]=e=>r.updateVehicle("seats",Number(e.target.value))),required:""},[...t[14]||(t[14]=[(0,s.Lk)("option",{value:"",disabled:""},"Select number of seats",-1),(0,s.Lk)("option",{value:"2"},"2",-1),(0,s.Lk)("option",{value:"4"},"4",-1),(0,s.Lk)("option",{value:"5"},"5",-1),(0,s.Lk)("option",{value:"7"},"7",-1),(0,s.Lk)("option",{value:"8"},"8",-1),(0,s.Lk)("option",{value:"12"},"12",-1),(0,s.Lk)("option",{value:"15"},"15",-1)])],40,df)]),(0,s.Lk)("div",uf,[t[17]||(t[17]=(0,s.Lk)("label",{for:"transmission"},"Transmission",-1)),(0,s.Lk)("select",{id:"transmission",value:a.modelValue.transmission,onChange:t[5]||(t[5]=e=>r.updateVehicle("transmission",e.target.value)),required:""},[...t[16]||(t[16]=[(0,s.Lk)("option",{value:"",disabled:""},"Select transmission type",-1),(0,s.Lk)("option",{value:"Automatic"},"Automatic",-1),(0,s.Lk)("option",{value:"Manual"},"Manual",-1)])],40,pf)]),(0,s.Lk)("div",hf,[t[19]||(t[19]=(0,s.Lk)("label",{for:"fuelType"},"Fuel Type",-1)),(0,s.Lk)("select",{id:"fuelType",value:a.modelValue.fuelType,onChange:t[6]||(t[6]=e=>r.updateVehicle("fuelType",e.target.value)),required:""},[...t[18]||(t[18]=[(0,s.Lk)("option",{value:"",disabled:""},"Select fuel type",-1),(0,s.Lk)("option",{value:"Gasoline"},"Gasoline",-1),(0,s.Lk)("option",{value:"Diesel"},"Diesel",-1),(0,s.Lk)("option",{value:"Electric"},"Electric",-1),(0,s.Lk)("option",{value:"Hybrid"},"Hybrid",-1)])],40,mf)])]),a.showNavigation?((0,s.uX)(),(0,s.CE)("div",vf,[(0,s.Lk)("button",{type:"button",onClick:t[7]||(t[7]=t=>e.$emit("prev")),class:"nav-button secondary"}," Previous "),(0,s.Lk)("button",{type:"button",onClick:t[8]||(t[8]=(...e)=>r.nextStep&&r.nextStep(...e)),class:"nav-button primary"}," Next ")])):(0,s.Q3)("",!0),n.error?((0,s.uX)(),(0,s.CE)("div",kf,(0,o.v_)(n.error),1)):(0,s.Q3)("",!0)])]),_:1})}var ff={name:"VehicleDetails",props:{modelValue:{type:Object,required:!0,default:()=>({make:"",model:"",year:null,vehicleType:"",seats:null,transmission:"",fuelType:""})},initialVehicle:{type:Object,required:!1},isEditMode:{type:Boolean,default:!1},showNavigation:{type:Boolean,default:!0}},emits:["update:modelValue","next","prev","error"],data(){return{error:""}},methods:{updateVehicle(e,t){this.$emit("update:modelValue",{...this.modelValue,[e]:t})},nextStep(){const{make:e,model:t,year:a,seats:i,vehicleType:s,transmission:o,fuelType:l}=this.modelValue,n="number"===typeof i&&i>0,r=!!e&&!!t&&!!a&&n&&!!s&&!!o&&!!l;r?(this.$emit("next"),this.error=""):(this.error="Please fill in all vehicle details to proceed.",this.$emit("error",this.error))}}};const yf=(0,B.A)(ff,[["render",gf],["__scopeId","data-v-32690469"]]);var bf=yf;const Lf={class:"form-step-container"},wf={class:"features-container"},Cf={class:"category-title"},Sf={class:"features-checkbox-group"},Pf=["id","onUpdate:modelValue"],Ef={class:"checkbox-label"},Df={key:0,class:"navigation-buttons"};function Af(e,t,a,l,n,r){return(0,s.uX)(),(0,s.Wv)(i.eB,{name:"form-step-fade",appear:""},{default:(0,s.k6)(()=>[(0,s.Lk)("div",Lf,[t[3]||(t[3]=(0,s.Lk)("h3",null,"Vehicle Features",-1)),t[4]||(t[4]=(0,s.Lk)("p",{class:"step-info-text"}," Select the features and amenities your vehicle offers to attract more renters. ",-1)),(0,s.Lk)("div",wf,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.featuresList,(e,a)=>((0,s.uX)(),(0,s.CE)("div",{key:a,class:"feature-category"},[(0,s.Lk)("h4",Cf,(0,o.v_)(a),1),(0,s.Lk)("div",Sf,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e,e=>((0,s.uX)(),(0,s.CE)("label",{class:"checkbox-item",key:e.key},[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:e.key,"onUpdate:modelValue":t=>n.localFeatures[e.key]=t},null,8,Pf),[[i.lH,n.localFeatures[e.key]]]),t[2]||(t[2]=(0,s.Lk)("span",{class:"checkmark"},null,-1)),(0,s.Lk)("span",Ef,(0,o.v_)(e.name),1)]))),128))])]))),128))]),a.showNavigation?((0,s.uX)(),(0,s.CE)("div",Df,[(0,s.Lk)("button",{type:"button",onClick:t[0]||(t[0]=t=>e.$emit("prev")),class:"nav-button secondary"}," Previous "),(0,s.Lk)("button",{type:"button",onClick:t[1]||(t[1]=t=>e.$emit("next")),class:"nav-button primary"}," Next ")])):(0,s.Q3)("",!0)])]),_:1})}var _f={name:"VehicleFeatures",props:{modelValue:{type:Object,default:()=>({})},showNavigation:{type:Boolean,default:!0}},emits:["update:modelValue","next","prev"],data(){return{localFeatures:{...this.modelValue},featuresList:{Safety:[{name:"Seatbelts and Airbags",key:"seatbeltsAndAirbags"},{name:"Anti-lock Braking System (ABS)",key:"abs"},{name:"Electronic Stability Control (ESC)",key:"esc"},{name:"Back-up Camera",key:"backupCamera"},{name:"Blind Spot Monitoring (BSM)",key:"bsm"},{name:"Tire Pressure Monitoring System (TPMS)",key:"tpms"},{name:"Forward Collision Warning (FCW)",key:"fcw"}],"Device Connectivity":[{name:"Bluetooth",key:"bluetooth"},{name:"USB Port",key:"usbPort"},{name:"Apple CarPlay",key:"appleCarPlay"},{name:"Android Auto",key:"androidAuto"}],Convenience:[{name:"GPS Navigation",key:"gps"},{name:"Keyless Entry",key:"keylessEntry"},{name:"Heated Seats",key:"heatedSeats"},{name:"Sunroof",key:"sunroof"}],"Additional Features":[{name:"Child Seat",key:"childSeat"},{name:"Bike Rack",key:"bikeRack"},{name:"Roof Box",key:"roofBox"},{name:"Pet Friendly",key:"petFriendly"}]}}},watch:{localFeatures:{handler(e){this.$emit("update:modelValue",e)},deep:!0},modelValue(e){JSON.stringify(e)!==JSON.stringify(this.localFeatures)&&(this.localFeatures={...e})}},methods:{}};const Vf=(0,B.A)(_f,[["render",Af],["__scopeId","data-v-7f584946"]]);var If=Vf;const Ff={class:"progress-bar-container"},xf={class:"progress-info"},Mf={class:"step-count"},Tf={class:"next-step"},Rf={class:"progress-bar-wrapper"},Bf={class:"modal-header"},Uf={class:"modal-body"},Nf={class:"steps-list"},Xf=["onClick"],Of={class:"step-number"},qf={class:"step-label"};function $f(e,t,a,l,n,r){return(0,s.uX)(),(0,s.CE)("div",Ff,[(0,s.Lk)("div",xf,[(0,s.Lk)("div",null,[(0,s.Lk)("span",Mf,(0,o.v_)(a.currentStep)+" of "+(0,o.v_)(r.totalSteps)+" steps ",1),(0,s.Lk)("span",Tf,[(0,s.eW)(" Next: "+(0,o.v_)(r.nextStepLabel)+" | ",1),(0,s.Lk)("a",{href:"#",onClick:t[0]||(t[0]=(0,i.D$)(t=>e.$emit("start-over"),["prevent"]))},"Start over")])]),(0,s.Lk)("button",{class:"all-steps-btn button secondary-button",onClick:t[1]||(t[1]=(0,i.D$)(e=>n.isModalOpen=!0,["prevent"]))},[...t[5]||(t[5]=[(0,s.Lk)("i",{class:"bi bi-list-task"},null,-1),(0,s.eW)(" View Steps ",-1)])])]),(0,s.Lk)("div",Rf,[(0,s.Lk)("div",{class:"progress-bar-fill",style:(0,o.Tr)(r.progressBarStyle)},null,4)]),n.isModalOpen?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"modal-overlay",onClick:t[4]||(t[4]=e=>n.isModalOpen=!1)},[(0,s.Lk)("div",{class:"modal-card",onClick:t[3]||(t[3]=(0,i.D$)(()=>{},["stop"]))},[(0,s.Lk)("div",Bf,[t[6]||(t[6]=(0,s.Lk)("h3",null,"All Listing Steps",-1)),(0,s.Lk)("button",{onClick:t[2]||(t[2]=e=>n.isModalOpen=!1),class:"close-button"},"×")]),(0,s.Lk)("div",Uf,[(0,s.Lk)("ul",Nf,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.stepLabels,(e,t)=>((0,s.uX)(),(0,s.CE)("li",{key:t,class:(0,o.C4)(["step-item",{active:parseInt(t)===a.currentStep,completed:parseInt(t)<a.currentStep}]),onClick:e=>r.jumpToStep(t)},[(0,s.Lk)("span",Of,(0,o.v_)(t),1),(0,s.Lk)("span",qf,(0,o.v_)(e),1)],10,Xf))),128))])])])])):(0,s.Q3)("",!0)])}const Qf={1:"Location",2:"Registration (CR)",3:"Official Receipt (OR)",4:"Vehicle Details",5:"Features",6:"Pricing",7:"Safety Check",8:"Photos",9:"Review & Submit"},Wf={1:"Motorcycle Details",2:"Location",3:"Availability",4:"Pricing",5:"Photos",6:"Review & Submit"};var Hf={name:"FormStepSlider",props:{currentStep:{type:Number,required:!0},assetType:{type:String,default:"vehicle"}},emits:["start-over","jump-to-step"],data(){return{isModalOpen:!1}},computed:{stepLabels(){return"motorcycle"===this.assetType?Wf:Qf},totalSteps(){return Object.keys(this.stepLabels).length},progressBarStyle(){const e=Math.min(this.currentStep,this.totalSteps),t=e/this.totalSteps*100;return{width:`${t}%`}},nextStepLabel(){const e=this.currentStep+1;return this.stepLabels[e]||"Complete"}},methods:{jumpToStep(e){this.stepLabels[e]&&(this.$emit("jump-to-step",parseInt(e)),this.isModalOpen=!1)}}};const jf=(0,B.A)(Hf,[["render",$f],["__scopeId","data-v-68474a6a"]]);var Yf=jf;const Kf={class:"form-step-container"},Gf={class:"form-group"},Jf={class:"form-group upload-section"},zf={key:0,class:"upload-prompt"},Zf=["src"],ey={key:0,class:"navigation-buttons"},ty={key:1,class:"error-message"};function ay(e,t,a,l,n,r){return(0,s.uX)(),(0,s.Wv)(i.eB,{name:"form-step-fade",appear:""},{default:(0,s.k6)(()=>[(0,s.Lk)("div",Kf,[t[11]||(t[11]=(0,s.Lk)("h3",null,"Vehicle Certificate of Registration (CR)",-1)),(0,s.Lk)("div",Gf,[t[7]||(t[7]=(0,s.Lk)("label",{for:"plateNumber"},"Plate Number",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"plateNumber","onUpdate:modelValue":t[0]||(t[0]=e=>n.localVehicleCOR.plateNumber=e),placeholder:"e.g., ABC 1234",required:"",onInput:t[1]||(t[1]=(...e)=>r.emitUpdate&&r.emitUpdate(...e))},null,544),[[i.Jo,n.localVehicleCOR.plateNumber]])]),(0,s.Lk)("div",Jf,[t[10]||(t[10]=(0,s.Lk)("label",{for:"cor-upload"},"Upload CR Photo",-1)),(0,s.Lk)("div",{class:(0,o.C4)(["upload-area",{"has-image":n.imagePreview}]),onClick:t[2]||(t[2]=(...e)=>r.triggerFileInput&&r.triggerFileInput(...e))},[n.imagePreview?((0,s.uX)(),(0,s.CE)("img",{key:1,src:n.imagePreview,alt:"CR Preview",class:"image-preview"},null,8,Zf)):((0,s.uX)(),(0,s.CE)("div",zf,[...t[8]||(t[8]=[(0,s.Lk)("i",{class:"bi bi-cloud-arrow-up-fill"},null,-1),(0,s.Lk)("span",null,"Click to upload image of CR",-1),(0,s.Lk)("span",{class:"file-info"},"PNG, JPG, or JPEG (Max 2MB)",-1)])]))],2),(0,s.Lk)("input",{type:"file",ref:"fileInput",onChange:t[3]||(t[3]=(...e)=>r.handleFileUpload&&r.handleFileUpload(...e)),accept:"image/png, image/jpeg, image/jpg",class:"hidden-file-input"},null,544),n.imagePreview?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:t[4]||(t[4]=(...e)=>r.removeImage&&r.removeImage(...e)),class:"button remove-button",type:"button"},[...t[9]||(t[9]=[(0,s.Lk)("i",{class:"bi bi-x-lg"},null,-1),(0,s.eW)(" Remove Image ",-1)])])):(0,s.Q3)("",!0)]),a.showNavigation?((0,s.uX)(),(0,s.CE)("div",ey,[(0,s.Lk)("button",{type:"button",onClick:t[5]||(t[5]=t=>e.$emit("prev")),class:"nav-button secondary"},"Previous"),(0,s.Lk)("button",{type:"button",onClick:t[6]||(t[6]=(...e)=>r.nextStep&&r.nextStep(...e)),class:"nav-button primary"},"Next")])):(0,s.Q3)("",!0),n.error?((0,s.uX)(),(0,s.CE)("div",ty,(0,o.v_)(n.error),1)):(0,s.Q3)("",!0)])]),_:1})}var iy={name:"VehicleCOR",props:{modelValue:{type:Object,required:!0},showNavigation:{type:Boolean,default:!0}},emits:["update:modelValue","next","prev","error"],data(){return{localVehicleCOR:{plateNumber:this.modelValue?.plateNumber||"",corImage:this.modelValue?.corImage||null},imagePreview:this.modelValue?.corImage||null,error:""}},watch:{modelValue(e){this.localVehicleCOR.plateNumber=e.plateNumber||"",this.localVehicleCOR.corImage=e.corImage||null,this.imagePreview=e.corImage||null}},methods:{triggerFileInput(){this.imagePreview||this.$refs.fileInput.click()},handleFileUpload(e){const t=e.target.files[0];if(!t)return;if(t.size>2097152)return void(this.error="File is too large (Max 2MB).");if(!["image/png","image/jpeg","image/jpg"].includes(t.type))return void(this.error="Invalid file type. Please use PNG, JPG, or JPEG.");this.error="";const a=new FileReader;a.onload=e=>{this.imagePreview=e.target.result,this.localVehicleCOR.corImage=e.target.result,this.emitUpdate()},a.readAsDataURL(t)},removeImage(){this.imagePreview=null,this.localVehicleCOR.corImage=null,this.$refs.fileInput.value=null,this.emitUpdate()},emitUpdate(){this.$emit("update:modelValue",this.localVehicleCOR)},nextStep(){this.localVehicleCOR.plateNumber&&this.localVehicleCOR.corImage?(this.$emit("next"),this.error=""):this.error="Please enter your plate number and upload the CR photo."}}};const sy=(0,B.A)(iy,[["render",ay],["__scopeId","data-v-c939c62a"]]);var oy=sy;const ly={class:"form-step-container"},ny={class:"form-group upload-section"},ry={key:0,class:"upload-prompt"},cy=["src"],dy={key:0,class:"navigation-buttons"},uy={key:1,class:"error-message"};function py(e,t,a,l,n,r){return(0,s.uX)(),(0,s.Wv)(i.eB,{name:"form-step-fade",appear:""},{default:(0,s.k6)(()=>[(0,s.Lk)("div",ly,[t[8]||(t[8]=(0,s.Lk)("h3",null,"Vehicle Official Receipt (OR)",-1)),t[9]||(t[9]=(0,s.Lk)("p",{class:"step-info-text"}," Please upload a clear photo of your vehicle's most recent Official Receipt. ",-1)),(0,s.Lk)("div",ny,[t[7]||(t[7]=(0,s.Lk)("label",{for:"or-upload"},"OR Photo",-1)),(0,s.Lk)("div",{class:(0,o.C4)(["upload-area",{"has-image":n.imagePreview}]),onClick:t[0]||(t[0]=(...e)=>r.triggerFileInput&&r.triggerFileInput(...e))},[n.imagePreview?((0,s.uX)(),(0,s.CE)("img",{key:1,src:n.imagePreview,alt:"OR Preview",class:"image-preview"},null,8,cy)):((0,s.uX)(),(0,s.CE)("div",ry,[...t[5]||(t[5]=[(0,s.Lk)("i",{class:"bi bi-cloud-arrow-up-fill"},null,-1),(0,s.Lk)("span",null,"Click to upload image of OR",-1),(0,s.Lk)("span",{class:"file-info"},"PNG, JPG, or JPEG (Max 2MB)",-1)])]))],2),(0,s.Lk)("input",{type:"file",ref:"fileInput",onChange:t[1]||(t[1]=(...e)=>r.handleFileUpload&&r.handleFileUpload(...e)),accept:"image/png, image/jpeg, image/jpg",class:"hidden-file-input"},null,544),n.imagePreview?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:t[2]||(t[2]=(...e)=>r.removeImage&&r.removeImage(...e)),class:"button remove-button",type:"button"},[...t[6]||(t[6]=[(0,s.Lk)("i",{class:"bi bi-x-lg"},null,-1),(0,s.eW)(" Remove Image ",-1)])])):(0,s.Q3)("",!0)]),a.showNavigation?((0,s.uX)(),(0,s.CE)("div",dy,[(0,s.Lk)("button",{type:"button",onClick:t[3]||(t[3]=t=>e.$emit("prev")),class:"nav-button secondary"},"Previous"),(0,s.Lk)("button",{type:"button",onClick:t[4]||(t[4]=(...e)=>r.nextStep&&r.nextStep(...e)),class:"nav-button primary"},"Next")])):(0,s.Q3)("",!0),n.error?((0,s.uX)(),(0,s.CE)("div",uy,(0,o.v_)(n.error),1)):(0,s.Q3)("",!0)])]),_:1})}var hy={name:"VehicleOR",props:{modelValue:{type:Object,required:!0},showNavigation:{type:Boolean,default:!0}},emits:["update:modelValue","next","prev","error"],data(){return{localOR:{orImage:this.modelValue?.orImage||null},imagePreview:this.modelValue?.orImage||null,error:""}},watch:{modelValue(e){this.localOR.orImage=e.orImage||null,this.imagePreview=e.orImage||null}},methods:{triggerFileInput(){this.imagePreview||this.$refs.fileInput.click()},handleFileUpload(e){const t=e.target.files[0];if(!t)return;if(t.size>2097152)return void(this.error="File is too large (Max 2MB).");if(!["image/png","image/jpeg","image/jpg"].includes(t.type))return void(this.error="Invalid file type. Please use PNG, JPG, or JPEG.");this.error="";const a=new FileReader;a.onload=e=>{this.imagePreview=e.target.result,this.localOR.orImage=e.target.result,this.emitUpdate()},a.onerror=()=>{this.error="Failed to read file."},a.readAsDataURL(t)},removeImage(){this.imagePreview=null,this.localOR.orImage=null,this.$refs.fileInput.value=null,this.emitUpdate()},emitUpdate(){this.$emit("update:modelValue",this.localOR)},nextStep(){this.localOR.orImage?(this.$emit("next"),this.error=""):this.error="Please upload the OR photo to continue."}}};const my=(0,B.A)(hy,[["render",py],["__scopeId","data-v-5446f9d2"]]);var vy=my;const ky={class:"form-step-container"},gy={class:"form-grid"},fy={class:"form-group"},yy={class:"form-group"},by={class:"form-group calculated-price"},Ly={class:"price-box"},wy={class:"form-group"},Cy={key:0,class:"error-message"},Sy={key:1,class:"navigation-buttons"},Py=["disabled"];function Ey(e,t,a,l,n,r){return(0,s.uX)(),(0,s.Wv)(i.eB,{name:"form-step-fade",appear:""},{default:(0,s.k6)(()=>[(0,s.Lk)("div",ky,[t[13]||(t[13]=(0,s.Lk)("h3",null,"Set Your Price",-1)),t[14]||(t[14]=(0,s.Lk)("p",{class:"step-info-text"},"We'll help you set a competitive daily rental price based on your car's market value in the Philippines.",-1)),(0,s.Lk)("div",gy,[(0,s.Lk)("div",fy,[t[8]||(t[8]=(0,s.Lk)("label",{for:"marketValue"},"Estimated Market Value (PHP)",-1)),(0,s.bo)((0,s.Lk)("input",{type:"number",id:"marketValue","onUpdate:modelValue":t[0]||(t[0]=e=>n.localPricing.marketValue=e),placeholder:"e.g., 1000000",required:"",onInput:t[1]||(t[1]=(...e)=>r.updatePricing&&r.updatePricing(...e)),min:"0"},null,544),[[i.Jo,n.localPricing.marketValue,void 0,{number:!0}]])]),(0,s.Lk)("div",yy,[t[10]||(t[10]=(0,s.Lk)("label",{for:"condition"},"Car Condition",-1)),(0,s.bo)((0,s.Lk)("select",{id:"condition","onUpdate:modelValue":t[2]||(t[2]=e=>n.localPricing.condition=e),required:"",onChange:t[3]||(t[3]=(...e)=>r.updatePricing&&r.updatePricing(...e))},[...t[9]||(t[9]=[(0,s.Lk)("option",{value:"",disabled:""},"Select condition",-1),(0,s.Lk)("option",{value:"excellent"},"Excellent",-1),(0,s.Lk)("option",{value:"good"},"Good",-1),(0,s.Lk)("option",{value:"fair"},"Fair",-1)])],544),[[i.u1,n.localPricing.condition]])]),(0,s.Lk)("div",by,[t[11]||(t[11]=(0,s.Lk)("label",null,"Recommended Daily Price",-1)),(0,s.Lk)("div",Ly," ₱ "+(0,o.v_)(r.calculatedPrice?r.calculatedPrice.toLocaleString("en-PH",{maximumFractionDigits:0}):"0"),1)]),(0,s.Lk)("div",wy,[t[12]||(t[12]=(0,s.Lk)("label",{for:"manualPrice"},"Your Daily Rental Price (Optional)",-1)),(0,s.bo)((0,s.Lk)("input",{type:"number",id:"manualPrice","onUpdate:modelValue":t[4]||(t[4]=e=>n.localPricing.manualPrice=e),placeholder:"Override recommended price",onInput:t[5]||(t[5]=(...e)=>r.updatePricing&&r.updatePricing(...e)),min:"0"},null,544),[[i.Jo,n.localPricing.manualPrice,void 0,{number:!0}]])])]),n.error?((0,s.uX)(),(0,s.CE)("div",Cy,(0,o.v_)(n.error),1)):(0,s.Q3)("",!0),a.showNavigation?((0,s.uX)(),(0,s.CE)("div",Sy,[(0,s.Lk)("button",{type:"button",onClick:t[6]||(t[6]=t=>e.$emit("prev")),class:"nav-button secondary"},"Previous"),(0,s.Lk)("button",{type:"button",onClick:t[7]||(t[7]=(...e)=>r.nextStep&&r.nextStep(...e)),class:"nav-button primary",disabled:!r.isValid}," Next ",8,Py)])):(0,s.Q3)("",!0)])]),_:1})}var Dy={name:"VehiclePricing",props:{modelValue:{type:Object,required:!0,default:()=>({marketValue:null,condition:"",manualPrice:null,recommendedPrice:null})},vehicleYear:{type:Number,default:null},showNavigation:{type:Boolean,default:!0}},emits:["update:modelValue","next","prev","error"],data(){return{localPricing:{...this.modelValue},error:""}},computed:{calculatedPrice(){if(!this.localPricing.marketValue||!this.localPricing.condition)return 0;const e=this.getConditionMultiplier();return.001*this.localPricing.marketValue*e},isValid(){return this.localPricing.marketValue>0&&""!==this.localPricing.condition}},methods:{nextStep(){this.validate()&&(this.updatePricing(),this.$emit("next"))},validate(){return this.error="",this.isValid?!(this.localPricing.manualPrice&&this.localPricing.manualPrice<100)||(this.error="Custom price must be at least ₱100.",!1):(this.error="Please enter the market value and condition.",!1)},updatePricing(){this.localPricing.recommendedPrice=this.calculatedPrice,this.$emit("update:modelValue",this.localPricing)},getConditionMultiplier(){switch(this.localPricing.condition){case"excellent":return 1.2;case"good":return 1;case"fair":return.8;default:return 1}}},watch:{modelValue:{handler(e){this.localPricing={...e}},deep:!0,immediate:!0}}};const Ay=(0,B.A)(Dy,[["render",Ey],["__scopeId","data-v-4c17807b"]]);var _y=Ay;const Vy={class:"form-step-container"},Iy={class:"form-sub-section"},Fy={class:"form-group checkbox-group"},xy={class:"checkbox-item"},My={class:"checkbox-item"},Ty={class:"checkbox-item"},Ry={class:"checkbox-item"},By={class:"checkbox-item"},Uy={class:"checkbox-item"},Ny={class:"checkbox-item"},Xy={class:"form-group"},Oy={key:0,class:"error-message"},qy={key:1,class:"navigation-buttons"},$y=["disabled"];function Qy(e,t,a,l,n,r){return(0,s.uX)(),(0,s.Wv)(i.eB,{name:"form-step-fade",appear:""},{default:(0,s.k6)(()=>[(0,s.Lk)("div",Vy,[t[26]||(t[26]=(0,s.Lk)("h3",null,"Safety & Standard Quality",-1)),t[27]||(t[27]=(0,s.Lk)("p",{class:"step-info-text"}," Confirm that your vehicle meets these safety and quality standards to ensure a safe rental experience. ",-1)),(0,s.Lk)("div",Iy,[(0,s.Lk)("div",Fy,[t[24]||(t[24]=(0,s.Lk)("label",{class:"form-section-label"},"Safety Checklist (Required)",-1)),(0,s.Lk)("label",xy,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:"tires","onUpdate:modelValue":t[0]||(t[0]=e=>n.localSafety.tiresChecked=e)},null,512),[[i.lH,n.localSafety.tiresChecked]]),t[10]||(t[10]=(0,s.Lk)("span",{class:"checkmark"},null,-1)),t[11]||(t[11]=(0,s.Lk)("span",{class:"checkbox-label"},"Tires are in good condition with sufficient tread depth.",-1))]),(0,s.Lk)("label",My,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:"brakes","onUpdate:modelValue":t[1]||(t[1]=e=>n.localSafety.brakesChecked=e)},null,512),[[i.lH,n.localSafety.brakesChecked]]),t[12]||(t[12]=(0,s.Lk)("span",{class:"checkmark"},null,-1)),t[13]||(t[13]=(0,s.Lk)("span",{class:"checkbox-label"},"Brakes are fully functional with no unusual sounds.",-1))]),(0,s.Lk)("label",Ty,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:"lights","onUpdate:modelValue":t[2]||(t[2]=e=>n.localSafety.lightsChecked=e)},null,512),[[i.lH,n.localSafety.lightsChecked]]),t[14]||(t[14]=(0,s.Lk)("span",{class:"checkmark"},null,-1)),t[15]||(t[15]=(0,s.Lk)("span",{class:"checkbox-label"},"All headlights, taillights, and signal lights are working.",-1))]),(0,s.Lk)("label",Ry,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:"wipers","onUpdate:modelValue":t[3]||(t[3]=e=>n.localSafety.wipersChecked=e)},null,512),[[i.lH,n.localSafety.wipersChecked]]),t[16]||(t[16]=(0,s.Lk)("span",{class:"checkmark"},null,-1)),t[17]||(t[17]=(0,s.Lk)("span",{class:"checkbox-label"},"Horn and windshield wipers are fully functional.",-1))]),(0,s.Lk)("label",By,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:"emergencyTools","onUpdate:modelValue":t[4]||(t[4]=e=>n.localSafety.emergencyToolsChecked=e)},null,512),[[i.lH,n.localSafety.emergencyToolsChecked]]),t[18]||(t[18]=(0,s.Lk)("span",{class:"checkmark"},null,-1)),t[19]||(t[19]=(0,s.Lk)("span",{class:"checkbox-label"},"Vehicle includes emergency tools (e.g., spare tire, jack).",-1))]),(0,s.Lk)("label",Uy,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:"registration","onUpdate:modelValue":t[5]||(t[5]=e=>n.localSafety.registrationChecked=e)},null,512),[[i.lH,n.localSafety.registrationChecked]]),t[20]||(t[20]=(0,s.Lk)("span",{class:"checkmark"},null,-1)),t[21]||(t[21]=(0,s.Lk)("span",{class:"checkbox-label"},"Vehicle has a valid and current registration.",-1))]),(0,s.Lk)("label",Ny,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:"cleanliness","onUpdate:modelValue":t[6]||(t[6]=e=>n.localSafety.cleanlinessChecked=e)},null,512),[[i.lH,n.localSafety.cleanlinessChecked]]),t[22]||(t[22]=(0,s.Lk)("span",{class:"checkmark"},null,-1)),t[23]||(t[23]=(0,s.Lk)("span",{class:"checkbox-label"},"Vehicle interior and exterior are clean.",-1))])]),(0,s.Lk)("div",Xy,[t[25]||(t[25]=(0,s.Lk)("label",{for:"notes"},"Additional Notes (Optional)",-1)),(0,s.bo)((0,s.Lk)("textarea",{id:"notes","onUpdate:modelValue":t[7]||(t[7]=e=>n.localSafety.notes=e),placeholder:"e.g., 'Last serviced in June 2024. New battery installed.'",rows:"4"},null,512),[[i.Jo,n.localSafety.notes]])])]),n.error?((0,s.uX)(),(0,s.CE)("div",Oy,(0,o.v_)(n.error),1)):(0,s.Q3)("",!0),a.showNavigation?((0,s.uX)(),(0,s.CE)("div",qy,[(0,s.Lk)("button",{type:"button",onClick:t[8]||(t[8]=t=>e.$emit("prev")),class:"nav-button secondary"},"Previous"),(0,s.Lk)("button",{type:"button",onClick:t[9]||(t[9]=(...e)=>r.nextStep&&r.nextStep(...e)),class:"nav-button primary",disabled:!r.isValid}," Next ",8,$y)])):(0,s.Q3)("",!0)])]),_:1})}var Wy={name:"VehicleSafety",props:{modelValue:{type:Object,required:!0,default:()=>({tiresChecked:!1,brakesChecked:!1,lightsChecked:!1,wipersChecked:!1,emergencyToolsChecked:!1,registrationChecked:!1,cleanlinessChecked:!1,notes:""})},showNavigation:{type:Boolean,default:!0}},emits:["update:modelValue","next","prev","error"],data(){return{localSafety:{...this.modelValue},error:""}},computed:{isValid(){return this.localSafety.tiresChecked&&this.localSafety.brakesChecked&&this.localSafety.lightsChecked&&this.localSafety.wipersChecked&&this.localSafety.emergencyToolsChecked&&this.localSafety.registrationChecked&&this.localSafety.cleanlinessChecked}},methods:{nextStep(){this.validateStep()&&this.$emit("next")},validateStep(){return this.error="",!!this.isValid||(this.error="Please check all safety and quality standards to continue.",this.$emit("error",this.error),!1)}},watch:{localSafety:{handler(e){this.$emit("update:modelValue",e)},deep:!0}}};const Hy=(0,B.A)(Wy,[["render",Qy],["__scopeId","data-v-19cbf7ac"]]);var jy=Hy;const Yy={class:"form-step-container"},Ky={class:"photo-upload-section"},Gy=["src"],Jy={key:1,class:"upload-prompt"},zy={class:"photo-upload-section"},Zy={class:"gallery-grid"},eb=["src"],tb=["onClick"],ab={class:"photo-upload-section"},ib={class:"gallery-grid"},sb=["src"],ob=["onClick"],lb={key:1,class:"photo-upload-section"},nb={class:"gallery-grid"},rb=["src"],cb=["onClick"],db={key:2,class:"error-message"},ub={key:3,class:"navigation-buttons"},pb=["disabled"];function hb(e,t,a,l,n,r){return(0,s.uX)(),(0,s.Wv)(i.eB,{name:"form-step-fade",appear:""},{default:(0,s.k6)(()=>[(0,s.Lk)("div",Yy,[t[27]||(t[27]=(0,s.Lk)("h3",null,"Vehicle Photos",-1)),t[28]||(t[28]=(0,s.Lk)("p",{class:"step-info-text"}," Upload clear photos to attract renters. A profile photo and at least one gallery photo is required. ",-1)),(0,s.Lk)("div",Ky,[t[13]||(t[13]=(0,s.Lk)("label",null,"Profile Photo",-1)),t[14]||(t[14]=(0,s.Lk)("p",{class:"section-description"}," This will be the main image for your listing. ",-1)),(0,s.Lk)("div",{class:(0,o.C4)(["profile-upload-area",{"has-image":a.profilePhotoUrl}]),onClick:t[2]||(t[2]=e=>r.openFilePicker("profile"))},[(0,s.Lk)("input",{ref:"profilePhotoInput",type:"file",onChange:t[0]||(t[0]=e=>r.handleFileUpload(e,"profile")),accept:"image/png, image/jpeg, image/jpg",class:"hidden-file-input"},null,544),a.profilePhotoUrl?((0,s.uX)(),(0,s.CE)("img",{key:0,src:a.profilePhotoUrl,alt:"Profile Photo Preview",class:"profile-photo-preview"},null,8,Gy)):((0,s.uX)(),(0,s.CE)("div",Jy,[...t[11]||(t[11]=[(0,s.Lk)("i",{class:"bi bi-camera-fill"},null,-1),(0,s.Lk)("span",null,"Click to upload a profile photo",-1),(0,s.Lk)("span",{class:"file-info"},"PNG, JPG, or JPEG (Max 2MB)",-1)])])),a.profilePhotoUrl?((0,s.uX)(),(0,s.CE)("button",{key:2,onClick:t[1]||(t[1]=(0,i.D$)(e=>r.removePhoto("profile"),["stop"])),class:"remove-btn top-right",type:"button"},[...t[12]||(t[12]=[(0,s.Lk)("i",{class:"bi bi-x-lg"},null,-1)])])):(0,s.Q3)("",!0)],2)]),"vehicle"===a.assetType?((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[(0,s.Lk)("div",zy,[t[17]||(t[17]=(0,s.Lk)("label",null,"Exterior Photos",-1)),t[18]||(t[18]=(0,s.Lk)("p",{class:"section-description"}," Upload at least one photo of your car's exterior. ",-1)),(0,s.Lk)("div",Zy,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.exteriorPhotos,(e,a)=>((0,s.uX)(),(0,s.CE)("div",{key:`ext-${a}`,class:"photo-card"},[(0,s.Lk)("img",{src:e,alt:"Exterior Photo",class:"photo-preview"},null,8,eb),(0,s.Lk)("button",{onClick:(0,i.D$)(e=>r.removePhoto("exterior",a),["stop"]),class:"remove-btn",type:"button"},[...t[15]||(t[15]=[(0,s.Lk)("i",{class:"bi bi-x-lg"},null,-1)])],8,tb)]))),128)),(0,s.Lk)("div",{class:"gallery-upload-box",onClick:t[4]||(t[4]=e=>r.openFilePicker("exterior"))},[(0,s.Lk)("input",{ref:"exteriorPhotoInput",type:"file",onChange:t[3]||(t[3]=e=>r.handleFileUpload(e,"exterior")),accept:"image/png, image/jpeg, image/jpg",multiple:"",class:"hidden-file-input"},null,544),t[16]||(t[16]=(0,s.Lk)("div",{class:"upload-prompt-small"},[(0,s.Lk)("i",{class:"bi bi-plus-circle-fill"}),(0,s.Lk)("span",null,"Add Photos")],-1))])])]),(0,s.Lk)("div",ab,[t[21]||(t[21]=(0,s.Lk)("label",null,"Interior Photos",-1)),t[22]||(t[22]=(0,s.Lk)("p",{class:"section-description"}," Upload at least one photo of your car's interior. ",-1)),(0,s.Lk)("div",ib,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.interiorPhotos,(e,a)=>((0,s.uX)(),(0,s.CE)("div",{key:`int-${a}`,class:"photo-card"},[(0,s.Lk)("img",{src:e,alt:"Interior Photo",class:"photo-preview"},null,8,sb),(0,s.Lk)("button",{onClick:(0,i.D$)(e=>r.removePhoto("interior",a),["stop"]),class:"remove-btn",type:"button"},[...t[19]||(t[19]=[(0,s.Lk)("i",{class:"bi bi-x-lg"},null,-1)])],8,ob)]))),128)),(0,s.Lk)("div",{class:"gallery-upload-box",onClick:t[6]||(t[6]=e=>r.openFilePicker("interior"))},[(0,s.Lk)("input",{ref:"interiorPhotoInput",type:"file",onChange:t[5]||(t[5]=e=>r.handleFileUpload(e,"interior")),accept:"image/png, image/jpeg, image/jpg",multiple:"",class:"hidden-file-input"},null,544),t[20]||(t[20]=(0,s.Lk)("div",{class:"upload-prompt-small"},[(0,s.Lk)("i",{class:"bi bi-plus-circle-fill"}),(0,s.Lk)("span",null,"Add Photos")],-1))])])])],64)):"motorcycle"===a.assetType?((0,s.uX)(),(0,s.CE)("div",lb,[t[25]||(t[25]=(0,s.Lk)("label",null,"Motorcycle Gallery",-1)),t[26]||(t[26]=(0,s.Lk)("p",{class:"section-description"}," Upload at least 5-6 photos showing different angles of your motorcycle. ",-1)),(0,s.Lk)("div",nb,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.exteriorPhotos,(e,a)=>((0,s.uX)(),(0,s.CE)("div",{key:`ext-${a}`,class:"photo-card"},[(0,s.Lk)("img",{src:e,alt:"Motorcycle Photo",class:"photo-preview"},null,8,rb),(0,s.Lk)("button",{onClick:(0,i.D$)(e=>r.removePhoto("exterior",a),["stop"]),class:"remove-btn",type:"button"},[...t[23]||(t[23]=[(0,s.Lk)("i",{class:"bi bi-x-lg"},null,-1)])],8,cb)]))),128)),(0,s.Lk)("div",{class:"gallery-upload-box",onClick:t[8]||(t[8]=e=>r.openFilePicker("exterior"))},[(0,s.Lk)("input",{ref:"exteriorPhotoInput",type:"file",onChange:t[7]||(t[7]=e=>r.handleFileUpload(e,"exterior")),accept:"image/png, image/jpeg, image/jpg",multiple:"",class:"hidden-file-input"},null,544),t[24]||(t[24]=(0,s.Lk)("div",{class:"upload-prompt-small"},[(0,s.Lk)("i",{class:"bi bi-plus-circle-fill"}),(0,s.Lk)("span",null,"Add Photos")],-1))])])])):(0,s.Q3)("",!0),n.error?((0,s.uX)(),(0,s.CE)("div",db,(0,o.v_)(n.error),1)):(0,s.Q3)("",!0),a.showNavigation?((0,s.uX)(),(0,s.CE)("div",ub,[(0,s.Lk)("button",{type:"button",onClick:t[9]||(t[9]=t=>e.$emit("prev")),class:"nav-button secondary"}," Previous "),(0,s.Lk)("button",{type:"button",onClick:t[10]||(t[10]=(...e)=>r.nextStep&&r.nextStep(...e)),class:"nav-button primary",disabled:!r.isStepComplete}," Next ",8,pb)])):(0,s.Q3)("",!0)])]),_:1})}var mb={name:"VehiclePhotos",props:{profilePhotoUrl:String,exteriorPhotos:Array,interiorPhotos:Array,showNavigation:{type:Boolean,default:!0},assetType:{type:String,default:"vehicle"}},emits:["update:profilePhotoUrl","update:exteriorPhotos","update:interiorPhotos","next","prev","error"],data(){return{error:""}},computed:{isStepComplete(){return"motorcycle"===this.assetType?this.profilePhotoUrl&&this.exteriorPhotos&&this.exteriorPhotos.length>=5:this.profilePhotoUrl&&this.exteriorPhotos&&this.exteriorPhotos.length>0&&this.interiorPhotos&&this.interiorPhotos.length>0}},methods:{openFilePicker(e){"profile"===e?this.$refs.profilePhotoInput.click():"exterior"===e?this.$refs.exteriorPhotoInput.click():"interior"===e&&this.$refs.interiorPhotoInput.click()},handleFileUpload(e,t){const a=e.target.files;if(!a)return;this.error="";const i=e=>new Promise((t,a)=>{if(e.size>2097152)return a(new Error(`File ${e.name} is too large (Max 2MB).`));if(!["image/png","image/jpeg","image/jpg"].includes(e.type))return a(new Error(`File ${e.name} is not a valid image type.`));const i=new FileReader;i.onload=e=>t(e.target.result),i.onerror=e=>a(new Error("Failed to read file.")),i.readAsDataURL(e)});"profile"===t?i(a[0]).then(e=>{this.$emit("update:profilePhotoUrl",e)}).catch(e=>{this.error=e.message}):Promise.all(Array.from(a).map(i)).then(e=>{"exterior"===t?this.$emit("update:exteriorPhotos",[...this.exteriorPhotos,...e]):"interior"===t&&this.$emit("update:interiorPhotos",[...this.interiorPhotos,...e])}).catch(e=>{this.error=e.message}),e.target.value=null},removePhoto(e,t=null){if("profile"===e)this.$emit("update:profilePhotoUrl",null);else if("exterior"===e){const e=[...this.exteriorPhotos];e.splice(t,1),this.$emit("update:exteriorPhotos",e)}else if("interior"===e){const e=[...this.interiorPhotos];e.splice(t,1),this.$emit("update:interiorPhotos",e)}},nextStep(){this.isStepComplete?(this.error="",this.$emit("next")):"motorcycle"===this.assetType?this.error="Please upload a profile photo and at least 5 gallery photos to continue.":this.error="Please upload at least one profile, exterior, and interior photo to continue."}}};const vb=(0,B.A)(mb,[["render",hb],["__scopeId","data-v-882d01aa"]]);var kb=vb;const gb={class:"form-step-container"},fb={key:0,class:"review-container"},yb={class:"review-card"},bb={class:"card-body"},Lb={class:"review-grid"},wb={class:"review-item"},Cb={class:"review-item"},Sb={class:"review-item"},Pb={class:"review-item"},Eb={class:"review-item"},Db={class:"review-item"},Ab={class:"review-item"},_b={class:"review-card-row"},Vb={class:"review-card half"},Ib={class:"card-body"},Fb={class:"review-item"},xb={class:"review-item"},Mb={class:"review-card half"},Tb={class:"card-body"},Rb={class:"review-item"},Bb={class:"plate-text"},Ub={class:"mini-doc-grid"},Nb={class:"doc-preview"},Xb=["src"],Ob={class:"doc-preview"},qb=["src"],$b={class:"review-card highlight-card"},Qb={class:"card-body"},Wb={class:"review-grid"},Hb={class:"review-item"},jb={class:"review-item"},Yb={style:{"text-transform":"capitalize"}},Kb={class:"review-item"},Gb={class:"review-item final-price-item"},Jb={class:"final-price"},zb={class:"review-card"},Zb={class:"card-body"},eL={key:0,class:"features-pills-group"},tL={key:1,class:"no-data-text"},aL={class:"review-card"},iL={class:"card-body"},sL={class:"safety-list"},oL={key:0,class:"notes-box"},lL={class:"review-card"},nL={class:"card-body"},rL={class:"photo-container"},cL={class:"photo-wrapper profile"},dL=["src"],uL=["src"],pL=["src"],hL={class:"navigation-buttons"},mL=["disabled"],vL=["disabled"],kL={key:0,class:"loading-text"},gL={key:1};function fL(e,t,a,l,n,r){return(0,s.uX)(),(0,s.Wv)(i.eB,{name:"form-step-fade",appear:""},{default:(0,s.k6)(()=>[(0,s.Lk)("div",gb,[t[36]||(t[36]=(0,s.Lk)("div",{class:"header-section"},[(0,s.Lk)("h3",null,"Review and Submit"),(0,s.Lk)("p",{class:"step-info-text"}," Please review all the information below. Once submitted, your vehicle will be sent to our team for approval. ")],-1)),a.vehicle?((0,s.uX)(),(0,s.CE)("div",fb,[(0,s.Lk)("div",yb,[t[14]||(t[14]=(0,s.Lk)("div",{class:"card-header"},[(0,s.Lk)("h4",null,[(0,s.Lk)("i",{class:"fas fa-car"}),(0,s.eW)(" Vehicle Details")])],-1)),(0,s.Lk)("div",bb,[(0,s.Lk)("div",Lb,[(0,s.Lk)("div",wb,[t[7]||(t[7]=(0,s.Lk)("label",null,"Make",-1)),(0,s.Lk)("p",null,(0,o.v_)(a.vehicle.make||"N/A"),1)]),(0,s.Lk)("div",Cb,[t[8]||(t[8]=(0,s.Lk)("label",null,"Model",-1)),(0,s.Lk)("p",null,(0,o.v_)(a.vehicle.model||"N/A"),1)]),(0,s.Lk)("div",Sb,[t[9]||(t[9]=(0,s.Lk)("label",null,"Year",-1)),(0,s.Lk)("p",null,(0,o.v_)(a.vehicle.year||"N/A"),1)]),(0,s.Lk)("div",Pb,[t[10]||(t[10]=(0,s.Lk)("label",null,"Seats",-1)),(0,s.Lk)("p",null,(0,o.v_)(a.vehicle.seats||"N/A"),1)]),(0,s.Lk)("div",Eb,[t[11]||(t[11]=(0,s.Lk)("label",null,"Type",-1)),(0,s.Lk)("p",null,(0,o.v_)(a.vehicle.vehicleType||"N/A"),1)]),(0,s.Lk)("div",Db,[t[12]||(t[12]=(0,s.Lk)("label",null,"Transmission",-1)),(0,s.Lk)("p",null,(0,o.v_)(a.vehicle.transmission||"N/A"),1)]),(0,s.Lk)("div",Ab,[t[13]||(t[13]=(0,s.Lk)("label",null,"Fuel",-1)),(0,s.Lk)("p",null,(0,o.v_)(a.vehicle.fuelType||"N/A"),1)])])])]),(0,s.Lk)("div",_b,[(0,s.Lk)("div",Vb,[t[17]||(t[17]=(0,s.Lk)("div",{class:"card-header"},[(0,s.Lk)("h4",null,[(0,s.Lk)("i",{class:"fas fa-map-marker-alt"}),(0,s.eW)(" Location")])],-1)),(0,s.Lk)("div",Ib,[(0,s.Lk)("div",Fb,[t[15]||(t[15]=(0,s.Lk)("label",null,"City",-1)),(0,s.Lk)("p",null,(0,o.v_)(a.vehicle.location?.city||"N/A"),1)]),(0,s.Lk)("div",xb,[t[16]||(t[16]=(0,s.Lk)("label",null,"Barangay",-1)),(0,s.Lk)("p",null,(0,o.v_)(a.vehicle.location?.barangay||"N/A"),1)])])]),(0,s.Lk)("div",Mb,[t[21]||(t[21]=(0,s.Lk)("div",{class:"card-header"},[(0,s.Lk)("h4",null,[(0,s.Lk)("i",{class:"fas fa-file-alt"}),(0,s.eW)(" Documents")])],-1)),(0,s.Lk)("div",Tb,[(0,s.Lk)("div",Rb,[t[18]||(t[18]=(0,s.Lk)("label",null,"Plate Number",-1)),(0,s.Lk)("p",Bb,(0,o.v_)(a.vehicle.cor?.plateNumber||"N/A"),1)]),(0,s.Lk)("div",Ub,[(0,s.Lk)("div",Nb,[t[19]||(t[19]=(0,s.Lk)("span",null,"CR",-1)),(0,s.Lk)("img",{src:a.vehicle.cor?.corImage,onError:t[0]||(t[0]=(...e)=>r.onImageError&&r.onImageError(...e))},null,40,Xb)]),(0,s.Lk)("div",Ob,[t[20]||(t[20]=(0,s.Lk)("span",null,"OR",-1)),(0,s.Lk)("img",{src:a.vehicle.or?.orImage,onError:t[1]||(t[1]=(...e)=>r.onImageError&&r.onImageError(...e))},null,40,qb)])])])])]),(0,s.Lk)("div",$b,[t[27]||(t[27]=(0,s.Lk)("div",{class:"card-header"},[(0,s.Lk)("h4",null,[(0,s.Lk)("i",{class:"fas fa-tag"}),(0,s.eW)(" Pricing Strategy")])],-1)),(0,s.Lk)("div",Qb,[(0,s.Lk)("div",Wb,[(0,s.Lk)("div",Hb,[t[22]||(t[22]=(0,s.Lk)("label",null,"Market Value",-1)),(0,s.Lk)("p",null," ₱"+(0,o.v_)(a.vehicle.pricing?.marketValue?.toLocaleString()||"N/A"),1)]),(0,s.Lk)("div",jb,[t[23]||(t[23]=(0,s.Lk)("label",null,"Condition",-1)),(0,s.Lk)("p",Yb,(0,o.v_)(a.vehicle.pricing?.condition||"N/A"),1)]),(0,s.Lk)("div",Kb,[t[24]||(t[24]=(0,s.Lk)("label",null,"Recommended",-1)),(0,s.Lk)("p",null," ₱"+(0,o.v_)(a.vehicle.pricing?.recommendedPrice?.toLocaleString()||"N/A")+" / day ",1)]),(0,s.Lk)("div",Gb,[t[26]||(t[26]=(0,s.Lk)("label",null,"Your Listing Price",-1)),(0,s.Lk)("p",Jb,[(0,s.eW)(" ₱"+(0,o.v_)((a.vehicle.pricing?.manualPrice||a.vehicle.pricing?.recommendedPrice||0).toLocaleString())+" ",1),t[25]||(t[25]=(0,s.Lk)("span",{class:"per-day"},"/ day",-1))])])])])]),(0,s.Lk)("div",zb,[t[29]||(t[29]=(0,s.Lk)("div",{class:"card-header"},[(0,s.Lk)("h4",null,[(0,s.Lk)("i",{class:"fas fa-list-ul"}),(0,s.eW)(" Features")])],-1)),(0,s.Lk)("div",Zb,[r.selectedFeatures.length>0?((0,s.uX)(),(0,s.CE)("div",eL,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.selectedFeatures,e=>((0,s.uX)(),(0,s.CE)("span",{key:e,class:"feature-pill"},[t[28]||(t[28]=(0,s.Lk)("i",{class:"fas fa-check"},null,-1)),(0,s.eW)(" "+(0,o.v_)(e),1)]))),128))])):((0,s.uX)(),(0,s.CE)("p",tL,"No additional features listed."))])]),(0,s.Lk)("div",aL,[t[31]||(t[31]=(0,s.Lk)("div",{class:"card-header"},[(0,s.Lk)("h4",null,[(0,s.Lk)("i",{class:"fas fa-shield-alt"}),(0,s.eW)(" Safety Checklist")])],-1)),(0,s.Lk)("div",iL,[(0,s.Lk)("ul",sL,[(0,s.Lk)("li",{class:(0,o.C4)({checked:a.vehicle.safety?.tiresChecked})}," Tires condition ",2),(0,s.Lk)("li",{class:(0,o.C4)({checked:a.vehicle.safety?.brakesChecked})}," Brakes functional ",2),(0,s.Lk)("li",{class:(0,o.C4)({checked:a.vehicle.safety?.lightsChecked})}," All lights working ",2),(0,s.Lk)("li",{class:(0,o.C4)({checked:a.vehicle.safety?.wipersChecked})}," Wipers/Horn ",2),(0,s.Lk)("li",{class:(0,o.C4)({checked:a.vehicle.safety?.emergencyToolsChecked})}," Emergency tools ",2),(0,s.Lk)("li",{class:(0,o.C4)({checked:a.vehicle.safety?.registrationChecked})}," Valid Reg ",2),(0,s.Lk)("li",{class:(0,o.C4)({checked:a.vehicle.safety?.cleanlinessChecked})}," Clean Interior ",2)]),a.vehicle.safety?.notes?((0,s.uX)(),(0,s.CE)("div",oL,[t[30]||(t[30]=(0,s.Lk)("strong",null,"Owner Notes:",-1)),(0,s.eW)(' "'+(0,o.v_)(a.vehicle.safety.notes)+'" ',1)])):(0,s.Q3)("",!0)])]),(0,s.Lk)("div",lL,[t[33]||(t[33]=(0,s.Lk)("div",{class:"card-header"},[(0,s.Lk)("h4",null,[(0,s.Lk)("i",{class:"fas fa-camera"}),(0,s.eW)(" Photos")])],-1)),(0,s.Lk)("div",nL,[(0,s.Lk)("div",rL,[(0,s.Lk)("div",cL,[(0,s.Lk)("img",{src:a.vehicle.profilePhotoUrl,onError:t[2]||(t[2]=(...e)=>r.onImageError&&r.onImageError(...e))},null,40,dL),t[32]||(t[32]=(0,s.Lk)("span",{class:"photo-badge"},"Main Profile",-1))]),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.vehicle.exteriorPhotos,(e,a)=>((0,s.uX)(),(0,s.CE)("div",{class:"photo-wrapper",key:`ext-${a}`},[(0,s.Lk)("img",{src:e,onError:t[3]||(t[3]=(...e)=>r.onImageError&&r.onImageError(...e))},null,40,uL)]))),128)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.vehicle.interiorPhotos,(e,a)=>((0,s.uX)(),(0,s.CE)("div",{class:"photo-wrapper",key:`int-${a}`},[(0,s.Lk)("img",{src:e,onError:t[4]||(t[4]=(...e)=>r.onImageError&&r.onImageError(...e))},null,40,pL)]))),128))])])])])):(0,s.Q3)("",!0),(0,s.Lk)("div",hL,[(0,s.Lk)("button",{type:"button",onClick:t[5]||(t[5]=t=>e.$emit("prev")),class:"nav-button secondary",disabled:a.isSubmitting}," Back to Edit ",8,mL),(0,s.Lk)("button",{type:"button",onClick:t[6]||(t[6]=t=>e.$emit("submit")),class:(0,o.C4)(["nav-button primary",{"is-loading":a.isSubmitting}]),disabled:a.isSubmitting},[a.isSubmitting?((0,s.uX)(),(0,s.CE)("span",kL,[...t[34]||(t[34]=[(0,s.Lk)("i",{class:"fas fa-circle-notch fa-spin"},null,-1),(0,s.eW)(" Uploading... ",-1)])])):((0,s.uX)(),(0,s.CE)("span",gL,[...t[35]||(t[35]=[(0,s.eW)(" Confirm & Submit ",-1),(0,s.Lk)("i",{class:"fas fa-arrow-right"},null,-1)])]))],10,vL)])])]),_:1})}var yL={name:"SubmitListing",props:{vehicle:{type:Object,required:!0},isEditMode:{type:Boolean,default:!1},isSubmitting:{type:Boolean,default:!1}},emits:["prev","submit"],data(){return{featuresList:{Safety:[{name:"Seatbelts and Airbags",key:"seatbeltsAndAirbags"},{name:"Anti-lock Braking System (ABS)",key:"abs"},{name:"Electronic Stability Control (ESC)",key:"esc"},{name:"Back-up Camera",key:"backupCamera"},{name:"Blind Spot Monitoring (BSM)",key:"bsm"},{name:"Tire Pressure Monitoring System (TPMS)",key:"tpms"},{name:"Forward Collision Warning (FCW)",key:"fcw"}],"Device Connectivity":[{name:"Bluetooth",key:"bluetooth"},{name:"USB Port",key:"usbPort"},{name:"Apple CarPlay",key:"appleCarPlay"},{name:"Android Auto",key:"androidAuto"}],Convenience:[{name:"GPS Navigation",key:"gps"},{name:"Keyless Entry",key:"keylessEntry"},{name:"Heated Seats",key:"heatedSeats"},{name:"Sunroof",key:"sunroof"}],"Additional Features":[{name:"Child Seat",key:"childSeat"},{name:"Bike Rack",key:"bikeRack"},{name:"Roof Box",key:"roofBox"},{name:"Pet Friendly",key:"petFriendly"}]}}},computed:{featureNameMap(){const e={};for(const t in this.featuresList)for(const a of this.featuresList[t])e[a.key]=a.name;return e},selectedFeatures(){return this.vehicle.features?Object.keys(this.vehicle.features).filter(e=>!0===this.vehicle.features[e]).map(e=>this.featureNameMap[e]||e):[]}},methods:{onImageError(e){e.target.src="https://placehold.co/400x300/e2e8f0/666660?text=No+Image"}}};const bL=(0,B.A)(yL,[["render",fL],["__scopeId","data-v-3972eb05"]]);var LL=bL;const wL={class:"form-step-container"},CL={key:0,class:"review-container"},SL={class:"review-card"},PL={class:"card-body"},EL={class:"review-grid"},DL={class:"review-item"},AL={class:"review-item"},_L={class:"review-item"},VL={class:"review-item"},IL={class:"review-item"},FL={class:"review-item"},xL={class:"plate-text"},ML={class:"review-card"},TL={class:"card-body"},RL={class:"review-grid"},BL={class:"review-item"},UL={class:"review-item"},NL={class:"review-card highlight-card"},XL={class:"card-body"},OL={class:"review-grid"},qL={class:"review-item final-price-item"},$L={class:"final-price"},QL={class:"review-card"},WL={class:"card-body"},HL={class:"photo-container"},jL={key:0,class:"photo-wrapper profile"},YL=["src"],KL=["src"],GL={key:1,class:"no-data-text"},JL={class:"action-area"},zL={class:"navigation-buttons"},ZL=["disabled"],ew=["disabled"],tw={key:0,class:"loading-text"},aw={key:1},iw={key:0,class:"upload-status-container"};function sw(e,t,a,l,n,r){return(0,s.uX)(),(0,s.Wv)(i.eB,{name:"form-step-fade",appear:""},{default:(0,s.k6)(()=>[(0,s.Lk)("div",wL,[t[22]||(t[22]=(0,s.Lk)("div",{class:"header-section"},[(0,s.Lk)("h3",null,"Review and Submit"),(0,s.Lk)("p",{class:"step-info-text"}," Please review your motorcycle's details below. ")],-1)),a.motorcycle?((0,s.uX)(),(0,s.CE)("div",CL,[(0,s.Lk)("div",SL,[t[10]||(t[10]=(0,s.Lk)("div",{class:"card-header"},[(0,s.Lk)("h4",null,[(0,s.Lk)("i",{class:"fas fa-motorcycle"}),(0,s.eW)(" Motorcycle Details")])],-1)),(0,s.Lk)("div",PL,[(0,s.Lk)("div",EL,[(0,s.Lk)("div",DL,[t[4]||(t[4]=(0,s.Lk)("label",null,"Make",-1)),(0,s.Lk)("p",null,(0,o.v_)(a.motorcycle.make||"N/A"),1)]),(0,s.Lk)("div",AL,[t[5]||(t[5]=(0,s.Lk)("label",null,"Model",-1)),(0,s.Lk)("p",null,(0,o.v_)(a.motorcycle.model||"N/A"),1)]),(0,s.Lk)("div",_L,[t[6]||(t[6]=(0,s.Lk)("label",null,"Year",-1)),(0,s.Lk)("p",null,(0,o.v_)(a.motorcycle.year||"N/A"),1)]),(0,s.Lk)("div",VL,[t[7]||(t[7]=(0,s.Lk)("label",null,"Type",-1)),(0,s.Lk)("p",null,(0,o.v_)(a.motorcycle.motorcycleType||"N/A"),1)]),(0,s.Lk)("div",IL,[t[8]||(t[8]=(0,s.Lk)("label",null,"Engine",-1)),(0,s.Lk)("p",null,(0,o.v_)(a.motorcycle.engineDisplacement||"N/A")+" cc",1)]),(0,s.Lk)("div",FL,[t[9]||(t[9]=(0,s.Lk)("label",null,"Plate",-1)),(0,s.Lk)("p",xL,(0,o.v_)(a.motorcycle.cor?.plateNumber||a.motorcycle.licensePlate||"N/A"),1)])])])]),(0,s.Lk)("div",ML,[t[13]||(t[13]=(0,s.Lk)("div",{class:"card-header"},[(0,s.Lk)("h4",null,[(0,s.Lk)("i",{class:"fas fa-map-marker-alt"}),(0,s.eW)(" Pickup Location")])],-1)),(0,s.Lk)("div",TL,[(0,s.Lk)("div",RL,[(0,s.Lk)("div",BL,[t[11]||(t[11]=(0,s.Lk)("label",null,"City",-1)),(0,s.Lk)("p",null,(0,o.v_)(a.motorcycle.location?.city||"N/A"),1)]),(0,s.Lk)("div",UL,[t[12]||(t[12]=(0,s.Lk)("label",null,"Barangay",-1)),(0,s.Lk)("p",null,(0,o.v_)(a.motorcycle.location?.barangay||"N/A"),1)])])])]),(0,s.Lk)("div",NL,[t[16]||(t[16]=(0,s.Lk)("div",{class:"card-header"},[(0,s.Lk)("h4",null,[(0,s.Lk)("i",{class:"fas fa-tag"}),(0,s.eW)(" Pricing")])],-1)),(0,s.Lk)("div",XL,[(0,s.Lk)("div",OL,[(0,s.Lk)("div",qL,[t[15]||(t[15]=(0,s.Lk)("label",null,"Your Daily Rate",-1)),(0,s.Lk)("p",$L,[(0,s.eW)(" ₱"+(0,o.v_)((a.motorcycle.pricing?.manualPrice||a.motorcycle.pricing?.recommendedPrice||0).toLocaleString())+" ",1),t[14]||(t[14]=(0,s.Lk)("span",{class:"per-day"},"/ day",-1))])])])])]),(0,s.Lk)("div",QL,[t[18]||(t[18]=(0,s.Lk)("div",{class:"card-header"},[(0,s.Lk)("h4",null,[(0,s.Lk)("i",{class:"fas fa-camera"}),(0,s.eW)(" Photos")])],-1)),(0,s.Lk)("div",WL,[(0,s.Lk)("div",HL,[a.motorcycle.profilePhotoUrl?((0,s.uX)(),(0,s.CE)("div",jL,[(0,s.Lk)("img",{src:a.motorcycle.profilePhotoUrl,alt:"Profile",onError:t[0]||(t[0]=(...e)=>r.onImageError&&r.onImageError(...e))},null,40,YL),t[17]||(t[17]=(0,s.Lk)("span",{class:"photo-badge"},"Main Profile",-1))])):(0,s.Q3)("",!0),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.motorcycle.exteriorPhotos,(e,a)=>((0,s.uX)(),(0,s.CE)("div",{class:"photo-wrapper",key:`ext-${a}`},[(0,s.Lk)("img",{src:e,alt:"Gallery Photo",onError:t[1]||(t[1]=(...e)=>r.onImageError&&r.onImageError(...e))},null,40,KL)]))),128)),a.motorcycle.profilePhotoUrl||a.motorcycle.exteriorPhotos&&0!==a.motorcycle.exteriorPhotos.length?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("p",GL," No photos uploaded. "))])])])])):(0,s.Q3)("",!0),(0,s.Lk)("div",JL,[(0,s.Lk)("div",zL,[(0,s.Lk)("button",{type:"button",onClick:t[2]||(t[2]=t=>e.$emit("prev")),class:"nav-button secondary",disabled:a.busy}," Back to Edit ",8,ZL),(0,s.Lk)("button",{type:"button",onClick:t[3]||(t[3]=t=>e.$emit("submit")),class:(0,o.C4)(["nav-button primary",{"is-loading":a.busy}]),disabled:a.busy},[a.busy?((0,s.uX)(),(0,s.CE)("span",tw,[...t[19]||(t[19]=[(0,s.Lk)("i",{class:"fas fa-circle-notch fa-spin"},null,-1),(0,s.eW)(" Uploading... ",-1)])])):((0,s.uX)(),(0,s.CE)("span",aw,[...t[20]||(t[20]=[(0,s.eW)(" Submit Listing ",-1),(0,s.Lk)("i",{class:"fas fa-arrow-right"},null,-1)])]))],10,ew)]),(0,s.bF)(i.eB,{name:"fade"},{default:(0,s.k6)(()=>[a.busy?((0,s.uX)(),(0,s.CE)("div",iw,[...t[21]||(t[21]=[(0,s.Lk)("div",{class:"loader"},null,-1),(0,s.Lk)("p",{class:"status-text"},[(0,s.Lk)("strong",null,"Listing is uploading..."),(0,s.Lk)("br"),(0,s.eW)(" Please do not close this page. ")],-1)])])):(0,s.Q3)("",!0)]),_:1})])])]),_:1})}var ow={name:"SubmitMotorcycle",props:{motorcycle:{type:Object,required:!0},isEditMode:{type:Boolean,default:!1},busy:{type:Boolean,default:!1}},emits:["prev","submit"],methods:{onImageError(e){e.target.src="https://placehold.co/400x300/e2e8f0/666660?text=No+Image"}}};const lw=(0,B.A)(ow,[["render",sw],["__scopeId","data-v-0b0d3b12"]]);var nw=lw;const rw={assetType:"vehicle",location:{country:"Philippines",region:"Region VII (Central Visayas)",city:"",barangay:"",latitude:null,longitude:null},cor:{crNumber:"",plateNumber:"",dateIssued:"",corImage:""},or:{orNumber:"",dateIssued:"",orImageUrl:"",orImage:""},make:"",model:"",year:null,seats:null,vehicleType:"",transmission:"",fuelType:"",features:{seatbeltsAndAirbags:!1,abs:!1,esc:!1,backupCamera:!1,bsm:!1,tpms:!1,fcw:!1,bluetooth:!1,usbPort:!1,appleCarPlay:!1,androidAuto:!1,gps:!1,keylessEntry:!1,heatedSeats:!1,sunroof:!1,childSeat:!1,bikeRack:!1,roofBox:!1,petFriendly:!1},pricing:{marketValue:null,condition:"",manualPrice:null,recommendedPrice:null},safety:{tiresChecked:!1,brakesChecked:!1,lightsChecked:!1,wipersChecked:!1,emergencyToolsChecked:!1,registrationChecked:!1,cleanlinessChecked:!1,notes:""},profilePhotoUrl:"",exteriorPhotos:[],interiorPhotos:[]};var cw={name:"VehicleFormSteps",components:{VehicleLocation:Jg,VehicleDetails:bf,VehicleFeatures:If,FormStepSlider:Yf,VehicleCOR:oy,VehicleOR:vy,VehiclePricing:_y,VehicleSafety:jy,VehiclePhotos:kb,SubmitListing:LL,SubmitMotorcycle:nw},props:{initialVehicle:{type:Object,required:!0},isEditMode:{type:Boolean,default:!1}},emits:["success","error","start-over","cancel"],data(){const e=this.initialVehicle||{},t={...rw,...e};return t.location={...rw.location,...e.location||{}},t.cor={...rw.cor,...e.cor||{}},t.or={...rw.or,...e.or||{}},t.pricing={...rw.pricing,...e.pricing||{}},t.safety={...rw.safety,...e.safety||{}},t.features={...rw.features,...e.features||{}},t.exteriorPhotos=e.exteriorPhotos||[],t.interiorPhotos=e.interiorPhotos||[],t.profilePhotoUrl=e.profilePhotoUrl||"",t.assetType=e.assetType||"vehicle",{currentStep:1,isSubmitting:!1,localVehicle:t,stepComponents:["VehicleLocation","VehicleCOR","VehicleOR","VehicleDetails","VehicleFeatures","VehiclePricing","VehicleSafety","VehiclePhotos","SubmitListing"]}},computed:{isMotorcycle(){return"motorcycle"===this.localVehicle.assetType},finalStep(){return this.isMotorcycle?6:9}},methods:{...(0,x.i0)(["addVehicle"]),handleCancel(){confirm("Are you sure you want to cancel? Any unsaved progress will be lost.")&&this.$router.push({name:"OwnerVehicles"})},nextStep(){this.currentStep<this.finalStep?this.currentStep++:this.submitForm()},prevStep(){this.currentStep>1&&this.currentStep--},startOver(){this.localVehicle={...rw},this.currentStep=1,this.$emit("start-over")},updateLocalVehicle(e){this.localVehicle={...this.localVehicle,...e}},async submitForm(){this.isSubmitting=!0,this.$emit("error","");try{this.localVehicle.or.orImageUrl&&(this.localVehicle.or.orImage=this.localVehicle.or.orImageUrl),await this.addVehicle(this.localVehicle),this.$emit("success","Your vehicle has been submitted!"),this.$router.push({name:"OwnerVehicles"})}catch(e){console.error("Submit Failed:",e),this.$emit("error",`Submission failed: ${e.message}`),this.isSubmitting=!1}}}};const dw=(0,B.A)(cw,[["render",Tg],["__scopeId","data-v-0a0c398c"]]);var uw=dw;const pw={class:"edit-vehicle-container"},hw={key:0,class:"loading-state"},mw={key:1,class:"error-state"},vw={class:"error-message"},kw={key:2,class:"edit-form-wrapper"},gw={key:3,class:"error-state"};function fw(e,t,a,i,l,n){const r=(0,s.g2)("EditVehicleSections");return(0,s.uX)(),(0,s.CE)("div",pw,[t[5]||(t[5]=(0,s.Lk)("h1",{class:"page-title"},"Edit Vehicle Listing",-1)),i.loading?((0,s.uX)(),(0,s.CE)("div",hw,[...t[3]||(t[3]=[(0,s.Lk)("p",null,"Loading vehicle details...",-1)])])):i.error?((0,s.uX)(),(0,s.CE)("div",mw,[(0,s.Lk)("p",vw,"Failed to load vehicle details: "+(0,o.v_)(i.error),1),(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>i.fetchVehicle&&i.fetchVehicle(...e)),class:"button secondary-button"},"Retry"),(0,s.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>i.goBack&&i.goBack(...e)),class:"button cancel-button"},"Go Back")])):i.vehicleData?((0,s.uX)(),(0,s.CE)("div",kw,[(0,s.bF)(r,{vehicle:i.vehicleData,"onUpdate:vehicle":i.handleVehicleUpdate,onSave:i.handleSaveChanges,onCancel:i.goBack},null,8,["vehicle","onUpdate:vehicle","onSave","onCancel"])])):((0,s.uX)(),(0,s.CE)("div",gw,[t[4]||(t[4]=(0,s.Lk)("p",{class:"error-message"},"Vehicle data could not be loaded or found.",-1)),(0,s.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>i.goBack&&i.goBack(...e)),class:"button cancel-button"},"Go Back")])),i.saveMessage?((0,s.uX)(),(0,s.CE)("div",{key:4,class:(0,o.C4)(["save-status",{success:!i.saveError,error:i.saveError}])},(0,o.v_)(i.saveMessage),3)):(0,s.Q3)("",!0)])}const yw={class:"edit-sections-container"},bw={class:"edit-section card"},Lw={class:"edit-section card"},ww={key:1,class:"edit-section card"},Cw={class:"edit-section card"},Sw={class:"edit-section card"},Pw={class:"edit-section card"},Ew={class:"save-actions"};function Dw(e,t,a,i,o,l){const n=(0,s.g2)("VehicleDetails"),r=(0,s.g2)("VehicleFeatures"),c=(0,s.g2)("MotorcycleDetails"),d=(0,s.g2)("VehicleLocation"),u=(0,s.g2)("VehicleAvailability"),p=(0,s.g2)("VehiclePhotos");return(0,s.uX)(),(0,s.CE)("div",yw,[i.isMotorcycle?((0,s.uX)(),(0,s.CE)("div",ww,[t[12]||(t[12]=(0,s.Lk)("h3",{class:"section-title"},"Motorcycle Details",-1)),(0,s.bF)(c,{modelValue:i.localVehicle,"onUpdate:modelValue":[t[2]||(t[2]=e=>i.localVehicle=e),i.handleChildUpdate],showNavigation:!1},null,8,["modelValue","onUpdate:modelValue"])])):((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[(0,s.Lk)("div",bw,[t[10]||(t[10]=(0,s.Lk)("h3",{class:"section-title"},"Vehicle Details",-1)),(0,s.bF)(n,{modelValue:i.localVehicle,"onUpdate:modelValue":[t[0]||(t[0]=e=>i.localVehicle=e),i.handleChildUpdate],initialVehicle:i.localVehicle,showNavigation:!1},null,8,["modelValue","initialVehicle","onUpdate:modelValue"])]),(0,s.Lk)("div",Lw,[t[11]||(t[11]=(0,s.Lk)("h3",{class:"section-title"},"Vehicle Features",-1)),(0,s.bF)(r,{modelValue:i.localVehicle.features,"onUpdate:modelValue":t[1]||(t[1]=e=>i.localVehicle.features=e),showNavigation:!1},null,8,["modelValue"])])],64)),(0,s.Lk)("div",Cw,[t[13]||(t[13]=(0,s.Lk)("h3",{class:"section-title"},"Pickup & Return Location",-1)),(0,s.bF)(d,{address:i.localVehicle.location,"onUpdate:address":t[3]||(t[3]=e=>i.localVehicle.location=e),showNavigation:!1},null,8,["address"])]),(0,s.Lk)("div",Sw,[t[14]||(t[14]=(0,s.Lk)("h3",{class:"section-title"},"Vehicle Availability",-1)),(0,s.bF)(u,{modelValue:i.localVehicle.availability,"onUpdate:modelValue":t[4]||(t[4]=e=>i.localVehicle.availability=e),showNavigation:!1},null,8,["modelValue"])]),(0,s.Lk)("div",Pw,[t[15]||(t[15]=(0,s.Lk)("h3",{class:"section-title"},"Vehicle Photos",-1)),(0,s.bF)(p,{profilePhotoUrl:i.localVehicle.profilePhotoUrl,"onUpdate:profilePhotoUrl":t[5]||(t[5]=e=>i.localVehicle.profilePhotoUrl=e),exteriorPhotos:i.localVehicle.exteriorPhotos,"onUpdate:exteriorPhotos":t[6]||(t[6]=e=>i.localVehicle.exteriorPhotos=e),interiorPhotos:i.localVehicle.interiorPhotos,"onUpdate:interiorPhotos":t[7]||(t[7]=e=>i.localVehicle.interiorPhotos=e),assetType:i.localVehicle.assetType,showNavigation:!1},null,8,["profilePhotoUrl","exteriorPhotos","interiorPhotos","assetType"])]),(0,s.Lk)("div",Ew,[(0,s.Lk)("button",{onClick:t[8]||(t[8]=t=>e.$emit("cancel")),type:"button",class:"button secondary-button"},"Cancel"),(0,s.Lk)("button",{onClick:t[9]||(t[9]=(...e)=>i.saveChanges&&i.saveChanges(...e)),type:"button",class:"button primary-button"},"Save Changes")])])}a(4979),a(1678);const Aw={class:"form-step-container"},_w={class:"availability-layout"},Vw={class:"date-input-section card"},Iw={class:"date-inputs"},Fw={class:"form-group"},xw=["min"],Mw={class:"form-group"},Tw=["min"],Rw=["disabled"],Bw={key:0,class:"error-message"},Uw={class:"display-section"},Nw={key:0,class:"blocked-periods-list empty"},Xw={key:1,class:"blocked-periods-list"},Ow=["onClick"],qw={key:0,class:"navigation-buttons"};function $w(e,t,a,l,n,r){return(0,s.uX)(),(0,s.Wv)(i.eB,{name:"form-step-fade",appear:""},{default:(0,s.k6)(()=>[(0,s.Lk)("div",Aw,[t[12]||(t[12]=(0,s.Lk)("h3",null,"Vehicle Availability",-1)),t[13]||(t[13]=(0,s.Lk)("p",{class:"step-info-text"},' Select a start and end date using the date pickers, then click "Block Selected Range". Renters will not be able to select these dates. ',-1)),(0,s.Lk)("div",_w,[(0,s.Lk)("div",Vw,[t[8]||(t[8]=(0,s.Lk)("h4",null,"Block New Date Range",-1)),(0,s.Lk)("div",Iw,[(0,s.Lk)("div",Fw,[t[5]||(t[5]=(0,s.Lk)("label",{for:"start-date"},"Start Date",-1)),(0,s.bo)((0,s.Lk)("input",{type:"date",id:"start-date","onUpdate:modelValue":t[0]||(t[0]=e=>n.newBlockStart=e),min:r.todayString},null,8,xw),[[i.Jo,n.newBlockStart]])]),(0,s.Lk)("div",Mw,[t[6]||(t[6]=(0,s.Lk)("label",{for:"end-date"},"End Date",-1)),(0,s.bo)((0,s.Lk)("input",{type:"date",id:"end-date","onUpdate:modelValue":t[1]||(t[1]=e=>n.newBlockEnd=e),min:n.newBlockStart||r.todayString},null,8,Tw),[[i.Jo,n.newBlockEnd]])])]),(0,s.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>r.addBlockedPeriod&&r.addBlockedPeriod(...e)),type:"button",class:"add-button",disabled:!n.newBlockStart||!n.newBlockEnd},[...t[7]||(t[7]=[(0,s.Lk)("i",{class:"bi bi-plus-circle-fill"},null,-1),(0,s.eW)(" Block Selected Range ",-1)])],8,Rw),n.dateError?((0,s.uX)(),(0,s.CE)("p",Bw,(0,o.v_)(n.dateError),1)):(0,s.Q3)("",!0)]),(0,s.Lk)("div",Uw,[a.modelValue&&0!==a.modelValue.length?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",Nw,[...t[9]||(t[9]=[(0,s.Lk)("h4",null,"No Dates Blocked",-1),(0,s.Lk)("p",null,"Your vehicle is currently available all the time.",-1)])])),a.modelValue&&a.modelValue.length>0?((0,s.uX)(),(0,s.CE)("div",Xw,[t[11]||(t[11]=(0,s.Lk)("h4",null,"Currently Blocked Periods",-1)),(0,s.Lk)("ul",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.modelValue,(e,a)=>((0,s.uX)(),(0,s.CE)("li",{key:a},[(0,s.Lk)("span",null,(0,o.v_)(r.formatDate(e.start))+" to "+(0,o.v_)(r.formatDate(e.end)),1),(0,s.Lk)("button",{onClick:e=>r.removeBlockedPeriod(a),class:"remove-button",title:"Remove"},[...t[10]||(t[10]=[(0,s.Lk)("i",{class:"bi bi-x-circle-fill"},null,-1)])],8,Ow)]))),128))])])):(0,s.Q3)("",!0)])]),a.showNavigation?((0,s.uX)(),(0,s.CE)("div",qw,[(0,s.Lk)("button",{type:"button",onClick:t[3]||(t[3]=t=>e.$emit("prev")),class:"nav-button secondary"},"Previous"),(0,s.Lk)("button",{type:"button",onClick:t[4]||(t[4]=t=>e.$emit("next")),class:"nav-button primary"},"Next")])):(0,s.Q3)("",!0)])]),_:1})}var Qw={name:"VehicleAvailability",components:{},props:{modelValue:{type:Array,default:()=>[]},showNavigation:{type:Boolean,default:!0}},emits:["update:modelValue","next","prev"],data(){return{newBlockStart:null,newBlockEnd:null,dateError:""}},watch:{modelValue:{handler(e){console.log("[VehicleAvailability] modelValue prop updated:",JSON.stringify(e))},deep:!0,immediate:!0}},computed:{todayString(){return Z.c9.now().toFormat("yyyy-MM-dd")}},methods:{parseToLocalDate(e){if(!e)return null;try{if("string"===typeof e){const t=Z.c9.fromISO(e,{zone:e.includes("T")?void 0:"utc"});return t.isValid?t.startOf("day").toJSDate():(console.warn("[VehicleAvailability] Invalid date string received by parseToLocalDate:",e),null)}return e.toDate&&"function"===typeof e.toDate?e.toDate():e instanceof Date?e:(console.warn("[VehicleAvailability] Unhandled type in parseToLocalDate:",typeof e),null)}catch(t){return console.error("[VehicleAvailability] Error parsing date:",e,t),null}},addBlockedPeriod(){if(this.dateError="",!this.newBlockStart||!this.newBlockEnd)return void(this.dateError="Please select both a start and end date.");const e=Z.c9.fromISO(this.newBlockStart),t=Z.c9.fromISO(this.newBlockEnd);if(!e.isValid||!t.isValid)return void(this.dateError="Invalid date format selected.");if(t<e)return void(this.dateError="End date cannot be before the start date.");const a={start:this.newBlockStart,end:this.newBlockEnd},i=this.modelValue.some(a=>{try{const i=Z.c9.fromISO(a.start),s=Z.c9.fromISO(a.end);return e<=s&&t>=i}catch(i){return console.error("Error comparing dates during overlap check:",a,i),!1}});if(i)return void(this.dateError="Selected range overlaps with an existing blocked period.");const s=[...this.modelValue,a];s.sort((e,t)=>Z.c9.fromISO(e.start)-Z.c9.fromISO(t.start)),this.newBlockStart=null,this.newBlockEnd=null,this.$emit("update:modelValue",s)},removeBlockedPeriod(e){const t=this.modelValue.filter((t,a)=>a!==e);this.$emit("update:modelValue",t)},formatDate(e){if(!e)return"N/A";try{const t=Z.c9.fromISO(e,{zone:e.includes("T")?void 0:"utc"});return t.isValid?t.toLocaleString(Z.c9.DATE_MED):"Invalid Date"}catch(t){return console.error("Error formatting date:",e,t),"Error"}}}};const Ww=(0,B.A)(Qw,[["render",$w],["__scopeId","data-v-d628e672"]]);var Hw=Ww;const jw={class:"form-step-container"},Yw={class:"form-grid"},Kw={class:"form-group"},Gw={class:"form-group"},Jw={class:"form-group"},zw={class:"form-group"},Zw={for:"licensePlate"},eC={key:0,class:"locked-badge"},tC=["disabled"],aC={key:0,class:"helper-text-warning"},iC={class:"form-group"},sC={class:"form-group"},oC={key:0,class:"error-message"},lC={key:1,class:"navigation-buttons"},nC=["disabled"];function rC(e,t,a,l,n,r){return(0,s.uX)(),(0,s.Wv)(i.eB,{name:"form-step-fade",appear:""},{default:(0,s.k6)(()=>[(0,s.Lk)("div",jw,[t[16]||(t[16]=(0,s.Lk)("h3",null,"Motorcycle Details",-1)),t[17]||(t[17]=(0,s.Lk)("p",{class:"step-info-text"}," Provide the basic details for your motorcycle. ",-1)),(0,s.Lk)("div",Yw,[(0,s.Lk)("div",Kw,[t[8]||(t[8]=(0,s.Lk)("label",{for:"make"},"Make (e.g., Honda, Yamaha)",-1)),(0,s.bo)((0,s.Lk)("input",{id:"make",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.localData.make=e),placeholder:"Honda"},null,512),[[i.Jo,n.localData.make]])]),(0,s.Lk)("div",Gw,[t[9]||(t[9]=(0,s.Lk)("label",{for:"model"},"Model (e.g., Click 150i)",-1)),(0,s.bo)((0,s.Lk)("input",{id:"model",type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>n.localData.model=e),placeholder:"Click 150i"},null,512),[[i.Jo,n.localData.model]])]),(0,s.Lk)("div",Jw,[t[10]||(t[10]=(0,s.Lk)("label",{for:"year"},"Year",-1)),(0,s.bo)((0,s.Lk)("input",{id:"year",type:"number","onUpdate:modelValue":t[2]||(t[2]=e=>n.localData.year=e),placeholder:"2022"},null,512),[[i.Jo,n.localData.year,void 0,{number:!0}]])]),(0,s.Lk)("div",zw,[(0,s.Lk)("label",Zw,[t[12]||(t[12]=(0,s.eW)(" License Plate ",-1)),r.isEditMode?((0,s.uX)(),(0,s.CE)("span",eC,[...t[11]||(t[11]=[(0,s.Lk)("i",{class:"bi bi-lock-fill"},null,-1),(0,s.eW)(" Locked ",-1)])])):(0,s.Q3)("",!0)]),(0,s.bo)((0,s.Lk)("input",{id:"licensePlate",type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>n.localData.licensePlate=e),placeholder:"ABC 123",disabled:r.isEditMode,class:(0,o.C4)({"input-locked":r.isEditMode}),title:"License plate cannot be changed after listing creation"},null,10,tC),[[i.Jo,n.localData.licensePlate]]),r.isEditMode?((0,s.uX)(),(0,s.CE)("small",aC," To prevent fraud, license plates cannot be edited once created. ")):(0,s.Q3)("",!0)]),(0,s.Lk)("div",iC,[t[14]||(t[14]=(0,s.Lk)("label",{for:"motorcycleType"},"Type",-1)),(0,s.bo)((0,s.Lk)("select",{id:"motorcycleType","onUpdate:modelValue":t[4]||(t[4]=e=>n.localData.motorcycleType=e)},[...t[13]||(t[13]=[(0,s.Lk)("option",{disabled:"",value:""},"Select a type",-1),(0,s.Lk)("option",null,"Scooter",-1),(0,s.Lk)("option",null,"Standard",-1),(0,s.Lk)("option",null,"Sport Bike",-1),(0,s.Lk)("option",null,"Cruiser",-1),(0,s.Lk)("option",null,"Touring",-1),(0,s.Lk)("option",null,"Off-road",-1)])],512),[[i.u1,n.localData.motorcycleType]])]),(0,s.Lk)("div",sC,[t[15]||(t[15]=(0,s.Lk)("label",{for:"engineDisplacement"},"Engine (cc)",-1)),(0,s.bo)((0,s.Lk)("input",{id:"engineDisplacement",type:"number","onUpdate:modelValue":t[5]||(t[5]=e=>n.localData.engineDisplacement=e),placeholder:"150"},null,512),[[i.Jo,n.localData.engineDisplacement,void 0,{number:!0}]])])]),n.error?((0,s.uX)(),(0,s.CE)("div",oC,(0,o.v_)(n.error),1)):(0,s.Q3)("",!0),a.showNavigation?((0,s.uX)(),(0,s.CE)("div",lC,[(0,s.Lk)("button",{type:"button",onClick:t[6]||(t[6]=t=>e.$emit("prev")),class:"nav-button secondary"}," Cancel "),(0,s.Lk)("button",{type:"button",onClick:t[7]||(t[7]=(...e)=>r.handleNext&&r.handleNext(...e)),class:"nav-button primary",disabled:!r.isValid}," Next ",8,nC)])):(0,s.Q3)("",!0)])]),_:1})}var cC={name:"MotorcycleDetails",props:{modelValue:{type:Object,required:!0},showNavigation:{type:Boolean,default:!0}},emits:["update:modelValue","next","prev"],data(){return{localData:{...this.modelValue},error:""}},computed:{isEditMode(){return!this.showNavigation},isValid(){return this.localData.make&&this.localData.model&&this.localData.year>1990&&this.localData.licensePlate&&this.localData.motorcycleType&&this.localData.engineDisplacement>50}},watch:{localData:{handler(e){this.$emit("update:modelValue",e)},deep:!0},modelValue(e){JSON.stringify(e)!==JSON.stringify(this.localData)&&(this.localData={...e})}},methods:{handleNext(){this.isValid?(this.$emit("update:modelValue",this.localData),this.$emit("next")):this.error="Please fill in all required fields to continue."}}};const dC=(0,B.A)(cC,[["render",rC],["__scopeId","data-v-6d83ab8c"]]);var uC=dC;function pC(e){try{return structuredClone(e)}catch(t){return JSON.parse(JSON.stringify(e))}}var hC={name:"EditVehicleSections",components:{VehicleLocation:Jg,VehicleAvailability:Hw,VehicleFeatures:If,VehiclePhotos:kb,VehicleDetails:bf,MotorcycleDetails:uC},props:{vehicle:{type:Object,required:!0}},emits:["save","cancel"],setup(e,{emit:t}){const a=(0,zs.KR)(pC(e.vehicle||{})),i=(0,s.EW)(()=>"motorcycle"===a.value?.assetType),o=e=>{a.value=pC(e||{}),a.value.location||(a.value.location={}),Array.isArray(a.value.availability)||(a.value.availability=[]),"object"===typeof a.value.features&&null!==a.value.features||(a.value.features={}),"object"===typeof a.value.safety&&null!==a.value.safety||(a.value.safety={}),"object"===typeof a.value.pricing&&null!==a.value.pricing||(a.value.pricing={}),"object"===typeof a.value.cor&&null!==a.value.cor||(a.value.cor={}),"object"===typeof a.value.or&&null!==a.value.or||(a.value.or={}),Array.isArray(a.value.exteriorPhotos)||(a.value.exteriorPhotos=[]),Array.isArray(a.value.interiorPhotos)||(a.value.interiorPhotos=[]),a.value.profilePhotoUrl||(a.value.profilePhotoUrl=""),a.value.assetType||(a.value.assetType="vehicle")};o(e.vehicle),(0,s.wB)(()=>e.vehicle,e=>{JSON.stringify(e)!==JSON.stringify(a.value)&&o(e)},{deep:!0});const l=e=>{a.value={...a.value,...e}},n=()=>{const e={...a.value};"motorcycle"===e.assetType?(delete e.features,delete e.seatingCapacity,delete e.vehicleType):(delete e.engineDisplacement,delete e.motorcycleType),t("save",e)};return{localVehicle:a,isMotorcycle:i,saveChanges:n,handleChildUpdate:l}}};const mC=(0,B.A)(hC,[["render",Dw],["__scopeId","data-v-5812cbe9"]]);var vC=mC,kC={name:"EditVehicleView",components:{EditVehicleSections:vC},setup(){const e=(0,Se.lq)(),t=(0,Se.rd)(),a=(0,x.Pj)(),i=(0,zs.KR)(e.params.vehicleId),o=(0,zs.KR)(null),l=(0,zs.KR)(!0),n=(0,zs.KR)(null),r=(0,zs.KR)(""),c=(0,zs.KR)(!1),d=async()=>{l.value=!0,n.value=null,r.value="",c.value=!1;try{const e=await a.dispatch("getVehicleById",i.value);e.availability&&Array.isArray(e.availability)?e.availability=e.availability.map(e=>{const t=e.start?new Date(e.start).toISOString().split("T")[0]:null,a=e.end?new Date(e.end).toISOString().split("T")[0]:null;return{start:t,end:a}}).filter(e=>e.start&&e.end):e.availability=[],"object"===typeof e.features&&null!==e.features||(e.features={}),o.value=e}catch(e){console.error("Error fetching vehicle:",e),n.value=e.message||"Could not retrieve vehicle data.",o.value=null}finally{l.value=!1}},u=e=>{},p=async e=>{r.value="Saving...",c.value=!1;try{await a.dispatch("updateVehicle",{id:i.value,updates:e}),r.value="Vehicle updated successfully!",c.value=!1,await d()}catch(t){console.error("Error updating vehicle:",t.response?.data||t.message),r.value=`Failed to update vehicle: ${t.response?.data?.message||t.message||"Please try again."}`,c.value=!0}},h=()=>{t.push({name:"OwnerVehicles"})};return(0,s.sV)(()=>{i.value?d():(n.value="No vehicle ID provided in the URL.",l.value=!1)}),{vehicleData:o,loading:l,error:n,fetchVehicle:d,handleVehicleUpdate:u,handleSaveChanges:p,goBack:h,saveMessage:r,saveError:c}}};const gC=(0,B.A)(kC,[["render",fw],["__scopeId","data-v-82d0e89e"]]);var fC=gC;const yC={class:"motorcycle-form-container"},bC={class:"form-card"};function LC(e,t,a,i,o,l){const n=(0,s.g2)("FormStepSlider"),r=(0,s.g2)("MotorcycleDetails"),c=(0,s.g2)("VehicleLocation"),d=(0,s.g2)("VehicleAvailability"),u=(0,s.g2)("VehiclePricing"),p=(0,s.g2)("VehiclePhotos"),h=(0,s.g2)("SubmitMotorcycle");return(0,s.uX)(),(0,s.CE)("div",yC,[(0,s.Lk)("div",bC,[(0,s.bF)(n,{currentStep:o.currentStep,totalSteps:o.stepComponents.length,assetType:o.localMotorcycle.assetType,onJumpToStep:l.jumpToStep,onStartOver:l.startOver},null,8,["currentStep","totalSteps","assetType","onJumpToStep","onStartOver"]),1===o.currentStep?((0,s.uX)(),(0,s.Wv)(r,{key:"step1",modelValue:o.localMotorcycle,"onUpdate:modelValue":t[0]||(t[0]=e=>o.localMotorcycle=e),onNext:l.nextStep,onPrev:l.goBack},null,8,["modelValue","onNext","onPrev"])):(0,s.Q3)("",!0),2===o.currentStep?((0,s.uX)(),(0,s.Wv)(c,{key:"step2",address:o.localMotorcycle.location,"onUpdate:address":t[1]||(t[1]=e=>o.localMotorcycle.location=e),showNavigation:!0,onNext:l.nextStep,onPrev:l.prevStep},null,8,["address","onNext","onPrev"])):(0,s.Q3)("",!0),3===o.currentStep?((0,s.uX)(),(0,s.Wv)(d,{key:"step3",modelValue:o.localMotorcycle.availability,"onUpdate:modelValue":t[2]||(t[2]=e=>o.localMotorcycle.availability=e),showNavigation:!0,onNext:l.nextStep,onPrev:l.prevStep},null,8,["modelValue","onNext","onPrev"])):(0,s.Q3)("",!0),4===o.currentStep?((0,s.uX)(),(0,s.Wv)(u,{key:"step4",modelValue:o.localMotorcycle.pricing,"onUpdate:modelValue":t[3]||(t[3]=e=>o.localMotorcycle.pricing=e),vehicleYear:o.localMotorcycle.year,showNavigation:!0,onNext:l.nextStep,onPrev:l.prevStep},null,8,["modelValue","vehicleYear","onNext","onPrev"])):(0,s.Q3)("",!0),5===o.currentStep?((0,s.uX)(),(0,s.Wv)(p,{key:"step5",profilePhotoUrl:o.localMotorcycle.profilePhotoUrl,"onUpdate:profilePhotoUrl":t[4]||(t[4]=e=>o.localMotorcycle.profilePhotoUrl=e),exteriorPhotos:o.localMotorcycle.exteriorPhotos,"onUpdate:exteriorPhotos":t[5]||(t[5]=e=>o.localMotorcycle.exteriorPhotos=e),interiorPhotos:o.localMotorcycle.interiorPhotos,"onUpdate:interiorPhotos":t[6]||(t[6]=e=>o.localMotorcycle.interiorPhotos=e),showNavigation:!0,assetType:o.localMotorcycle.assetType,onNext:l.nextStep,onPrev:l.prevStep},null,8,["profilePhotoUrl","exteriorPhotos","interiorPhotos","assetType","onNext","onPrev"])):(0,s.Q3)("",!0),6===o.currentStep?((0,s.uX)(),(0,s.Wv)(h,{key:"step6",motorcycle:o.localMotorcycle,isEditMode:a.isEditMode,busy:o.isSubmitting,onSubmit:l.submitForm,onPrev:l.prevStep},null,8,["motorcycle","isEditMode","busy","onSubmit","onPrev"])):(0,s.Q3)("",!0)])])}const wC={assetType:"motorcycle",make:"",model:"",year:null,licensePlate:"",engineDisplacement:null,motorcycleType:"",location:{country:"Philippines",region:"Region VII (Central Visayas)",city:"",barangay:"",latitude:null,longitude:null},availability:[],pricing:{marketValue:null,condition:"",manualPrice:null,recommendedPrice:null},profilePhotoUrl:"",exteriorPhotos:[],interiorPhotos:[],safety:{helmetProvided:!1,workingLights:!1,tireTreadGood:!1}};var CC={name:"MotorcycleFormSteps",components:{FormStepSlider:Yf,VehicleLocation:Jg,VehicleAvailability:Hw,VehiclePricing:_y,VehiclePhotos:kb,MotorcycleDetails:uC,SubmitMotorcycle:nw},props:{initialVehicle:{type:Object,default:()=>({})},isEditMode:{type:Boolean,default:!1}},data(){return{currentStep:1,isSubmitting:!1,localMotorcycle:this.initializeData(),stepComponents:["MotorcycleDetails","VehicleLocation","VehicleAvailability","VehiclePricing","VehiclePhotos","SubmitMotorcycle"]}},methods:{...(0,x.i0)(["addVehicle"]),initializeData(){const e={...wC,...this.initialVehicle};return e.location={...wC.location,...this.initialVehicle.location||{}},e.pricing={...wC.pricing,...this.initialVehicle.pricing||{}},e.safety={...wC.safety,...this.initialVehicle.safety||{}},e.availability=Array.isArray(this.initialVehicle.availability)?this.initialVehicle.availability:[],e.exteriorPhotos=Array.isArray(this.initialVehicle.exteriorPhotos)?this.initialVehicle.exteriorPhotos:[],e.interiorPhotos=Array.isArray(this.initialVehicle.interiorPhotos)?this.initialVehicle.interiorPhotos:[],e},nextStep(){this.currentStep<this.stepComponents.length&&this.currentStep++},prevStep(){this.currentStep>1&&this.currentStep--},jumpToStep(e){e>0&&e<=this.stepComponents.length&&(this.currentStep=e)},startOver(){this.localMotorcycle=this.initializeData(),this.currentStep=1},goBack(){this.$router.push({name:"OwnerVehicles"})},async submitForm(){console.log("Submitting motorcycle...",this.localMotorcycle),this.isSubmitting=!0;try{await this.addVehicle(this.localMotorcycle),alert("Motorcycle submitted successfully!"),this.$router.push({name:"OwnerVehicles"})}catch(e){console.error("Failed to submit motorcycle:",e),alert("Failed to submit: "+e.message),this.isSubmitting=!1}}}};const SC=(0,B.A)(CC,[["render",LC],["__scopeId","data-v-1af7fa9e"]]);var PC=SC;const EC={class:"owner-bookings-page"},DC={class:"page-container"},AC={class:"header-section"},_C={class:"header-actions"},VC=["disabled"],IC={class:"search-wrapper"},FC={key:0,class:"info-state"},xC={key:1,class:"info-state error-state"},MC={key:2},TC={key:0,class:"booking-section"},RC={class:"requests-grid"},BC={class:"card-header"},UC={class:"renter-name"},NC={class:"card-body"},XC={class:"booking-id"},OC={class:"vehicle-name"},qC={class:"booking-dates"},$C={class:"card-footer"},QC={class:"booking-price"},WC=["onClick"],HC={key:1,class:"booking-section"},jC={class:"table-wrapper"},YC={class:"bookings-table"},KC={class:"table-body"},GC={class:"table-data"},JC={class:"table-data"},zC={class:"table-data"},ZC={class:"table-data"},eS={class:"table-data font-bold"},tS={class:"table-data"},aS=["onClick"],iS={key:2,class:"booking-section"},sS={class:"table-wrapper"},oS={class:"bookings-table"},lS={class:"table-body"},nS={class:"table-data font-bold"},rS={class:"table-data"},cS={class:"table-data"},dS={class:"table-data"},uS={class:"table-data"},pS={class:"table-data"},hS=["onClick"],mS={key:0,class:"pagination-container"},vS=["disabled"],kS={class:"page-info"},gS=["disabled"],fS={class:"booking-section financial-section"},yS={class:"financial-header"},bS={class:"year-filter"},LS=["value"],wS={key:0,class:"info-state"},CS={key:1,class:"monthly-breakdown-list"},SS={class:"month-title"},PS={class:"table-wrapper"},ES={class:"bookings-table"},DS={class:"table-body"},AS={class:"table-data font-mono"},_S={class:"table-data"},VS={class:"table-data"},IS={class:"table-data text-right"},FS={class:"table-data text-right text-danger font-bold"},xS={class:"table-row subtotal-row"},MS={class:"table-data text-right font-bold text-success bg-success-light vert-align-middle"},TS={class:"table-data text-right bg-danger-light vert-align-middle"},RS={class:"fee-payment-cell"},BS={class:"font-bold text-danger"},US={key:0,class:"status-paid"},NS={key:1,class:"status-review"},XS=["onClick"],OS={key:0,class:"pagination-container"},qS=["disabled"],$S={class:"page-info"},QS=["disabled"],WS={class:"year-total-summary"},HS={class:"summary-row"},jS={class:"amount"};function YS(e,t,a,l,n,r){const c=(0,s.g2)("PlatformFeePaymentModal"),d=(0,s.g2)("PaymentModal");return(0,s.uX)(),(0,s.CE)("div",EC,[(0,s.Lk)("div",DC,[(0,s.Lk)("div",AC,[t[11]||(t[11]=(0,s.Lk)("h1",{class:"page-title"},"My Bookings & Billing",-1)),(0,s.Lk)("div",_C,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.refreshData&&r.refreshData(...e)),class:"refresh-btn",disabled:"loading"===e.loadingStatus,title:"Refresh Data"},[(0,s.Lk)("i",{class:(0,o.C4)(["bi bi-arrow-clockwise",{"spin-icon":"loading"===e.loadingStatus}])},null,2)],8,VC),(0,s.Lk)("div",IC,[t[10]||(t[10]=(0,s.Lk)("i",{class:"bi bi-search search-icon"},null,-1)),(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>n.searchQuery=e),placeholder:"Search bookings...",class:"search-input"},null,512),[[i.Jo,n.searchQuery]])])])]),"loading"===e.loadingStatus?((0,s.uX)(),(0,s.CE)("div",FC,[...t[12]||(t[12]=[(0,s.Lk)("div",{class:"spinner"},null,-1),(0,s.Lk)("p",null,"Loading data...",-1)])])):"error"===e.loadingStatus?((0,s.uX)(),(0,s.CE)("div",xC,[(0,s.Lk)("p",null,"Failed to load data: "+(0,o.v_)(e.error),1),(0,s.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>r.refreshData&&r.refreshData(...e)),class:"action-button retry-btn"}," Retry ")])):((0,s.uX)(),(0,s.CE)("div",MC,[r.filteredNewRequests.length>0?((0,s.uX)(),(0,s.CE)("section",TC,[t[13]||(t[13]=(0,s.Lk)("h2",{class:"section-title"},"New Requests",-1)),(0,s.Lk)("div",RC,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.filteredNewRequests,e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"request-card"},[(0,s.Lk)("div",BC,[(0,s.Lk)("span",UC,(0,o.v_)(e.renterDetails?.name||"N/A"),1),(0,s.Lk)("span",{class:(0,o.C4)(r.getStatusBadgeClass(e.paymentStatus))},(0,o.v_)(r.formatStatus(e.paymentStatus)),3)]),(0,s.Lk)("div",NC,[(0,s.Lk)("p",XC,"ID: "+(0,o.v_)(e.id),1),(0,s.Lk)("p",OC,(0,o.v_)(e.vehicleDetails?.make)+" "+(0,o.v_)(e.vehicleDetails?.model),1),(0,s.Lk)("p",qC,(0,o.v_)(r.formatDate(e.startDate))+" - "+(0,o.v_)(r.formatDate(e.endDate)),1)]),(0,s.Lk)("div",$C,[(0,s.Lk)("span",QC,(0,o.v_)(r.formatPrice(e.totalCost)),1),(0,s.Lk)("button",{onClick:t=>r.viewBookingDetails(e.id),class:"action-button"}," Review ",8,WC)])]))),128))])])):(0,s.Q3)("",!0),r.filteredUpcomingBookings.length>0?((0,s.uX)(),(0,s.CE)("section",HC,[t[15]||(t[15]=(0,s.Lk)("h2",{class:"section-title"},"Upcoming & Active Trips",-1)),(0,s.Lk)("div",jC,[(0,s.Lk)("table",YC,[t[14]||(t[14]=(0,s.Lk)("thead",{class:"table-header"},[(0,s.Lk)("tr",null,[(0,s.Lk)("th",{class:"table-header-cell"},"Renter"),(0,s.Lk)("th",{class:"table-header-cell"},"Vehicle"),(0,s.Lk)("th",{class:"table-header-cell"},"Dates"),(0,s.Lk)("th",{class:"table-header-cell"},"Status"),(0,s.Lk)("th",{class:"table-header-cell"},"Total Price"),(0,s.Lk)("th",{class:"table-header-cell"},"Actions")])],-1)),(0,s.Lk)("tbody",KC,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.filteredUpcomingBookings,e=>((0,s.uX)(),(0,s.CE)("tr",{key:e.id,class:"table-row"},[(0,s.Lk)("td",GC,(0,o.v_)(e.renterDetails?.name||"N/A"),1),(0,s.Lk)("td",JC,(0,o.v_)(e.vehicleDetails?.make)+" "+(0,o.v_)(e.vehicleDetails?.model),1),(0,s.Lk)("td",zC,(0,o.v_)(r.formatDate(e.startDate))+" - "+(0,o.v_)(r.formatDate(e.endDate)),1),(0,s.Lk)("td",ZC,[(0,s.Lk)("span",{class:(0,o.C4)(r.getStatusBadgeClass(e.paymentStatus))},(0,o.v_)(r.formatStatus(e.paymentStatus)),3)]),(0,s.Lk)("td",eS,(0,o.v_)(r.formatPrice(e.totalCost)),1),(0,s.Lk)("td",tS,[(0,s.Lk)("button",{onClick:t=>r.viewBookingDetails(e.id),class:"action-button view-details-button"}," Details ",8,aS)])]))),128))])])])])):(0,s.Q3)("",!0),r.filteredPastBookings.length>0?((0,s.uX)(),(0,s.CE)("section",iS,[t[17]||(t[17]=(0,s.Lk)("h2",{class:"section-title"},"Past & Completed Trips",-1)),(0,s.Lk)("div",sS,[(0,s.Lk)("table",oS,[t[16]||(t[16]=(0,s.Lk)("thead",{class:"table-header"},[(0,s.Lk)("tr",null,[(0,s.Lk)("th",{class:"table-header-cell"},"#"),(0,s.Lk)("th",{class:"table-header-cell"},"Vehicle"),(0,s.Lk)("th",{class:"table-header-cell"},"Dates"),(0,s.Lk)("th",{class:"table-header-cell"},"Status"),(0,s.Lk)("th",{class:"table-header-cell"},"Total Price"),(0,s.Lk)("th",{class:"table-header-cell"},"Actions")])],-1)),(0,s.Lk)("tbody",lS,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.paginatedPastBookings,(e,t)=>((0,s.uX)(),(0,s.CE)("tr",{key:e.id,class:"table-row"},[(0,s.Lk)("td",nS,(0,o.v_)((n.pastCurrentPage-1)*n.pastItemsPerPage+t+1),1),(0,s.Lk)("td",rS,(0,o.v_)(e.vehicleDetails?.make)+" "+(0,o.v_)(e.vehicleDetails?.model),1),(0,s.Lk)("td",cS,(0,o.v_)(r.formatDate(e.startDate))+" - "+(0,o.v_)(r.formatDate(e.endDate)),1),(0,s.Lk)("td",dS,[(0,s.Lk)("span",{class:(0,o.C4)(r.getStatusBadgeClass(e.paymentStatus))},(0,o.v_)(r.formatStatus(e.paymentStatus)),3)]),(0,s.Lk)("td",uS,(0,o.v_)(r.formatPrice(e.totalCost)),1),(0,s.Lk)("td",pS,[(0,s.Lk)("button",{onClick:t=>r.viewBookingDetails(e.id),class:"action-button view-details-button"}," Details ",8,hS)])]))),128))])])]),r.totalPastPages>1?((0,s.uX)(),(0,s.CE)("div",mS,[(0,s.Lk)("button",{class:"page-btn",disabled:1===n.pastCurrentPage,onClick:t[3]||(t[3]=e=>n.pastCurrentPage--)}," Previous ",8,vS),(0,s.Lk)("span",kS," Page "+(0,o.v_)(n.pastCurrentPage)+" of "+(0,o.v_)(r.totalPastPages),1),(0,s.Lk)("button",{class:"page-btn",disabled:n.pastCurrentPage===r.totalPastPages,onClick:t[4]||(t[4]=e=>n.pastCurrentPage++)}," Next ",8,gS)])):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0),(0,s.Lk)("section",fS,[(0,s.Lk)("div",yS,[t[19]||(t[19]=(0,s.Lk)("div",null,[(0,s.Lk)("h2",{class:"section-title"},"Platform Fees Ledger"),(0,s.Lk)("p",{class:"section-subtitle"}," Breakdown of the 10% service fee deducted from downpayments. ")],-1)),(0,s.Lk)("div",bS,[t[18]||(t[18]=(0,s.Lk)("label",null,"Year:",-1)),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>n.selectedFinancialYear=e),class:"year-select"},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.availableYears,e=>((0,s.uX)(),(0,s.CE)("option",{key:e,value:e},(0,o.v_)(e),9,LS))),128))],512),[[i.u1,n.selectedFinancialYear]])])]),0===r.detailedFinancialsByMonth.length?((0,s.uX)(),(0,s.CE)("div",wS,[(0,s.Lk)("p",null,"No fee records found for "+(0,o.v_)(n.selectedFinancialYear)+".",1)])):((0,s.uX)(),(0,s.CE)("div",CS,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.paginatedFinancialMonths,e=>((0,s.uX)(),(0,s.CE)("div",{key:e.monthName,class:"month-block"},[(0,s.Lk)("h3",SS,(0,o.v_)(e.monthName)+" "+(0,o.v_)(n.selectedFinancialYear),1),(0,s.Lk)("div",PS,[(0,s.Lk)("table",ES,[t[24]||(t[24]=(0,s.Lk)("thead",{class:"table-header"},[(0,s.Lk)("tr",null,[(0,s.Lk)("th",{class:"table-header-cell"},"Ref"),(0,s.Lk)("th",{class:"table-header-cell"},"Vehicle"),(0,s.Lk)("th",{class:"table-header-cell"},"Date"),(0,s.Lk)("th",{class:"table-header-cell text-right"},"Total Cost"),(0,s.Lk)("th",{class:"table-header-cell text-right text-danger"}," Fee (10% of DP) ")])],-1)),(0,s.Lk)("tbody",DS,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.bookings,e=>((0,s.uX)(),(0,s.CE)("tr",{key:e.id,class:"table-row"},[(0,s.Lk)("td",AS," #"+(0,o.v_)(e.id.substring(0,8)),1),(0,s.Lk)("td",_S,(0,o.v_)(e.vehicleDetails?.make)+" "+(0,o.v_)(e.vehicleDetails?.model),1),(0,s.Lk)("td",VS,(0,o.v_)(r.formatDate(e.startDate)),1),(0,s.Lk)("td",IS,(0,o.v_)(r.formatPrice(e.totalCost)),1),(0,s.Lk)("td",FS," -"+(0,o.v_)(r.formatPrice(r.calculateFee(e.totalCost))),1)]))),128)),(0,s.Lk)("tr",xS,[t[23]||(t[23]=(0,s.Lk)("td",{colspan:"3",class:"table-data text-right font-bold text-gray vert-align-middle"}," Monthly Totals: ",-1)),(0,s.Lk)("td",MS,(0,o.v_)(r.formatPrice(e.totalMonthlyGross)),1),(0,s.Lk)("td",TS,[(0,s.Lk)("div",RS,[(0,s.Lk)("span",BS," -"+(0,o.v_)(r.formatPrice(e.totalMonthlyFee)),1),"verified"===e.paymentStatus?((0,s.uX)(),(0,s.CE)("span",US,[...t[20]||(t[20]=[(0,s.Lk)("i",{class:"bi bi-check-circle-fill"},null,-1),(0,s.eW)(" Paid ",-1)])])):"pending"===e.paymentStatus?((0,s.uX)(),(0,s.CE)("span",NS,[...t[21]||(t[21]=[(0,s.Lk)("i",{class:"bi bi-hourglass-split"},null,-1),(0,s.eW)(" Pending ",-1)])])):e.totalMonthlyFee>0?((0,s.uX)(),(0,s.CE)("button",{key:2,onClick:t=>r.openPlatformFeeModal(e),class:"pay-fee-btn"},[...t[22]||(t[22]=[(0,s.eW)(" Pay Fee ",-1),(0,s.Lk)("i",{class:"bi bi-arrow-right"},null,-1)])],8,XS)):(0,s.Q3)("",!0)])])])])])])]))),128)),r.totalFinancialPages>1?((0,s.uX)(),(0,s.CE)("div",OS,[(0,s.Lk)("button",{class:"page-btn",disabled:1===n.financialCurrentPage,onClick:t[6]||(t[6]=e=>n.financialCurrentPage--)}," Previous Month ",8,qS),(0,s.Lk)("span",$S,(0,o.v_)(r.paginatedFinancialMonths[0]?.monthName)+" ("+(0,o.v_)(n.financialCurrentPage)+"/"+(0,o.v_)(r.totalFinancialPages)+") ",1),(0,s.Lk)("button",{class:"page-btn",disabled:n.financialCurrentPage===r.totalFinancialPages,onClick:t[7]||(t[7]=e=>n.financialCurrentPage++)}," Next Month ",8,QS)])):(0,s.Q3)("",!0),(0,s.Lk)("div",WS,[(0,s.Lk)("div",HS,[t[25]||(t[25]=(0,s.Lk)("span",{class:"label"},"Outstanding Platform Fees:",-1)),(0,s.Lk)("span",jS,"-"+(0,o.v_)(r.formatPrice(r.totalYearlyFees)),1)])])]))])]))]),(0,s.bF)(c,{"is-open":n.showFeeModal,"month-name":n.feeModalData.month,year:n.feeModalData.year,amount:n.feeModalData.amount,onClose:t[8]||(t[8]=e=>n.showFeeModal=!1),onSubmitPayment:r.handleFeePayment},null,8,["is-open","month-name","year","amount","onSubmitPayment"]),n.isPaymentModalOpen?((0,s.uX)(),(0,s.Wv)(d,{key:0,"is-open":n.isPaymentModalOpen,booking:n.feePaymentData,"payment-type":"platform_fee","amount-due":n.feeAmountDue,"owner-details":n.adminDetails,onClose:t[9]||(t[9]=e=>n.isPaymentModalOpen=!1),onPaymentConfirmed:r.handleFeePaymentSubmitted},null,8,["is-open","booking","amount-due","owner-details","onPaymentConfirmed"])):(0,s.Q3)("",!0)])}const KS={class:"modal-content"},GS={class:"modal-header"},JS={class:"modal-body"},zS={class:"summary-box"},ZS={class:"row"},eP={class:"row total-row"},tP={class:"amount"},aP={class:"payment-details"},iP={class:"qr-container"},sP=["src"],oP={class:"input-group"},lP={class:"modal-footer"},nP=["disabled"],rP={key:0},cP={key:1};function dP(e,t,a,l,n,r){return a.isOpen?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"modal-overlay",onClick:t[4]||(t[4]=(0,i.D$)((...e)=>r.close&&r.close(...e),["self"]))},[(0,s.Lk)("div",KS,[(0,s.Lk)("div",GS,[t[5]||(t[5]=(0,s.Lk)("h3",null,[(0,s.Lk)("i",{class:"bi bi-wallet2"}),(0,s.eW)(" Pay Platform Service Fee")],-1)),(0,s.Lk)("button",{class:"close-btn",onClick:t[0]||(t[0]=(...e)=>r.close&&r.close(...e))},"×")]),(0,s.Lk)("div",JS,[(0,s.Lk)("div",zS,[(0,s.Lk)("div",ZS,[t[6]||(t[6]=(0,s.Lk)("span",null,"Period:",-1)),(0,s.Lk)("strong",null,(0,o.v_)(a.monthName)+" "+(0,o.v_)(a.year),1)]),(0,s.Lk)("div",eP,[t[7]||(t[7]=(0,s.Lk)("span",null,"Total Fee Due:",-1)),(0,s.Lk)("span",tP,"₱"+(0,o.v_)(a.amount.toLocaleString("en-US",{minimumFractionDigits:2})),1)]),t[8]||(t[8]=(0,s.Lk)("p",{class:"note"},"This covers the 10% service fee for confirmed bookings.",-1))]),(0,s.Lk)("div",aP,[t[11]||(t[11]=(0,s.Lk)("h4",null,"Scan to Pay (Admin)",-1)),(0,s.Lk)("div",iP,[(0,s.Lk)("img",{src:n.adminQrImage,alt:"Admin QR Code",class:"qr-image"},null,8,sP),t[9]||(t[9]=(0,s.Lk)("p",{class:"admin-name"},"RentCycle Admin",-1)),t[10]||(t[10]=(0,s.Lk)("p",{class:"admin-number"},"0912-345-6789",-1))])]),(0,s.Lk)("div",oP,[t[12]||(t[12]=(0,s.Lk)("label",null,"Payment Reference Number",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>n.referenceNumber=e),placeholder:"e.g. 10023482912",class:"form-input"},null,512),[[i.Jo,n.referenceNumber]]),t[13]||(t[13]=(0,s.Lk)("small",null,"Please enter the reference number from your receipt.",-1))])]),(0,s.Lk)("div",lP,[(0,s.Lk)("button",{class:"button secondary",onClick:t[2]||(t[2]=(...e)=>r.close&&r.close(...e))},"Cancel"),(0,s.Lk)("button",{class:"button primary",disabled:!n.referenceNumber||n.isSubmitting,onClick:t[3]||(t[3]=(...e)=>r.confirmPayment&&r.confirmPayment(...e))},[n.isSubmitting?((0,s.uX)(),(0,s.CE)("span",rP,"Submitting...")):((0,s.uX)(),(0,s.CE)("span",cP,"Submit Payment"))],8,nP)])])])):(0,s.Q3)("",!0)}var uP=a.p+"img/logo-header.24a6738d.jpg",pP={name:"PlatformFeePaymentModal",props:{isOpen:Boolean,monthName:String,year:[String,Number],amount:Number},emits:["close","submit-payment"],data(){return{referenceNumber:"",isSubmitting:!1,adminQrImage:uP}},methods:{close(){this.referenceNumber="",this.$emit("close")},async confirmPayment(){this.referenceNumber&&(this.isSubmitting=!0,this.$emit("submit-payment",{referenceNumber:this.referenceNumber,month:this.monthName,year:this.year,amount:this.amount}),this.isSubmitting=!1,this.close())}}};const hP=(0,B.A)(pP,[["render",dP],["__scopeId","data-v-7350ede0"]]);var mP=hP,vP={name:"OwnerBillingView",components:{PaymentModal:Uh,PlatformFeePaymentModal:mP},data(){return{searchQuery:"",pastCurrentPage:1,pastItemsPerPage:5,selectedFinancialYear:(new Date).getFullYear(),financialCurrentPage:1,financialItemsPerPage:1,showFeeModal:!1,feeModalData:{month:"",year:null,amount:0},isPaymentModalOpen:!1,feeAmountDue:0,feePaymentData:null,adminDetails:{name:"RentCycle Platform",email:"admin@rentcycle.com",paymentMethods:{qrCode:uP}}}},computed:{...(0,x.aH)("owner",{allBookings:e=>e.ownerBookings,loadingStatus:e=>e.ownerBookingsStatus,error:e=>e.ownerBookingsError}),...(0,x.L8)(["myPlatformFees"]),filteredNewRequests(){const e=this.allBookings.filter(e=>"pending_owner_approval"===e.paymentStatus).sort((e,t)=>this.getJsDate(t.createdAt)-this.getJsDate(e.createdAt));if(!this.searchQuery)return e;const t=this.searchQuery.toLowerCase();return e.filter(e=>this.matchesSearch(e,t))},filteredUpcomingBookings(){const e=["confirmed","downpayment_received","full_payment_received","pending_payment","downpayment_pending_verification","downpayment_verified"],t=this.allBookings.filter(t=>e.includes(t.paymentStatus)&&this.getJsDate(t.endDate)>=new Date).sort((e,t)=>this.getJsDate(e.startDate)-this.getJsDate(t.startDate));if(!this.searchQuery)return t;const a=this.searchQuery.toLowerCase();return t.filter(e=>this.matchesSearch(e,a))},filteredPastBookings(){const e=["completed","returned","cancelled","declined_by_owner"],t=this.allBookings.filter(t=>e.includes(t.paymentStatus)||this.getJsDate(t.endDate)<new Date).sort((e,t)=>this.getJsDate(t.endDate)-this.getJsDate(e.endDate));if(!this.searchQuery)return t;const a=this.searchQuery.toLowerCase();return t.filter(e=>this.matchesSearch(e,a))},totalPastPages(){return Math.ceil(this.filteredPastBookings.length/this.pastItemsPerPage)},paginatedPastBookings(){const e=(this.pastCurrentPage-1)*this.pastItemsPerPage,t=e+this.pastItemsPerPage;return this.filteredPastBookings.slice(e,t)},availableYears(){const e=new Set;return this.allBookings.forEach(t=>{const a=this.getJsDate(t.startDate||t.createdAt);a&&e.add(a.getFullYear())}),e.add((new Date).getFullYear()),Array.from(e).sort((e,t)=>t-e)},detailedFinancialsByMonth(){const e=["downpayment_verified","confirmed","active","completed","returned","cancelled_by_renter","cancelled","pending_verification","pending_payment","pending"],t=this.allBookings.filter(t=>{const a=t.startDate||t.createdAt;let i=null;if(a&&(i="object"===typeof a&&a.seconds?Z.c9.fromSeconds(a.seconds):Z.c9.fromISO(a)),!i||!i.isValid)return!1;const s=String(i.year)===String(this.selectedFinancialYear),o=t.paymentStatus?t.paymentStatus.toLowerCase().trim():"",l=e.includes(o);return s&&l}),a={};t.forEach(e=>{const t=e.startDate||e.createdAt;let i=null;if(i="object"===typeof t&&t.seconds?Z.c9.fromSeconds(t.seconds):Z.c9.fromISO(t),i&&i.isValid){const t=i.month-1;a[t]||(a[t]=[]),a[t].push(e)}});const i=["January","February","March","April","May","June","July","August","September","October","November","December"],s=Object.keys(a).map(e=>{const t=a[e],s=i[e],o=t.reduce((e,t)=>{const a=Number(t.totalCost)||0,i=.2*a*.1;return e.gross+=a,e.fee+=i,e},{gross:0,fee:0}),l=this.myPlatformFees.find(e=>e.month===s&&String(e.year)===String(this.selectedFinancialYear)),n=l?l.amount:o.fee,r=l?l.status:"unpaid";return{monthName:s,monthIndex:parseInt(e),bookings:t.sort((e,t)=>{const a=this.getJsDate(e.startDate||e.createdAt),i=this.getJsDate(t.startDate||t.createdAt);return a-i}),totalMonthlyFee:n,totalMonthlyGross:o.gross,paymentStatus:r}});return s.sort((e,t)=>e.monthIndex-t.monthIndex)},totalFinancialPages(){return Math.ceil(this.detailedFinancialsByMonth.length/this.financialItemsPerPage)},paginatedFinancialMonths(){const e=(this.financialCurrentPage-1)*this.financialItemsPerPage,t=e+this.financialItemsPerPage;return this.detailedFinancialsByMonth.slice(e,t)},totalYearlyFees(){return this.detailedFinancialsByMonth.reduce((e,t)=>"verified"===t.paymentStatus||"pending"===t.paymentStatus?e:e+t.totalMonthlyFee,0)}},watch:{searchQuery(){this.pastCurrentPage=1},$route(e,t){"OwnerBilling"===e.name&&this.refreshData()},selectedFinancialYear(){this.financialCurrentPage=1}},async created(){await this.refreshData(),this.availableYears.length>0&&(this.selectedFinancialYear=this.availableYears[0])},methods:{...(0,x.i0)(["fetchOwnerPlatformFees","submitPlatformFee"]),...(0,x.i0)("owner",["fetchOwnerBookings"]),async refreshData(){await Promise.all([this.fetchOwnerBookings(),this.fetchOwnerPlatformFees()])},openPlatformFeeModal(e){this.feeModalData={month:e.monthName,year:this.selectedFinancialYear,amount:e.totalMonthlyFee},this.showFeeModal=!0},async handleFeePayment(e){try{await this.$store.dispatch("submitPlatformFee",{month:e.month,year:e.year,amount:e.amount,referenceNumber:e.referenceNumber}),alert("Payment submitted successfully! The admin will review it shortly."),this.showFeeModal=!1,await this.refreshData()}catch(t){console.error("Fee payment error:",t),alert("Failed to submit payment. Please try again.")}},getJsDate(e){if(!e)return null;if("object"===typeof e&&e.seconds)return new Date(1e3*e.seconds);if("object"===typeof e&&e._seconds)return new Date(1e3*e._seconds);const t=new Date(e);return isNaN(t.getTime())?null:t},matchesSearch(e,t){const a=(e.renterDetails?.username||"").toLowerCase(),i=(e.vehicleDetails?.make||"").toLowerCase(),s=(e.vehicleDetails?.model||"").toLowerCase(),o=(e.id||"").toLowerCase();return a.includes(t)||i.includes(t)||s.includes(t)||o.includes(t)},viewBookingDetails(e){this.$router.push({name:"BookingDetails",params:{bookingId:e}})},formatDate(e){const t=this.getJsDate(e);return t?Z.c9.fromJSDate(t).toLocaleString(Z.c9.DATE_SHORT):"N/A"},formatPrice(e){return e?`₱${Number(e).toFixed(2)}`:"₱0.00"},formatStatus(e){return e?e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()):"N/A"},getStatusBadgeClass(e){switch(e){case"pending_owner_approval":return"status-badge status-new";case"confirmed":case"downpayment_received":case"full_payment_received":case"downpayment_verified":return"status-badge status-confirmed";case"pending_payment":case"downpayment_pending_verification":return"status-badge status-pending";case"completed":case"returned":return"status-badge status-completed";case"cancelled":case"declined_by_owner":return"status-badge status-cancelled";default:return"status-badge status-default"}},calculateFee(e){if(!e)return 0;const t=.2*e;return.1*t},handleFeePaymentSubmitted(){this.isPaymentModalOpen=!1,alert("Payment submitted.")}}};const kP=(0,B.A)(vP,[["render",YS],["__scopeId","data-v-24e47725"]]);var gP=kP;const fP={class:"container"},yP={key:0,class:"loading-message"},bP={key:1,class:"error-message"},LP={key:2,class:"booking-details-card"},wP={class:"card-header"},CP={class:"info-grid"},SP={class:"info-item"},PP={key:0,class:"value"},EP={key:1,class:"value"},DP={class:"info-item"},AP={class:"value"},_P={class:"info-item"},VP={class:"value"},IP={class:"price-summary"},FP={class:"price-row"},xP={class:"price-value"},MP={class:"price-row downpayment"},TP={class:"price-value highlight"},RP={class:"price-row remaining-balance"},BP={class:"price-value"},UP={key:0,class:"qr-info-section"},NP={class:"qr-content"},XP=["src"];function OP(e,t,a,l,n,r){const c=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.Wv)(i.eB,{name:"fade-up",appear:""},{default:(0,s.k6)(()=>[(0,s.Lk)("div",fP,[t[15]||(t[15]=(0,s.Lk)("h1",null,"Booking Summary",-1)),t[16]||(t[16]=(0,s.Lk)("p",{class:"subtitle"},"Your booking request has been submitted successfully!",-1)),n.loading?((0,s.uX)(),(0,s.CE)("div",yP,[...t[1]||(t[1]=[(0,s.Lk)("p",null,"Loading booking details...",-1)])])):n.errorMessage?((0,s.uX)(),(0,s.CE)("div",bP,[t[2]||(t[2]=(0,s.Lk)("i",{class:"bi bi-exclamation-triangle-fill icon"},null,-1)),(0,s.Lk)("p",null,(0,o.v_)(n.errorMessage),1),(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.fetchBookingDetails&&r.fetchBookingDetails(...e)),class:"button primary"},"Retry")])):n.booking?((0,s.uX)(),(0,s.CE)("div",LP,[(0,s.Lk)("div",wP,[(0,s.Lk)("h4",null,"Booking #"+(0,o.v_)(a.bookingId),1),(0,s.Lk)("span",{class:(0,o.C4)(["status-badge",r.getStatusClass(n.booking.paymentStatus)])},(0,o.v_)(r.formatStatus(n.booking.paymentStatus)),3)]),(0,s.Lk)("div",CP,[(0,s.Lk)("div",SP,[t[3]||(t[3]=(0,s.Lk)("span",{class:"label"},"Vehicle",-1)),n.booking.vehicle?((0,s.uX)(),(0,s.CE)("span",PP,(0,o.v_)(n.booking.vehicle.make)+" "+(0,o.v_)(n.booking.vehicle.model)+" ("+(0,o.v_)(n.booking.vehicle.year)+") ",1)):((0,s.uX)(),(0,s.CE)("span",EP,"Vehicle details loading..."))]),(0,s.Lk)("div",DP,[t[4]||(t[4]=(0,s.Lk)("span",{class:"label"},"Pickup Date & Time",-1)),(0,s.Lk)("span",AP,(0,o.v_)(r.formatDateTime(n.booking.startDate)),1)]),(0,s.Lk)("div",_P,[t[5]||(t[5]=(0,s.Lk)("span",{class:"label"},"Return Date & Time",-1)),(0,s.Lk)("span",VP,(0,o.v_)(r.formatDateTime(n.booking.endDate)),1)])]),t[13]||(t[13]=(0,s.Lk)("hr",{class:"divider"},null,-1)),(0,s.Lk)("div",IP,[t[9]||(t[9]=(0,s.Lk)("h5",null,"Payment Overview",-1)),(0,s.Lk)("div",FP,[t[6]||(t[6]=(0,s.Lk)("span",null,"Total Trip Price",-1)),(0,s.Lk)("span",xP,"₱"+(0,o.v_)(n.booking.totalCost?n.booking.totalCost.toLocaleString("en-US",{minimumFractionDigits:2}):"0.00"),1)]),(0,s.Lk)("div",MP,[t[7]||(t[7]=(0,s.Lk)("span",null,"Amount Due for Downpayment (20%)",-1)),(0,s.Lk)("span",TP,"₱"+(0,o.v_)(n.booking.downPayment?n.booking.downPayment.toLocaleString("en-US",{minimumFractionDigits:2}):"0.00"),1)]),(0,s.Lk)("div",RP,[t[8]||(t[8]=(0,s.Lk)("span",null,"Remaining Balance (due at pickup)",-1)),(0,s.Lk)("span",BP,"₱"+(0,o.v_)(n.booking.remainingBalance?n.booking.remainingBalance.toLocaleString("en-US",{minimumFractionDigits:2}):"0.00"),1)])]),n.booking.paymentDetails&&"qr_manual"===n.booking.paymentDetails.method&&n.booking.paymentDetails.qrCodeInfo?((0,s.uX)(),(0,s.CE)("div",UP,[t[11]||(t[11]=(0,s.Lk)("hr",{class:"divider"},null,-1)),t[12]||(t[12]=(0,s.Lk)("h5",null,"QR Payment Details",-1)),(0,s.Lk)("div",NP,[(0,s.Lk)("img",{src:n.booking.paymentDetails.qrCodeInfo.qrImageUrl,alt:"QR Code",class:"qr-image"},null,8,XP),(0,s.Lk)("p",null,[t[10]||(t[10]=(0,s.Lk)("strong",null,"Instructions:",-1)),(0,s.eW)(" "+(0,o.v_)(n.booking.paymentDetails.qrCodeInfo.instructions),1)])])])):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0),(0,s.bF)(c,{to:"/dashboard/my-bookings",class:"button secondary view-bookings-btn"},{default:(0,s.k6)(()=>[...t[14]||(t[14]=[(0,s.Lk)("i",{class:"bi bi-arrow-left"},null,-1),(0,s.eW)(" View My Bookings ",-1)])]),_:1})])]),_:1})}var qP={name:"BookingSummaryView",props:["bookingId"],data(){return{loading:!0,errorMessage:null,booking:null}},created(){this.bookingId?this.fetchBookingDetails():(this.errorMessage="No booking ID provided.",this.loading=!1)},methods:{...(0,x.i0)(["getBookingById"]),async fetchBookingDetails(){this.loading=!0,this.errorMessage=null;try{const e=await this.getBookingById(this.bookingId);e&&e.vehicleDetails&&(e.vehicle=e.vehicleDetails),this.booking=e}catch(e){console.error("Error fetching booking summary:",e),this.errorMessage=e.response?.data?.message||"Failed to load booking summary."}finally{this.loading=!1}},formatDateTime(e){if(!e)return"N/A";const t=Z.c9.fromISO(e);return t.isValid?t.toLocaleString(Z.c9.DATETIME_MED):"Invalid Date"},formatStatus(e){return e?e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()):"Unknown"},getStatusClass(e){return e?["confirmed","completed","returned","downpayment_verified"].includes(e)?"status-success":["pending_owner_approval","pending_payment","downpayment_pending_verification"].includes(e)?"status-warning":e?.includes("cancelled")||e?.includes("declined")?"status-danger":"status-default":"status-default"}}};const $P=(0,B.A)(qP,[["render",OP],["__scopeId","data-v-6773a052"]]);var QP=$P;const WP={class:"owner-bookings-page"},HP={class:"page-container"},jP={key:0,class:"info-state"},YP={key:1,class:"info-state error-state"},KP={key:2,class:"info-state"},GP={key:3,class:"table-wrapper"},JP={class:"bookings-table"},zP={class:"table-body"},ZP={class:"table-data"},eE={class:"table-data"},tE={class:"table-data"},aE={class:"table-data"},iE={class:"table-data"},sE={class:"table-data action-cell"},oE=["onClick"];function lE(e,t,a,i,l,n){return(0,s.uX)(),(0,s.CE)("div",WP,[(0,s.Lk)("div",HP,[t[4]||(t[4]=(0,s.Lk)("h1",{class:"page-title"},"Bookings For My Vehicles",-1)),"loading"===e.loadingStatus?((0,s.uX)(),(0,s.CE)("div",jP,[...t[0]||(t[0]=[(0,s.Lk)("svg",{class:"spinner",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[(0,s.Lk)("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),(0,s.Lk)("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),(0,s.Lk)("p",null,"Loading bookings...",-1)])])):"error"===e.loadingStatus?((0,s.uX)(),(0,s.CE)("div",YP,[(0,s.Lk)("p",null,"Failed to load bookings: "+(0,o.v_)(e.error),1),t[1]||(t[1]=(0,s.Lk)("p",null,"Please try again later.",-1))])):0===e.bookings.length?((0,s.uX)(),(0,s.CE)("div",KP,[...t[2]||(t[2]=[(0,s.Lk)("p",null,"You currently have no bookings for your vehicles.",-1)])])):((0,s.uX)(),(0,s.CE)("div",GP,[(0,s.Lk)("table",JP,[t[3]||(t[3]=(0,s.Lk)("thead",{class:"table-header"},[(0,s.Lk)("tr",null,[(0,s.Lk)("th",{scope:"col",class:"table-header-cell rounded-tl"},"Renter"),(0,s.Lk)("th",{scope:"col",class:"table-header-cell"},"Vehicle"),(0,s.Lk)("th",{scope:"col",class:"table-header-cell"},"Dates"),(0,s.Lk)("th",{scope:"col",class:"table-header-cell"},"Status"),(0,s.Lk)("th",{scope:"col",class:"table-header-cell"},"Total Price"),(0,s.Lk)("th",{scope:"col",class:"table-header-cell rounded-tr"},"Actions")])],-1)),(0,s.Lk)("tbody",zP,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.bookings,e=>((0,s.uX)(),(0,s.CE)("tr",{key:e.id,class:"table-row"},[(0,s.Lk)("td",ZP,(0,o.v_)(e.renterDetails?.username||"N/A"),1),(0,s.Lk)("td",eE,(0,o.v_)(e.vehicleDetails?.make)+" "+(0,o.v_)(e.vehicleDetails?.model),1),(0,s.Lk)("td",tE,(0,o.v_)(n.formatDate(e.startDate))+" - "+(0,o.v_)(n.formatDate(e.endDate)),1),(0,s.Lk)("td",aE,[(0,s.Lk)("span",{class:(0,o.C4)(n.getStatusBadgeClass(e.paymentStatus))},(0,o.v_)(n.formatStatus(e.paymentStatus)),3)]),(0,s.Lk)("td",iE,(0,o.v_)(n.formatPrice(e.totalCost)),1),(0,s.Lk)("td",sE,[(0,s.Lk)("button",{onClick:t=>n.viewBookingDetails(e.id),class:"action-button view-details-button"}," View Details ",8,oE)])]))),128))])])]))])])}var nE={name:"OwnerBookings",computed:{...(0,x.aH)("owner",{bookings:e=>e.ownerBookings,loadingStatus:e=>e.ownerBookingsStatus,error:e=>e.ownerBookingsError})},async created(){console.log("[OwnerBookingsView] Component created, dispatching fetchOwnerBookings action."),await this.fetchOwnerBookings(),console.log("[OwnerBookingsView] fetchOwnerBookings action completed.")},methods:{...(0,x.i0)("owner",["fetchOwnerBookings"]),viewBookingDetails(e){this.$router.push({name:"BookingDetails",params:{bookingId:e}})},formatDate(e){if(!e)return"N/A";const t=Z.c9.fromISO(e);return t.toLocaleString(Z.c9.DATE_SHORT)},formatPrice(e){return e?`₱${e.toFixed(2)}`:"N/A"},formatStatus(e){return e?e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()):"N/A"},getStatusBadgeClass(e){switch(e){case"downpayment_received":case"full_payment_received":return"status-badge status-confirmed";case"pending_cash_downpayment":case"awaiting_qr_downpayment":case"qr_downpayment_confirmed_by_user":return"status-badge status-pending";case"cancelled":case"cancelled_no_downpayment":case"cancelled_by_user_after_grace_period":case"cancelled_within_grace_period":return"status-badge status-cancelled";case"refunded":return"status-badge status-refunded";default:return"status-badge status-default"}}}};const rE=(0,B.A)(nE,[["render",lE],["__scopeId","data-v-372faead"]]);var cE=rE;const dE={class:"admin-page-container"},uE={class:"page-header"},pE={class:"control-bar"},hE={class:"tabs-wrapper"},mE=["onClick"],vE={class:"search-wrapper"},kE={class:"content-area"},gE={key:0,class:"state-container"},fE={key:1,class:"state-container error"},yE={key:2,class:"state-container empty"},bE={key:3},LE={class:"desktop-view table-responsive"},wE={class:"modern-table"},CE={class:"vehicle-info-cell"},SE=["src"],PE={class:"vehicle-text"},EE={class:"model"},DE={class:"plate"},AE={class:"owner-info-cell"},_E={class:"owner-name"},VE={class:"owner-email"},IE={class:"price-cell"},FE={class:"actions-cell"},xE=["onClick"],ME=["onClick"],TE=["onClick"],RE={class:"mobile-view grid-layout"},BE={class:"card-image-wrapper"},UE=["src"],NE={class:"card-body"},XE={class:"card-title"},OE={class:"card-plate"},qE={class:"card-details"},$E={class:"detail-item"},QE={class:"detail-item"},WE={class:"detail-item price"},HE={class:"card-actions"},jE=["onClick"],YE={class:"icon-group"},KE=["onClick"],GE=["onClick"],JE={key:0,class:"pagination-controls"},zE=["disabled"],ZE={class:"page-info"},eD=["disabled"];function tD(e,t,a,l,n,r){return(0,s.uX)(),(0,s.CE)("div",dE,[(0,s.Lk)("header",uE,[t[6]||(t[6]=(0,s.Lk)("div",{class:"header-content"},[(0,s.Lk)("h2",{class:"section-title"},"Manage Vehicles"),(0,s.Lk)("p",{class:"section-subtitle"},"View, edit, or remove vehicle listings.")],-1)),(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.goToAddVehicle&&r.goToAddVehicle(...e)),class:"button primary-btn header-action"},[...t[5]||(t[5]=[(0,s.Lk)("i",{class:"bi bi-plus-lg"},null,-1),(0,s.eW)(" Add Vehicle ",-1)])])]),(0,s.Lk)("div",pE,[(0,s.Lk)("div",hE,[((0,s.uX)(),(0,s.CE)(s.FK,null,(0,s.pI)(["all","available","on trip","pending","completed"],e=>(0,s.Lk)("button",{key:e,class:(0,o.C4)(["filter-tab",{active:n.activeTab===e}]),onClick:t=>n.activeTab=e},(0,o.v_)(e.charAt(0).toUpperCase()+e.slice(1)),11,mE)),64))]),(0,s.Lk)("div",vE,[t[7]||(t[7]=(0,s.Lk)("i",{class:"bi bi-search search-icon"},null,-1)),(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>n.searchQuery=e),placeholder:"Search vehicle, owner name, or email...",class:"search-input"},null,512),[[i.Jo,n.searchQuery]])])]),(0,s.Lk)("div",kE,[n.loading?((0,s.uX)(),(0,s.CE)("div",gE,[...t[8]||(t[8]=[(0,s.Lk)("div",{class:"spinner"},null,-1),(0,s.Lk)("p",null,"Loading fleet data...",-1)])])):n.error?((0,s.uX)(),(0,s.CE)("div",fE,[t[9]||(t[9]=(0,s.Lk)("i",{class:"bi bi-exclamation-circle"},null,-1)),(0,s.Lk)("p",null,(0,o.v_)(n.error),1),(0,s.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>r.fetchData&&r.fetchData(...e)),class:"button primary-btn"},"Retry")])):0===r.paginatedVehicles.length?((0,s.uX)(),(0,s.CE)("div",yE,[...t[10]||(t[10]=[(0,s.Lk)("i",{class:"bi bi-car-front"},null,-1),(0,s.Lk)("p",null,"No vehicles found.",-1)])])):((0,s.uX)(),(0,s.CE)("div",bE,[(0,s.Lk)("div",LE,[(0,s.Lk)("table",wE,[t[14]||(t[14]=(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"Vehicle Info"),(0,s.Lk)("th",null,"Owner"),(0,s.Lk)("th",null,"Price / Day"),(0,s.Lk)("th",null,"Status"),(0,s.Lk)("th",{class:"text-right"},"Actions")])],-1)),(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.paginatedVehicles,e=>((0,s.uX)(),(0,s.CE)("tr",{key:e.id},[(0,s.Lk)("td",null,[(0,s.Lk)("div",CE,[(0,s.Lk)("img",{src:e.exteriorPhotos[0],alt:"Car",class:"vehicle-thumb"},null,8,SE),(0,s.Lk)("div",PE,[(0,s.Lk)("span",EE,(0,o.v_)(e.year)+" "+(0,o.v_)(e.make)+" "+(0,o.v_)(e.model),1),(0,s.Lk)("span",DE,(0,o.v_)(e.licensePlate),1)])])]),(0,s.Lk)("td",null,[(0,s.Lk)("div",AE,[(0,s.Lk)("span",_E,(0,o.v_)(e.resolvedOwnerName),1),(0,s.Lk)("span",VE,(0,o.v_)(e.resolvedOwnerEmail),1)])]),(0,s.Lk)("td",IE," ₱"+(0,o.v_)(e.rentalPricePerDay.toLocaleString()),1),(0,s.Lk)("td",null,[(0,s.Lk)("span",{class:(0,o.C4)(["status-badge",r.getStatusClass(e.dynamicStatus)])},(0,o.v_)(e.dynamicStatus),3)]),(0,s.Lk)("td",null,[(0,s.Lk)("div",FE,[(0,s.Lk)("button",{onClick:t=>r.viewVehicle(e.id),class:"action-btn view",title:"View"},[...t[11]||(t[11]=[(0,s.Lk)("i",{class:"bi bi-eye"},null,-1)])],8,xE),(0,s.Lk)("button",{onClick:t=>r.editVehicle(e.id),class:"action-btn edit",title:"Edit"},[...t[12]||(t[12]=[(0,s.Lk)("i",{class:"bi bi-pencil"},null,-1)])],8,ME),(0,s.Lk)("button",{onClick:t=>r.handleDeleteVehicle(e.id),class:"action-btn delete",title:"Delete"},[...t[13]||(t[13]=[(0,s.Lk)("i",{class:"bi bi-trash3"},null,-1)])],8,TE)])])]))),128))])])]),(0,s.Lk)("div",RE,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.paginatedVehicles,e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"vehicle-card"},[(0,s.Lk)("div",BE,[(0,s.Lk)("img",{src:e.exteriorPhotos[0],alt:"Car",class:"card-image"},null,8,UE),(0,s.Lk)("span",{class:(0,o.C4)(["status-badge card-badge",r.getStatusClass(e.dynamicStatus)])},(0,o.v_)(e.dynamicStatus),3)]),(0,s.Lk)("div",NE,[(0,s.Lk)("h3",XE,(0,o.v_)(e.year)+" "+(0,o.v_)(e.make)+" "+(0,o.v_)(e.model),1),(0,s.Lk)("p",OE,(0,o.v_)(e.licensePlate),1),(0,s.Lk)("div",qE,[(0,s.Lk)("div",$E,[t[15]||(t[15]=(0,s.Lk)("i",{class:"bi bi-person"},null,-1)),(0,s.Lk)("span",null,(0,o.v_)(e.resolvedOwnerName),1)]),(0,s.Lk)("div",QE,[t[16]||(t[16]=(0,s.Lk)("i",{class:"bi bi-envelope"},null,-1)),(0,s.Lk)("span",null,(0,o.v_)(e.resolvedOwnerEmail),1)]),(0,s.Lk)("div",WE,[t[17]||(t[17]=(0,s.Lk)("i",{class:"bi bi-tag"},null,-1)),(0,s.Lk)("span",null,"₱"+(0,o.v_)(e.rentalPricePerDay.toLocaleString())+"/day",1)])])]),(0,s.Lk)("div",HE,[(0,s.Lk)("button",{onClick:t=>r.viewVehicle(e.id),class:"btn-card secondary"}," Details ",8,jE),(0,s.Lk)("div",YE,[(0,s.Lk)("button",{onClick:t=>r.editVehicle(e.id),class:"btn-icon edit"},[...t[18]||(t[18]=[(0,s.Lk)("i",{class:"bi bi-pencil"},null,-1)])],8,KE),(0,s.Lk)("button",{onClick:t=>r.handleDeleteVehicle(e.id),class:"btn-icon delete"},[...t[19]||(t[19]=[(0,s.Lk)("i",{class:"bi bi-trash3"},null,-1)])],8,GE)])])]))),128))]),r.totalPages>1?((0,s.uX)(),(0,s.CE)("div",JE,[(0,s.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>r.prevPage&&r.prevPage(...e)),disabled:1===n.currentPage,class:"pagination-btn"},[...t[20]||(t[20]=[(0,s.Lk)("i",{class:"bi bi-chevron-left"},null,-1),(0,s.eW)(" Prev ",-1)])],8,zE),(0,s.Lk)("span",ZE,"Page "+(0,o.v_)(n.currentPage)+" of "+(0,o.v_)(r.totalPages),1),(0,s.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>r.nextPage&&r.nextPage(...e)),disabled:n.currentPage===r.totalPages,class:"pagination-btn"},[...t[21]||(t[21]=[(0,s.eW)(" Next ",-1),(0,s.Lk)("i",{class:"bi bi-chevron-right"},null,-1)])],8,eD)])):(0,s.Q3)("",!0)]))])])}var aD={name:"AdminVehiclesView",data(){return{loading:!0,error:null,searchQuery:"",currentPage:1,itemsPerPage:10,activeTab:"all"}},computed:{...(0,x.L8)(["allVehicles","allBookings","allUsers"]),filteredAndSortedVehicles(){const e=Z.c9.now().startOf("day");let t=this.allVehicles.map(t=>{let a="available";const i=this.allBookings.filter(e=>e.vehicleId===t.id),s=i.some(e=>"pending_owner_approval"===e.paymentStatus),o=i.find(t=>{if("confirmed"!==t.paymentStatus)return!1;const a=Z.c9.fromISO(t.startDate).startOf("day"),i=Z.c9.fromISO(t.endDate).startOf("day");return e>=a&&e<=i});if(s)a="pending";else if(o)a="on trip";else{const t=i.filter(t=>["completed","returned"].includes(t.paymentStatus)&&Z.c9.fromISO(t.endDate).startOf("day")<e).sort((e,t)=>Z.c9.fromISO(t.endDate)-Z.c9.fromISO(e.endDate));t.length>0&&(a="completed")}let l="Unknown Owner",n="No Email";if(this.allUsers&&this.allUsers.length>0){const e=this.allUsers.find(e=>e.uid===t.ownerId||e.id===t.ownerId);e&&(l=e.name||e.fullName||"No Name Set",n=e.email||"No Email")}return{...t,dynamicStatus:a,resolvedOwnerName:l,resolvedOwnerEmail:n}});if("all"!==this.activeTab&&(t=t.filter(e=>e.dynamicStatus===this.activeTab)),this.searchQuery){const e=this.searchQuery.toLowerCase();t=t.filter(t=>t.make?.toLowerCase().includes(e)||t.model?.toLowerCase().includes(e)||t.resolvedOwnerEmail?.toLowerCase().includes(e)||t.resolvedOwnerName?.toLowerCase().includes(e))}return t.sort((e,t)=>new Date(1e3*t.createdAt?.seconds)-new Date(1e3*e.createdAt?.seconds))},totalPages(){return Math.ceil(this.filteredAndSortedVehicles.length/this.itemsPerPage)},paginatedVehicles(){const e=(this.currentPage-1)*this.itemsPerPage,t=e+this.itemsPerPage;return this.filteredAndSortedVehicles.slice(e,t)}},methods:{...(0,x.i0)(["fetchAllVehicles","fetchAllBookings","fetchAllUsers","deleteVehicle"]),async fetchData(){this.loading=!0,this.error=null;try{await Promise.all([this.fetchAllVehicles(),this.fetchAllBookings(),this.fetchAllUsers()])}catch(e){console.error("Error fetching admin vehicle data:",e),this.error="An error occurred while fetching data."}finally{this.loading=!1}},goToAddVehicle(){this.$router.push({name:"AddVehicle"})},viewVehicle(e){this.$router.push({name:"VehicleDetail",params:{id:e}})},editVehicle(e){this.$router.push({name:"EditVehicle",params:{vehicleId:e}})},async handleDeleteVehicle(e){const t=this.filteredAndSortedVehicles.find(t=>t.id===e);if(t){if("on trip"===t.dynamicStatus)return void alert('ACTION BLOCKED: This vehicle is currently "On Trip". You cannot delete it until the trip is completed/returned.');if("pending"===t.dynamicStatus&&!confirm("WARNING: This vehicle has pending booking requests. Deleting it will leave those requests unresolved. Do you really want to proceed?"))return}if(confirm("Are you sure you want to permanently delete this vehicle? This action cannot be undone."))try{await this.deleteVehicle(e),alert("Vehicle deleted successfully."),await this.fetchData()}catch(a){console.error("Vehicle deletion error:",a),alert("Failed to delete vehicle. Please check the console for details.")}},nextPage(){this.currentPage<this.totalPages&&this.currentPage++},prevPage(){this.currentPage>1&&this.currentPage--},getStatusClass(e){return"available"===e?"status-success":"on trip"===e?"status-booked":"pending"===e?"status-warning":"completed"===e?"status-returned":"status-default"}},created(){this.fetchData()}};const iD=(0,B.A)(aD,[["render",tD],["__scopeId","data-v-313887bd"]]);var sD=iD;const oD={class:"admin-page-container"},lD={class:"page-header"},nD={class:"header-stats"},rD={class:"stat-item"},cD={class:"stat-val"},dD={class:"control-bar"},uD={key:0,class:"back-button-wrapper"},pD={key:1,class:"reminder-wrapper"},hD=["title"],mD={class:"btn-text"},vD={class:"tabs-wrapper"},kD=["onClick"],gD={class:"search-wrapper"},fD={class:"content-area"},yD={key:0,class:"state-container"},bD={key:1,class:"state-container error"},LD={key:2,class:"state-container empty"},wD={key:3,class:"list-container"},CD={class:"mobile-top mobile-only"},SD={class:"period"},PD={class:"col period-cell desktop-only"},ED={class:"col user-cell"},DD={class:"user-info"},AD={class:"user-avatar host"},_D={class:"user-text"},VD={class:"name"},ID={class:"email"},FD={class:"col ref-cell font-mono"},xD={class:"col amount-cell text-success"},MD={class:"col status-cell desktop-only"},TD={class:"col actions-cell"},RD={key:0,class:"action-buttons-group"},BD=["onClick"],UD=["onClick"],ND=["onClick"],XD={key:1,class:"text-muted"},OD={class:"mobile-top mobile-only"},qD={class:"id-text"},$D={class:"col id-cell desktop-only"},QD={class:"col user-cell"},WD={class:"user-info"},HD={class:"user-text"},jD={class:"name"},YD={class:"email"},KD={class:"col vehicle-cell"},GD={class:"vehicle-name"},JD={class:"col date-cell"},zD={class:"date-range"},ZD={class:"col price-cell"},eA={class:"col status-cell desktop-only"},tA={class:"col actions-cell"},aA=["onClick"],iA={key:4,class:"pagination-container"},sA=["disabled"],oA={class:"page-info"},lA=["disabled"];function nA(e,t,a,l,n,r){const c=(0,s.g2)("AdminBookingDetailsModal");return(0,s.uX)(),(0,s.CE)("div",oD,[(0,s.Lk)("header",lD,[t[12]||(t[12]=(0,s.Lk)("div",{class:"header-content"},[(0,s.Lk)("h2",{class:"section-title"},"Bookings & Finance"),(0,s.Lk)("p",{class:"section-subtitle"}," Monitor rental transactions and verify platform fees. ")],-1)),(0,s.Lk)("div",nD,[(0,s.Lk)("div",rD,[(0,s.Lk)("span",cD,(0,o.v_)(r.filteredList.length),1),t[11]||(t[11]=(0,s.Lk)("span",{class:"stat-label"},"Records",-1))])])]),(0,s.Lk)("div",dD,["platform_fees"===n.activeFilter?((0,s.uX)(),(0,s.CE)("div",uD,[(0,s.Lk)("button",{class:"button secondary-btn back-btn",onClick:t[0]||(t[0]=e=>{n.activeFilter="all",n.feeStatusFilter="all"}),title:"Back to All Booking Records"},[...t[13]||(t[13]=[(0,s.Lk)("i",{class:"bi bi-arrow-left"},null,-1),(0,s.eW)(" Back to Bookings ",-1)])])])):(0,s.Q3)("",!0),"platform_fees"===n.activeFilter&&e.calculatedUnpaidPlatformFees.length>0?((0,s.uX)(),(0,s.CE)("div",pD,[(0,s.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>r.handleBulkReminders&&r.handleBulkReminders(...e)),class:(0,o.C4)(["button primary-btn",{"urgent-pulse":r.isNearEndOfMonth()}]),title:r.isNearEndOfMonth()?"Urgent: Send end of month reminders":"Send payment reminders"},[t[14]||(t[14]=(0,s.Lk)("i",{class:"bi bi-megaphone"},null,-1)),(0,s.Lk)("span",mD,(0,o.v_)(r.isNearEndOfMonth()?"Send End-of-Month Reminders":"Send Reminders"),1)],10,hD)])):(0,s.Q3)("",!0),(0,s.Lk)("div",vD,["platform_fees"!==n.activeFilter?((0,s.uX)(!0),(0,s.CE)(s.FK,{key:0},(0,s.pI)(n.statusFilters,e=>((0,s.uX)(),(0,s.CE)("button",{key:e.value,class:(0,o.C4)(["filter-tab",{active:n.activeFilter===e.value}]),onClick:t=>n.activeFilter=e.value},(0,o.v_)(e.label),11,kD))),128)):((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[(0,s.Lk)("button",{class:(0,o.C4)(["filter-tab",{active:"all"===n.feeStatusFilter}]),onClick:t[2]||(t[2]=e=>n.feeStatusFilter="all")}," All Fees ",2),(0,s.Lk)("button",{class:(0,o.C4)(["filter-tab status-warning",{active:"pending"===n.feeStatusFilter}]),onClick:t[3]||(t[3]=e=>n.feeStatusFilter="pending")}," Unpaid (Pending) ",2),(0,s.Lk)("button",{class:(0,o.C4)(["filter-tab status-success",{active:"verified"===n.feeStatusFilter}]),onClick:t[4]||(t[4]=e=>n.feeStatusFilter="verified")}," Paid (Verified) ",2)],64)),t[16]||(t[16]=(0,s.Lk)("div",{class:"divider"},null,-1)),(0,s.Lk)("button",{class:(0,o.C4)(["filter-tab fee-tab",{active:"platform_fees"===n.activeFilter}]),onClick:t[5]||(t[5]=e=>{n.activeFilter="platform_fees",n.feeStatusFilter="all"})},[...t[15]||(t[15]=[(0,s.Lk)("i",{class:"bi bi-cash-coin"},null,-1),(0,s.eW)(" Platform Fees ",-1)])],2)]),(0,s.Lk)("div",gD,[t[17]||(t[17]=(0,s.Lk)("i",{class:"bi bi-search search-icon"},null,-1)),(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=e=>n.searchQuery=e),placeholder:"Search...",class:"search-input"},null,512),[[i.Jo,n.searchQuery]])])]),(0,s.Lk)("div",fD,[n.loading?((0,s.uX)(),(0,s.CE)("div",yD,[...t[18]||(t[18]=[(0,s.Lk)("div",{class:"spinner"},null,-1),(0,s.Lk)("p",null,"Loading data...",-1)])])):n.error?((0,s.uX)(),(0,s.CE)("div",bD,[t[19]||(t[19]=(0,s.Lk)("i",{class:"bi bi-exclamation-circle"},null,-1)),(0,s.Lk)("p",null,(0,o.v_)(n.error),1),(0,s.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>r.fetchData&&r.fetchData(...e)),class:"button primary-btn"},"Retry")])):0===r.paginatedList.length?((0,s.uX)(),(0,s.CE)("div",LD,[...t[20]||(t[20]=[(0,s.Lk)("i",{class:"bi bi-inbox"},null,-1),(0,s.Lk)("p",null,"No records found.",-1)])])):((0,s.uX)(),(0,s.CE)("div",wD,["platform_fees"===n.activeFilter?((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[t[25]||(t[25]=(0,s.Fv)('<div class="list-header fee-grid desktop-only" data-v-150d8187><div class="col" data-v-150d8187>Period</div><div class="col" data-v-150d8187>Host</div><div class="col" data-v-150d8187>Ref No.</div><div class="col" data-v-150d8187>Amount</div><div class="col" data-v-150d8187>Status</div><div class="col right" data-v-150d8187>Actions</div></div>',1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.paginatedList,e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"list-item fee-grid"},[(0,s.Lk)("div",CD,[(0,s.Lk)("span",SD,[(0,s.Lk)("strong",null,(0,o.v_)(e.month)+" "+(0,o.v_)(e.year),1)]),(0,s.Lk)("span",{class:(0,o.C4)(["status-badge","verified"===e.status?"status-success":"calculated"===e.status?"status-danger":"status-warning"])},(0,o.v_)("verified"===e.status?"Verified":"calculated"===e.status?"Unpaid":"Pending"),3)]),(0,s.Lk)("div",PD,[(0,s.Lk)("strong",null,(0,o.v_)(e.month)+" "+(0,o.v_)(e.year),1)]),(0,s.Lk)("div",ED,[(0,s.Lk)("div",DD,[(0,s.Lk)("div",AD,(0,o.v_)(r.getInitials(e.hostName)),1),(0,s.Lk)("div",_D,[(0,s.Lk)("span",VD,(0,o.v_)(e.hostName),1),(0,s.Lk)("span",ID,(0,o.v_)(e.hostEmail),1)])])]),(0,s.Lk)("div",FD,[t[21]||(t[21]=(0,s.Lk)("span",{class:"label-mobile"},"Ref:",-1)),(0,s.eW)(" "+(0,o.v_)(e.referenceNumber),1)]),(0,s.Lk)("div",xD,[t[22]||(t[22]=(0,s.Lk)("span",{class:"label-mobile"},"Amount:",-1)),(0,s.eW)(" +₱"+(0,o.v_)(e.amount.toLocaleString("en-US",{minimumFractionDigits:2})),1)]),(0,s.Lk)("div",MD,[(0,s.Lk)("span",{class:(0,o.C4)(["status-badge","verified"===e.status?"status-success":"calculated"===e.status?"status-danger":"status-warning"])},(0,o.v_)("verified"===e.status?"Verified":"calculated"===e.status?"Unpaid (Calculated)":"Pending Review"),3)]),(0,s.Lk)("div",TD,["verified"!==e.status?((0,s.uX)(),(0,s.CE)("div",RD,[(0,s.Lk)("button",{onClick:t=>r.handleNotifyOwner(e),class:"button secondary-btn small-btn",title:"Send Payment Reminder / Request"},[...t[23]||(t[23]=[(0,s.Lk)("i",{class:"bi bi-bell"},null,-1)])],8,BD),"pending"===e.status?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:t=>r.verifyFeePayment(e.id),class:"button primary-btn small-btn"}," Verify ",8,UD)):"calculated"===e.status?((0,s.uX)(),(0,s.CE)("button",{key:1,onClick:t=>r.filterByFeeSource(e),class:"button primary-btn small-btn",title:"Filter booking list to see this owner's transactions"}," Review ",8,ND)):(0,s.Q3)("",!0)])):((0,s.uX)(),(0,s.CE)("span",XD,[...t[24]||(t[24]=[(0,s.Lk)("i",{class:"bi bi-check-all"},null,-1),(0,s.eW)(" Done ",-1)])]))])]))),128))],64)):((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[t[30]||(t[30]=(0,s.Fv)('<div class="list-header booking-grid desktop-only" data-v-150d8187><div class="col" data-v-150d8187>ID</div><div class="col" data-v-150d8187>Renter</div><div class="col" data-v-150d8187>Vehicle</div><div class="col" data-v-150d8187>Dates</div><div class="col" data-v-150d8187>Total</div><div class="col" data-v-150d8187>Status</div><div class="col right" data-v-150d8187>Actions</div></div>',1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.paginatedList,e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"list-item booking-grid"},[(0,s.Lk)("div",OD,[(0,s.Lk)("span",qD,"#"+(0,o.v_)(e.id.substring(0,8)),1),(0,s.Lk)("span",{class:(0,o.C4)(["status-badge",r.getStatusClass(e.paymentStatus)])},(0,o.v_)(r.formatStatus(e.paymentStatus)),3)]),(0,s.Lk)("div",$D," #"+(0,o.v_)(e.id.substring(0,8))+"... ",1),(0,s.Lk)("div",QD,[(0,s.Lk)("div",WD,[(0,s.Lk)("div",HD,[(0,s.Lk)("span",jD,(0,o.v_)(e.resolvedRenterName),1),(0,s.Lk)("span",YD,(0,o.v_)(e.renterEmail),1)])])]),(0,s.Lk)("div",KD,[t[26]||(t[26]=(0,s.Lk)("span",{class:"label-mobile"},"Vehicle:",-1)),(0,s.Lk)("span",GD,(0,o.v_)(e.vehicleName),1)]),(0,s.Lk)("div",JD,[(0,s.Lk)("div",zD,[(0,s.Lk)("span",null,(0,o.v_)(r.formatDate(e.startDate)),1),t[27]||(t[27]=(0,s.Lk)("i",{class:"bi bi-arrow-right-short arrow-icon"},null,-1)),(0,s.Lk)("span",null,(0,o.v_)(r.formatDate(e.endDate)),1)])]),(0,s.Lk)("div",ZD,[t[28]||(t[28]=(0,s.Lk)("span",{class:"label-mobile"},"Total:",-1)),(0,s.eW)(" ₱"+(0,o.v_)(e.totalCost?e.totalCost.toLocaleString():"0"),1)]),(0,s.Lk)("div",eA,[(0,s.Lk)("span",{class:(0,o.C4)(["status-badge",r.getStatusClass(e.paymentStatus)])},(0,o.v_)(r.formatStatus(e.paymentStatus)),3)]),(0,s.Lk)("div",tA,[(0,s.Lk)("button",{onClick:t=>r.viewBooking(e),class:"action-btn view",title:"View Details"},[...t[29]||(t[29]=[(0,s.Lk)("i",{class:"bi bi-eye"},null,-1)])],8,aA)])]))),128))],64))])),r.totalPages>1?((0,s.uX)(),(0,s.CE)("div",iA,[(0,s.Lk)("button",{class:"page-btn",disabled:1===n.currentPage,onClick:t[8]||(t[8]=(...e)=>r.prevPage&&r.prevPage(...e))},[...t[31]||(t[31]=[(0,s.Lk)("i",{class:"bi bi-chevron-left"},null,-1),(0,s.eW)(" Previous ",-1)])],8,sA),(0,s.Lk)("span",oA," Page "+(0,o.v_)(n.currentPage)+" of "+(0,o.v_)(r.totalPages),1),(0,s.Lk)("button",{class:"page-btn",disabled:n.currentPage===r.totalPages,onClick:t[9]||(t[9]=(...e)=>r.nextPage&&r.nextPage(...e))},[...t[32]||(t[32]=[(0,s.eW)(" Next ",-1),(0,s.Lk)("i",{class:"bi bi-chevron-right"},null,-1)])],8,lA)])):(0,s.Q3)("",!0)]),(0,s.bF)(c,{"is-open":n.isModalOpen,booking:n.selectedBooking,onClose:t[10]||(t[10]=e=>n.isModalOpen=!1)},null,8,["is-open","booking"])])}const rA={class:"modal-card"},cA={key:0,class:"modal-content"},dA={class:"detail-header"},uA={class:"booking-id"},pA={class:"detail-grid"},hA={class:"detail-item full-width"},mA={class:"user-block"},vA={class:"avatar-placeholder"},kA={class:"renter-name"},gA={class:"renter-email"},fA={class:"detail-item"},yA={class:"detail-item"},bA={class:"cost-text"},LA={class:"detail-item full-width"},wA={class:"date-range"},CA={class:"modal-actions"};function SA(e,t,a,l,n,r){return a.isOpen?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"modal-overlay",onClick:t[1]||(t[1]=(0,i.D$)(t=>e.$emit("close"),["self"]))},[(0,s.Lk)("div",rA,[t[7]||(t[7]=(0,s.Lk)("h3",{class:"modal-title"},"Booking Details",-1)),a.booking?((0,s.uX)(),(0,s.CE)("div",cA,[(0,s.Lk)("div",dA,[(0,s.Lk)("span",uA,"#"+(0,o.v_)(a.booking.id),1),(0,s.Lk)("span",{class:(0,o.C4)(["status-badge",r.getStatusClass(a.booking.paymentStatus)])},(0,o.v_)(r.formatStatus(a.booking.paymentStatus)),3)]),(0,s.Lk)("div",pA,[(0,s.Lk)("div",hA,[t[2]||(t[2]=(0,s.Lk)("label",null,"Renter",-1)),(0,s.Lk)("div",mA,[(0,s.Lk)("div",vA,(0,o.v_)(r.getInitials(a.booking.resolvedRenterName||a.booking.renterEmail)),1),(0,s.Lk)("div",null,[(0,s.Lk)("p",kA,(0,o.v_)(a.booking.resolvedRenterName||"Unknown Name"),1),(0,s.Lk)("small",gA,(0,o.v_)(a.booking.renterEmail),1)])])]),(0,s.Lk)("div",fA,[t[3]||(t[3]=(0,s.Lk)("label",null,"Vehicle",-1)),(0,s.Lk)("p",null,(0,o.v_)(a.booking.vehicleName||"Unknown Vehicle"),1)]),(0,s.Lk)("div",yA,[t[4]||(t[4]=(0,s.Lk)("label",null,"Total Cost",-1)),(0,s.Lk)("p",bA," ₱"+(0,o.v_)(a.booking.totalCost?a.booking.totalCost.toLocaleString():"0"),1)]),(0,s.Lk)("div",LA,[t[6]||(t[6]=(0,s.Lk)("label",null,"Trip Dates",-1)),(0,s.Lk)("p",wA,[(0,s.eW)((0,o.v_)(r.formatDate(a.booking.startDate))+" ",1),t[5]||(t[5]=(0,s.Lk)("i",{class:"bi bi-arrow-right"},null,-1)),(0,s.eW)(" "+(0,o.v_)(r.formatDate(a.booking.endDate)),1)])])])])):(0,s.Q3)("",!0),(0,s.Lk)("div",CA,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$emit("close")),class:"button primary"},"Close")])])])):(0,s.Q3)("",!0)}var PA={name:"AdminBookingDetailsModal",props:{isOpen:Boolean,booking:Object},emits:["close"],methods:{formatDate(e){return e?"object"===typeof e&&e.seconds?Z.c9.fromSeconds(e.seconds).toFormat("MMM dd, yyyy, h:mm a"):Z.c9.fromISO(e).toFormat("MMM dd, yyyy"):"N/A"},formatStatus(e){return e?e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()):"Unknown"},getStatusClass(e){switch(e){case"confirmed":case"completed":case"returned":case"downpayment_verified":return"status-success";case"pending_owner_approval":case"pending_payment":case"downpayment_pending_verification":return"status-warning";case"cancelled":case"declined_by_owner":case"cancelled_by_renter":return"status-danger";default:return"status-default"}},getInitials(e){return e?e.split(" ").slice(0,2).map(e=>e[0]).join("").toUpperCase():"?"}}};const EA=(0,B.A)(PA,[["render",SA],["__scopeId","data-v-4c802aa4"]]);var DA=EA,AA={name:"AdminBookingsView",components:{AdminBookingDetailsModal:DA},data(){return{loading:!0,error:null,isModalOpen:!1,selectedBooking:null,activeFilter:"all",searchQuery:"",currentPage:1,itemsPerPage:10,feeStatusFilter:"all",statusFilters:[{label:"All",value:"all"},{label:"Pending",value:"pending"},{label:"Confirmed",value:"confirmed"},{label:"Completed",value:"completed"},{label:"Cancelled",value:"cancelled"}]}},computed:{...(0,x.L8)(["allBookings","allUsers","allPlatformFees","calculatedUnpaidPlatformFees"]),processedBookings(){return this.allBookings.map(e=>{let t="Unknown Renter",a=e.renterEmail||"No Email";if(this.allUsers&&this.allUsers.length>0){const i=e.renterId||e.userId,s=this.allUsers.find(t=>i&&(t.uid===i||t.id===i)||e.renterEmail&&t.email===e.renterEmail);s&&(t=s.name||s.fullName||"No Name",a=s.email||e.renterEmail)}return"Unknown Renter"!==t&&"No Name"!==t||!e.renterEmail?"Unknown Renter"===t&&e.renterDetails?.name&&(t=e.renterDetails.name):t=e.renterEmail.split("@")[0],{...e,resolvedRenterName:t,resolvedRenterEmail:a}})},filteredList(){const e=this.searchQuery.toLowerCase();if("platform_fees"===this.activeFilter){let t=[...this.allPlatformFees,...this.calculatedUnpaidPlatformFees];if("all"!==this.feeStatusFilter){const e="pending"===this.feeStatusFilter?["pending","calculated"]:[this.feeStatusFilter];t=t.filter(t=>e.includes(t.status))}return this.searchQuery&&(t=t.filter(t=>(t.hostName||"").toLowerCase().includes(e)||(t.referenceNumber||"").toLowerCase().includes(e))),t.sort((e,t)=>{const a={calculated:0,pending:1,verified:2},i=a[e.status]-a[t.status];if(0!==i)return i;const s=100*e.year+Z.c9.fromFormat(e.month,"MMMM").month,o=100*t.year+Z.c9.fromFormat(t.month,"MMMM").month;return o-s})}let t=this.processedBookings;if("all"!==this.activeFilter)if("pending"===this.activeFilter){const e=["pending_owner_approval","pending_payment","downpayment_pending_verification"];t=t.filter(t=>e.includes(t.paymentStatus))}else if("cancelled"===this.activeFilter){const e=["cancelled","declined_by_owner","cancelled_by_renter"];t=t.filter(t=>e.includes(t.paymentStatus))}else if("completed"===this.activeFilter){const e=["completed","returned"];t=t.filter(t=>e.includes(t.paymentStatus))}else t=t.filter(e=>e.paymentStatus===this.activeFilter);return this.searchQuery&&(t=t.filter(t=>t.id.toLowerCase().includes(e)||t.vehicleName?.toLowerCase().includes(e)||t.resolvedRenterName?.toLowerCase().includes(e))),t.sort((e,t)=>{const a=new Date(e.createdAt?.seconds?1e3*e.createdAt.seconds:e.createdAt),i=new Date(t.createdAt?.seconds?1e3*t.createdAt.seconds:t.createdAt);return i-a})},totalPages(){return Math.ceil(this.filteredList.length/this.itemsPerPage)},paginatedList(){const e=(this.currentPage-1)*this.itemsPerPage,t=e+this.itemsPerPage;return this.filteredList.slice(e,t)}},watch:{activeFilter(e){this.currentPage=1,"platform_fees"!==e&&(this.feeStatusFilter="all")},searchQuery(){this.currentPage=1},feeStatusFilter(){this.currentPage=1}},methods:{...(0,x.i0)(["fetchAllBookings","fetchAllUsers","fetchAllPlatformFees","verifyPlatformFee","sendNotification","sendBulkFeeReminders"]),isNearEndOfMonth(){const e=Z.c9.now(),t=e.endOf("month"),a=t.diff(e,"days").days;return a<=5&&a>=-1},async handleBulkReminders(){if(confirm("Are you sure you want to send payment reminders to ALL owners with unpaid fees?")){this.loading=!0;try{const e=await this.sendBulkFeeReminders();e>0?alert(`Success! Reminders sent to ${e} owners.`):alert("No unpaid owners found to notify.")}catch(e){console.error(e),alert("Failed to send reminders. Check console for details.")}finally{this.loading=!1}}},async fetchData(){this.loading=!0,this.error=null;try{await Promise.all([this.fetchAllBookings(),this.fetchAllUsers(),this.fetchAllPlatformFees()])}catch(e){this.error="An error occurred while fetching data. Check backend logs."}finally{this.loading=!1}},async verifyFeePayment(e){if(confirm("Verify this payment has been received?"))try{if(e.startsWith("CALC_"))return void alert("Cannot verify a calculated fee. Please wait for the host to report payment.");await this.verifyPlatformFee(e),alert("Payment verified successfully.")}catch(t){alert("Failed to verify payment.")}},filterByFeeSource(e){this.searchQuery=e.hostName,this.activeFilter="all",this.feeStatusFilter="all",this.currentPage=1},async handleNotifyOwner(e){if("calculated"===e.status){if(!confirm(`This is a calculated unpaid fee for ${e.month} ${e.year}. Send payment request to ${e.hostName}?`))return;try{const t={userId:e.ownerId,message:`URGENT: Platform fee of ₱${e.amount.toFixed(2).toLocaleString()} is due for completed bookings in ${e.month} ${e.year}. Please submit payment immediately.`,link:"/dashboard/owner/billing",type:"payment_request"};await this.sendNotification(t),alert(`URGENT Payment Request sent to ${e.hostName}.`)}catch(t){console.error(t),alert("Failed to send payment request.")}}else{if(!confirm(`Send payment reminder to ${e.hostName}?`))return;try{const t={userId:e.ownerId,message:`Reminder: Please verify your platform fee payment of ₱${e.amount} for ${e.month} ${e.year}.`,link:"/dashboard/owner/billing"};await this.sendNotification(t),alert(`Notification sent to ${e.hostName}.`)}catch(t){console.error(t),alert("Failed to send notification.")}}},nextPage(){this.currentPage<this.totalPages&&this.currentPage++},prevPage(){this.currentPage>1&&this.currentPage--},formatDate(e){return e?"object"===typeof e&&e.seconds?Z.c9.fromSeconds(e.seconds).toFormat("MMM dd, yyyy"):Z.c9.fromISO(e).toFormat("MMM dd, yyyy"):"N/A"},formatStatus(e){return e?e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()):"Unknown"},getInitials(e){return e?e.split(" ").slice(0,2).map(e=>e[0]).join("").toUpperCase():"?"},getStatusClass(e){switch(e){case"confirmed":case"completed":case"returned":case"paid":case"downpayment_verified":return"status-success";case"pending_owner_approval":case"pending_payment":case"downpayment_pending_verification":return"status-warning";case"cancelled":case"declined_by_owner":case"cancelled_by_renter":return"status-danger";default:return"status-default"}},viewBooking(e){const t=this.allUsers.find(t=>t.uid===e.renterId||t.id===e.renterId||t.uid===e.userId),a=this.allUsers.find(t=>t.uid===e.ownerId||t.id===e.ownerId);this.selectedBooking={...e,renterProfile:t||{},ownerProfile:a||{},resolvedRenterName:e.resolvedRenterName},this.isModalOpen=!0}},created(){this.fetchData()}};const _A=(0,B.A)(AA,[["render",nA],["__scopeId","data-v-150d8187"]]);var VA=_A;const IA={class:"admin-page-container"},FA={class:"page-header"},xA={class:"header-stats"},MA={class:"stat-item"},TA={class:"stat-val"},RA={class:"control-bar"},BA={class:"tabs-wrapper"},UA=["onClick"],NA={class:"search-wrapper"},XA={class:"content-area"},OA={key:0,class:"state-container"},qA={key:1,class:"state-container error"},$A={key:2,class:"state-container empty"},QA={key:3},WA={class:"desktop-view table-responsive"},HA={class:"modern-table"},jA={class:"user-info-cell"},YA={class:"user-text"},KA={class:"name"},GA={key:0,class:"bi bi-slash-circle-fill text-danger ml-1",title:"Suspended"},JA={class:"email"},zA={class:"status-indicator"},ZA={key:0,class:"status-badge status-danger"},e_={key:1,class:"status-badge status-success"},t_={class:"date-cell"},a_={class:"actions-cell"},i_=["onClick"],s_=["onClick","disabled"],o_=["onClick","title","disabled"],l_=["onClick","disabled"],n_={class:"mobile-view grid-layout"},r_={class:"card-header"},c_={class:"card-meta"},d_={key:0,class:"status-badge status-danger small"},u_={class:"card-body"},p_={class:"card-name"},h_={class:"card-email"},m_={class:"card-listings"},v_={class:"card-actions"},k_=["onClick"],g_={class:"icon-group"},f_=["onClick","disabled"],y_=["onClick","disabled"],b_=["onClick","disabled"];function L_(e,t,a,l,n,r){return(0,s.uX)(),(0,s.CE)("div",IA,[(0,s.Lk)("header",FA,[t[3]||(t[3]=(0,s.Lk)("div",{class:"header-content"},[(0,s.Lk)("h2",{class:"section-title"},"User Management"),(0,s.Lk)("p",{class:"section-subtitle"},"Monitor and manage user roles and platform access.")],-1)),(0,s.Lk)("div",xA,[(0,s.Lk)("div",MA,[(0,s.Lk)("span",TA,(0,o.v_)(e.allUsers.length),1),t[2]||(t[2]=(0,s.Lk)("span",{class:"stat-label"},"Total",-1))])])]),(0,s.Lk)("div",RA,[(0,s.Lk)("div",BA,[((0,s.uX)(),(0,s.CE)(s.FK,null,(0,s.pI)(["all","owner","renter"],e=>(0,s.Lk)("button",{key:e,class:(0,o.C4)(["filter-tab",{active:n.activeTab===e}]),onClick:t=>n.activeTab=e},(0,o.v_)(e.charAt(0).toUpperCase()+e.slice(1)+"s"),11,UA)),64))]),(0,s.Lk)("div",NA,[t[4]||(t[4]=(0,s.Lk)("i",{class:"bi bi-search search-icon"},null,-1)),(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.searchQuery=e),placeholder:"Find user by name or email...",class:"search-input"},null,512),[[i.Jo,n.searchQuery]])])]),(0,s.Lk)("div",XA,[n.loading?((0,s.uX)(),(0,s.CE)("div",OA,[...t[5]||(t[5]=[(0,s.Lk)("div",{class:"spinner"},null,-1),(0,s.Lk)("p",null,"Fetching users...",-1)])])):n.error?((0,s.uX)(),(0,s.CE)("div",qA,[t[6]||(t[6]=(0,s.Lk)("i",{class:"bi bi-exclamation-circle"},null,-1)),(0,s.Lk)("p",null,(0,o.v_)(n.error),1),(0,s.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>r.fetchData&&r.fetchData(...e)),class:"button primary-btn"},"Retry")])):0===r.filteredUsers.length?((0,s.uX)(),(0,s.CE)("div",$A,[...t[7]||(t[7]=[(0,s.Lk)("i",{class:"bi bi-people"},null,-1),(0,s.Lk)("p",null,"No users found.",-1)])])):((0,s.uX)(),(0,s.CE)("div",QA,[(0,s.Lk)("div",WA,[(0,s.Lk)("table",HA,[t[11]||(t[11]=(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"User Profile"),(0,s.Lk)("th",null,"Role"),(0,s.Lk)("th",null,"Status"),(0,s.Lk)("th",null,"Joined"),(0,s.Lk)("th",{class:"text-right"},"Actions")])],-1)),(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.filteredUsers,e=>((0,s.uX)(),(0,s.CE)("tr",{key:e.uid,class:(0,o.C4)({"suspended-row":e.isSuspended})},[(0,s.Lk)("td",null,[(0,s.Lk)("div",jA,[(0,s.Lk)("div",{class:"user-avatar",style:(0,o.Tr)({backgroundColor:r.getAvatarColor(e.name)})},(0,o.v_)(r.getInitials(e.name)),5),(0,s.Lk)("div",YA,[(0,s.Lk)("span",KA,[(0,s.eW)((0,o.v_)(e.name||"Unknown User")+" ",1),e.isSuspended?((0,s.uX)(),(0,s.CE)("i",GA)):(0,s.Q3)("",!0)]),(0,s.Lk)("span",JA,(0,o.v_)(e.email),1)])])]),(0,s.Lk)("td",null,[(0,s.Lk)("span",{class:(0,o.C4)(["role-badge",r.getRoleClass(e.role)])},(0,o.v_)(e.role),3)]),(0,s.Lk)("td",null,[(0,s.Lk)("div",zA,[e.isSuspended?((0,s.uX)(),(0,s.CE)("span",ZA,"Suspended")):((0,s.uX)(),(0,s.CE)("span",e_,"Active"))])]),(0,s.Lk)("td",t_,(0,o.v_)(r.formatDate(e.createdAt)),1),(0,s.Lk)("td",null,[(0,s.Lk)("div",a_,[(0,s.Lk)("button",{onClick:t=>r.viewProfile(e.uid),class:"action-btn view",title:"View Profile"},[...t[8]||(t[8]=[(0,s.Lk)("i",{class:"bi bi-eye"},null,-1)])],8,i_),(0,s.Lk)("button",{onClick:t=>r.toggleUserRole(e),class:"action-btn edit",title:"Switch Role",disabled:"admin"===e.role},[...t[9]||(t[9]=[(0,s.Lk)("i",{class:"bi bi-arrow-left-right"},null,-1)])],8,s_),(0,s.Lk)("button",{onClick:t=>r.handleSuspendUser(e),class:(0,o.C4)(["action-btn suspend",{"active-suspend":e.isSuspended}]),title:e.isSuspended?"Unsuspend User":"Suspend User",disabled:"admin"===e.role},[(0,s.Lk)("i",{class:(0,o.C4)(e.isSuspended?"bi bi-unlock-fill":"bi bi-slash-circle")},null,2)],10,o_),(0,s.Lk)("button",{onClick:t=>r.handleDeleteUser(e),class:"action-btn delete",title:"Delete User",disabled:"admin"===e.role},[...t[10]||(t[10]=[(0,s.Lk)("i",{class:"bi bi-trash3"},null,-1)])],8,l_)])])],2))),128))])])]),(0,s.Lk)("div",n_,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.filteredUsers,e=>((0,s.uX)(),(0,s.CE)("div",{key:e.uid,class:(0,o.C4)(["user-card",{"suspended-card":e.isSuspended}])},[(0,s.Lk)("div",r_,[(0,s.Lk)("div",{class:"user-avatar",style:(0,o.Tr)({backgroundColor:r.getAvatarColor(e.name)})},(0,o.v_)(r.getInitials(e.name)),5),(0,s.Lk)("div",c_,[(0,s.Lk)("span",{class:(0,o.C4)(["role-badge",r.getRoleClass(e.role)])},(0,o.v_)(e.role),3),e.isSuspended?((0,s.uX)(),(0,s.CE)("span",d_,"Suspended")):(0,s.Q3)("",!0)])]),(0,s.Lk)("div",u_,[(0,s.Lk)("h3",p_,(0,o.v_)(e.name||"Unknown"),1),(0,s.Lk)("p",h_,(0,o.v_)(e.email),1),(0,s.Lk)("p",m_,[t[12]||(t[12]=(0,s.Lk)("i",{class:"bi bi-car-front-fill"},null,-1)),(0,s.eW)(" "+(0,o.v_)(e.listingCount||0)+" vehicles listed",1)])]),(0,s.Lk)("div",v_,[(0,s.Lk)("button",{onClick:t=>r.viewProfile(e.uid),class:"btn-card secondary"},"Profile",8,k_),(0,s.Lk)("div",g_,[(0,s.Lk)("button",{onClick:t=>r.toggleUserRole(e),class:"btn-icon",disabled:"admin"===e.role},[...t[13]||(t[13]=[(0,s.Lk)("i",{class:"bi bi-arrow-left-right"},null,-1)])],8,f_),(0,s.Lk)("button",{onClick:t=>r.handleSuspendUser(e),class:(0,o.C4)(["btn-icon suspend",{"active-suspend":e.isSuspended}]),disabled:"admin"===e.role},[(0,s.Lk)("i",{class:(0,o.C4)(e.isSuspended?"bi bi-unlock-fill":"bi bi-slash-circle")},null,2)],10,y_),(0,s.Lk)("button",{onClick:t=>r.handleDeleteUser(e),class:"btn-icon danger",disabled:"admin"===e.role},[...t[14]||(t[14]=[(0,s.Lk)("i",{class:"bi bi-trash3"},null,-1)])],8,b_)])])],2))),128))])]))])])}var w_={name:"AdminUsersView",data(){return{loading:!0,error:null,searchQuery:"",activeTab:"all"}},computed:{...(0,x.L8)(["allUsers"]),filteredUsers(){let e;if(e="all"===this.activeTab?this.allUsers:this.allUsers.filter(e=>e.role===this.activeTab),!this.searchQuery)return e;const t=this.searchQuery.toLowerCase();return e.filter(e=>{const a=e.name||"",i=e.email||"";return a.toLowerCase().includes(t)||i.toLowerCase().includes(t)})}},methods:{...(0,x.i0)(["fetchAllUsers","updateUserRole","deleteUser","toggleUserSuspension"]),async fetchData(){this.loading=!0,this.error=null;try{await this.fetchAllUsers()}catch(e){this.error="An error occurred while fetching user data."}finally{this.loading=!1}},getInitials(e){return e?e.split(" ").map(e=>e[0]).join("").substring(0,2).toUpperCase():"U"},getAvatarColor(e){const t=["#3b82f6","#10b981","#f59e0b","#8b5cf6","#ec4899","#6366f1"];if(!e)return"#9ca3af";let a=0;for(let i=0;i<e.length;i++)a=e.charCodeAt(i)+((a<<5)-a);return t[Math.abs(a)%t.length]},async toggleUserRole(e){const t="owner"===e.role?"renter":"owner";if(confirm(`Change ${e.email}'s role to '${t}'?`))try{await this.updateUserRole({userId:e.uid,role:t}),await this.fetchData()}catch(a){alert("Failed to update user role.")}},async handleSuspendUser(e){const t=e.isSuspended?"unsuspend":"suspend";if(!confirm(`Are you sure you want to ${t} ${e.name||e.email}?`))return;const a=e.isSuspended;e.isSuspended=!a;try{await this.toggleUserSuspension({userId:e.uid,isSuspended:e.isSuspended}),alert(`User ${t}ed successfully.`),await this.fetchData()}catch(i){e.isSuspended=a,console.error(i),alert("Failed to update user status.")}},async handleDeleteUser(e){if(confirm(`Permanently delete ${e.email}?`))try{await this.deleteUser(e.uid),await this.fetchData()}catch(t){alert("Failed to delete user.")}},viewProfile(e){this.$router.push({name:"UserProfileView",params:{userId:e}})},formatDate(e){if(!e)return"-";const t=e._seconds?new Date(1e3*e._seconds):new Date(e);return Z.c9.fromJSDate(t).toFormat("MMM dd, yyyy")},getRoleClass(e){return"admin"===e?"role-admin":"owner"===e?"role-owner":"role-renter"}},created(){this.fetchData()}};const C_=(0,B.A)(w_,[["render",L_],["__scopeId","data-v-6dc1d265"]]);var S_=C_;const P_={class:"admin-page-container"},E_={class:"dashboard-header"},D_={class:"date-display"},A_={key:0,class:"loading-container"},__={key:1},V_={class:"stats-grid"},I_={class:"stat-card card-blue"},F_={class:"card-content"},x_={class:"text-wrapper"},M_={class:"stat-value"},T_={class:"stat-card card-purple"},R_={class:"card-content"},B_={class:"text-wrapper"},U_={class:"stat-value"},N_={class:"stat-card card-orange"},X_={class:"card-content"},O_={class:"text-wrapper"},q_={class:"stat-value"},$_={class:"stat-card card-green"},Q_={class:"card-content"},W_={class:"text-wrapper"},H_={class:"stat-value"},j_={class:"stats-grid financial-grid"},Y_={class:"stat-card card-gold"},K_={class:"card-content"},G_={class:"text-wrapper"},J_={class:"stat-value"},z_={class:"stat-card card-red"},Z_={class:"card-content"},eV={class:"text-wrapper"},tV={class:"stat-value"},aV={class:"stat-card card-dark"},iV={class:"card-content"},sV={class:"text-wrapper"},oV={class:"stat-value"},lV={class:"history-section"},nV={class:"section-header-row"},rV={class:"table-wrapper"},cV={class:"table-container"},dV={class:"custom-table"},uV={class:"fw-bold"},pV={class:"user-cell"},hV={class:"user-avatar"},mV={class:"user-name"},vV={class:"vehicle-info"},kV={class:"amount-cell"},gV={key:0};function fV(e,t,a,i,l,n){const r=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",P_,[(0,s.Lk)("header",E_,[t[2]||(t[2]=(0,s.Lk)("div",{class:"header-text"},[(0,s.Lk)("h2",{class:"section-title"},"Admin Dashboard"),(0,s.Lk)("p",{class:"section-subtitle"}," Real-time overview of platform performance and financials. ")],-1)),(0,s.Lk)("div",D_,[t[0]||(t[0]=(0,s.Lk)("i",{class:"bi bi-calendar-event"},null,-1)),t[1]||(t[1]=(0,s.eW)()),(0,s.Lk)("span",null,(0,o.v_)(i.currentDate),1)])]),i.isLoading?((0,s.uX)(),(0,s.CE)("div",A_,[...t[3]||(t[3]=[(0,s.Lk)("div",{class:"spinner"},null,-1),(0,s.Lk)("p",null,"Loading live data...",-1)])])):((0,s.uX)(),(0,s.CE)("div",__,[(0,s.Lk)("div",V_,[(0,s.Lk)("div",I_,[(0,s.Lk)("div",F_,[(0,s.Lk)("div",x_,[t[4]||(t[4]=(0,s.Lk)("p",{class:"stat-label"},"Total Users",-1)),(0,s.Lk)("h3",M_,(0,o.v_)(i.stats.totalUsers),1)]),t[5]||(t[5]=(0,s.Lk)("div",{class:"icon-wrapper"},[(0,s.Lk)("i",{class:"bi bi-people-fill"})],-1))])]),(0,s.Lk)("div",T_,[(0,s.Lk)("div",R_,[(0,s.Lk)("div",B_,[t[6]||(t[6]=(0,s.Lk)("p",{class:"stat-label"},"Total Vehicles",-1)),(0,s.Lk)("h3",U_,(0,o.v_)(i.stats.totalVehicles),1)]),t[7]||(t[7]=(0,s.Lk)("div",{class:"icon-wrapper"},[(0,s.Lk)("i",{class:"bi bi-car-front-fill"})],-1))])]),(0,s.Lk)("div",N_,[(0,s.Lk)("div",X_,[(0,s.Lk)("div",O_,[t[8]||(t[8]=(0,s.Lk)("p",{class:"stat-label"},"Pending Apps",-1)),(0,s.Lk)("h3",q_,(0,o.v_)(i.stats.pendingApplications),1)]),t[9]||(t[9]=(0,s.Lk)("div",{class:"icon-wrapper"},[(0,s.Lk)("i",{class:"bi bi-file-earmark-person-fill"})],-1))])]),(0,s.Lk)("div",$_,[(0,s.Lk)("div",Q_,[(0,s.Lk)("div",W_,[t[10]||(t[10]=(0,s.Lk)("p",{class:"stat-label"},"Active Bookings",-1)),(0,s.Lk)("h3",H_,(0,o.v_)(i.stats.activeBookings),1)]),t[11]||(t[11]=(0,s.Lk)("div",{class:"icon-wrapper"},[(0,s.Lk)("i",{class:"bi bi-key-fill"})],-1))])])]),t[25]||(t[25]=(0,s.Lk)("h3",{class:"section-header-title"},"Financial Performance",-1)),(0,s.Lk)("div",j_,[(0,s.Lk)("div",Y_,[(0,s.Lk)("div",K_,[(0,s.Lk)("div",G_,[t[12]||(t[12]=(0,s.Lk)("p",{class:"stat-label"},"Total Revenue (Verified)",-1)),(0,s.Lk)("h3",J_,(0,o.v_)(i.formatCurrency(i.financialStats.totalRevenue)),1),t[13]||(t[13]=(0,s.Lk)("p",{class:"stat-sub"},"Platform fees collected",-1))]),t[14]||(t[14]=(0,s.Lk)("div",{class:"icon-wrapper"},[(0,s.Lk)("i",{class:"bi bi-cash-stack"})],-1))])]),(0,s.Lk)("div",z_,[(0,s.Lk)("div",Z_,[(0,s.Lk)("div",eV,[t[15]||(t[15]=(0,s.Lk)("p",{class:"stat-label"},"Pending Revenue",-1)),(0,s.Lk)("h3",tV,(0,o.v_)(i.formatCurrency(i.financialStats.pendingRevenue)),1),t[16]||(t[16]=(0,s.Lk)("p",{class:"stat-sub"},"Fees awaiting verification",-1))]),t[17]||(t[17]=(0,s.Lk)("div",{class:"icon-wrapper"},[(0,s.Lk)("i",{class:"bi bi-hourglass-split"})],-1))])]),(0,s.Lk)("div",aV,[(0,s.Lk)("div",iV,[(0,s.Lk)("div",sV,[t[18]||(t[18]=(0,s.Lk)("p",{class:"stat-label"},"Total Booking Volume",-1)),(0,s.Lk)("h3",oV,(0,o.v_)(i.formatCurrency(i.financialStats.totalVolume)),1),t[19]||(t[19]=(0,s.Lk)("p",{class:"stat-sub"},"Gross value of confirmed trips",-1))]),t[20]||(t[20]=(0,s.Lk)("div",{class:"icon-wrapper"},[(0,s.Lk)("i",{class:"bi bi-graph-up-arrow"})],-1))])])]),(0,s.Lk)("section",lV,[(0,s.Lk)("div",nV,[t[22]||(t[22]=(0,s.Lk)("h3",null,"Recent Booking History",-1)),(0,s.bF)(r,{to:"/dashboard/admin/bookings",class:"view-all-btn"},{default:(0,s.k6)(()=>[...t[21]||(t[21]=[(0,s.eW)(" View All ",-1),(0,s.Lk)("i",{class:"bi bi-arrow-right"},null,-1)])]),_:1})]),(0,s.Lk)("div",rV,[(0,s.Lk)("div",cV,[(0,s.Lk)("table",dV,[t[24]||(t[24]=(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"Booking ID"),(0,s.Lk)("th",null,"Renter"),(0,s.Lk)("th",null,"Vehicle"),(0,s.Lk)("th",null,"Date"),(0,s.Lk)("th",null,"Amount"),(0,s.Lk)("th",null,"Status")])],-1)),(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.recentBookings,e=>((0,s.uX)(),(0,s.CE)("tr",{key:e.id},[(0,s.Lk)("td",uV,[(0,s.bF)(r,{to:`/dashboard/my-bookings/${e.id}`,class:"id-link"},{default:(0,s.k6)(()=>[(0,s.eW)(" #"+(0,o.v_)(e.id.substring(0,8))+"... ",1)]),_:2},1032,["to"])]),(0,s.Lk)("td",null,[(0,s.Lk)("div",pV,[(0,s.Lk)("div",hV,(0,o.v_)(i.getInitials(e.resolvedRenterName)),1),(0,s.Lk)("span",mV,(0,o.v_)(e.resolvedRenterName),1)])]),(0,s.Lk)("td",null,[(0,s.Lk)("span",vV,(0,o.v_)(e.vehicle?.make)+" "+(0,o.v_)(e.vehicle?.model||"Vehicle"),1)]),(0,s.Lk)("td",null,(0,o.v_)(i.formatDate(e.createdAt)),1),(0,s.Lk)("td",kV,(0,o.v_)(i.formatCurrency(e.resolvedAmount)),1),(0,s.Lk)("td",null,[(0,s.Lk)("span",{class:(0,o.C4)(["status-badge",i.getStatusClass(e.resolvedStatus)])},(0,o.v_)(i.formatStatus(e.resolvedStatus)),3)])]))),128)),0===i.recentBookings.length?((0,s.uX)(),(0,s.CE)("tr",gV,[...t[23]||(t[23]=[(0,s.Lk)("td",{colspan:"6",class:"text-center empty-state"},[(0,s.Lk)("i",{class:"bi bi-inbox"}),(0,s.Lk)("p",null,"No bookings found.")],-1)])])):(0,s.Q3)("",!0)])])])])])]))])}var yV={name:"AdminDashboardView",setup(){const e=(0,x.Pj)(),t=(0,zs.KR)(!0),a=(0,zs.KR)(0),i=(new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),o=async()=>{t.value=!0;try{const[t,i,s,o,l,n]=await Promise.all([e.dispatch("fetchAllUsers"),e.dispatch("fetchAllVehicles"),e.dispatch("fetchAllBookings"),e.dispatch("fetchHostApplications"),e.dispatch("fetchDriveApplications"),e.dispatch("fetchAllPlatformFees")]),r=(o||[]).filter(e=>"pending"===e.status).length,c=(l||[]).filter(e=>"pending"===e.status).length;a.value=r+c}catch(i){console.error("Error loading dashboard data:",i)}finally{t.value=!1}},l=(0,s.EW)(()=>{const t=e.state.allUsers||[],i=e.state.allVehicles||[],s=e.state.allBookings||[],o=s.filter(e=>{const t=(e.status||e.paymentStatus||"").toLowerCase();return["approved","ongoing","active","confirmed","paid","downpayment_verified"].includes(t)}).length;return{totalUsers:t.length,totalVehicles:i.length,pendingApplications:a.value,activeBookings:o}}),n=(0,s.EW)(()=>{const t=e.state.allPlatformFees||[],a=e.state.allBookings||[],i=t.filter(e=>"verified"===e.status).reduce((e,t)=>e+(Number(t.amount)||0),0),s=t.filter(e=>"verified"!==e.status).reduce((e,t)=>e+(Number(t.amount)||0),0),o=a.filter(e=>["confirmed","completed","returned","downpayment_verified"].includes(e.paymentStatus)).reduce((e,t)=>e+(Number(t.totalCost)||0),0);return{totalRevenue:i,pendingRevenue:s,totalVolume:o}}),r=(0,s.EW)(()=>{const t=e.state.allBookings||[],a=e.state.allUsers||[],i=t.map(e=>{let t="Unknown User";if(e.renter&&e.renter.fullName)t=e.renter.fullName;else{const i=e.userId||e.renterId;if(i){const e=a.find(e=>e.id===i||e.uid===i);e&&(t=e.fullName||e.name||e.email)}}let i=e.totalPrice??e.amount??e.price??e.totalCost??0;const s=parseFloat(i),o=isNaN(s)?0:s;let l=e.status||e.bookingStatus||e.paymentStatus||"Pending";return{...e,resolvedRenterName:t,resolvedAmount:o,resolvedStatus:l}});return i.sort((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)).slice(0,10)}),c=e=>{if(!e)return"-";let t=new Date(e);return"object"===typeof e&&e.seconds&&(t=new Date(1e3*e.seconds)),t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},d=e=>`₱${Number(e).toLocaleString()}`,u=e=>e?e.charAt(0).toUpperCase():"?",p=e=>e?e.toString().replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()):"Unknown",h=e=>{if(!e)return"";const t=e.toString().toLowerCase();return t.includes("active")||t.includes("approved")||t.includes("confirmed")||t.includes("paid")||t.includes("verified")?"status-active":t.includes("completed")?"status-completed":t.includes("pending")||t.includes("review")||t.includes("processing")?"status-pending":t.includes("cancelled")||t.includes("declined")||t.includes("rejected")||t.includes("failed")?"status-cancelled":"status-pending"};return(0,s.sV)(o),{store:e,isLoading:t,stats:l,financialStats:n,recentBookings:r,currentDate:i,formatDate:c,formatCurrency:d,getInitials:u,getStatusClass:h,formatStatus:p}}};const bV=(0,B.A)(yV,[["render",fV],["__scopeId","data-v-1ee052f0"]]);var LV=bV;const wV={class:"admin-page-container"},CV={key:0,class:"info-state"},SV={key:1,class:"info-state error-state"},PV={key:2,class:"info-state"},EV={key:3,class:"applications-grid"},DV={class:"card-header"},AV={class:"user-info"},_V=["src"],VV={class:"user-name"},IV={class:"user-id"},FV={class:"app-status"},xV={class:"card-body"},MV={class:"vehicle-info"},TV={class:"plate-number"},RV={class:"card-footer"},BV=["onClick"],UV={class:"decision-buttons"},NV=["onClick"],XV=["onClick"],OV={class:"modal-card"},qV={class:"modal-content"},$V={class:"detail-section"},QV={class:"detail-grid"},WV={class:"detail-group"},HV={class:"detail-group"},jV={class:"detail-group full-width"},YV=["href"],KV=["src"],GV={class:"detail-section"},JV={class:"detail-group full-width"},zV=["href"],ZV=["src"],eI={class:"detail-section"},tI={class:"detail-grid"},aI={class:"detail-group"},iI={style:{"text-transform":"uppercase","font-weight":"bold",color:"#10b981"}},sI={class:"detail-group"},oI={class:"detail-group"},lI={class:"detail-group"},nI={class:"detail-group"},rI={key:0,class:"detail-group full-width",style:{"margin-top":"1.5rem"}},cI=["href"],dI=["src"],uI={class:"modal-actions"};function pI(e,t,a,l,n,r){return(0,s.uX)(),(0,s.CE)("div",wV,[t[23]||(t[23]=(0,s.Lk)("h2",{class:"section-title"},"Host Applications",-1)),t[24]||(t[24]=(0,s.Lk)("p",{class:"section-subtitle"}," Review, approve, or reject applications from renters who want to become hosts. ",-1)),n.loading?((0,s.uX)(),(0,s.CE)("div",CV,[...t[6]||(t[6]=[(0,s.Lk)("p",null,"Loading applications...",-1)])])):n.error?((0,s.uX)(),(0,s.CE)("div",SV,[(0,s.Lk)("p",null,(0,o.v_)(n.error),1)])):0===n.applications.length?((0,s.uX)(),(0,s.CE)("div",PV,[...t[7]||(t[7]=[(0,s.Lk)("i",{class:"bi bi-person-check-fill"},null,-1),(0,s.Lk)("p",null,"There are no pending host applications.",-1)])])):((0,s.uX)(),(0,s.CE)("div",EV,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.applications,e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"application-card"},[(0,s.Lk)("div",DV,[(0,s.Lk)("div",AV,[(0,s.Lk)("img",{src:e.selfieImageUrl||"https://placehold.co/100x100/e2e8f0/666666?text=User",alt:"User",class:"user-avatar",onError:t[0]||(t[0]=(...e)=>r.onImageError&&r.onImageError(...e))},null,40,_V),(0,s.Lk)("div",null,[(0,s.Lk)("h3",VV,(0,o.v_)(e.driversLicense?.firstName||"Unknown")+" "+(0,o.v_)(e.driversLicense?.lastName||""),1),(0,s.Lk)("p",IV,"User ID: "+(0,o.v_)(e.userId),1)])]),(0,s.Lk)("span",FV,(0,o.v_)(e.status||"Pending"),1)]),(0,s.Lk)("div",xV,[(0,s.Lk)("h4",MV," License #: "+(0,o.v_)(e.driversLicense?.licenseNumber||"N/A"),1),(0,s.Lk)("p",TV," Submitted: "+(0,o.v_)(r.formatDate(e.submittedAt)),1)]),(0,s.Lk)("div",RV,[(0,s.Lk)("button",{onClick:t=>r.viewDetails(e),class:"button secondary"}," View Details ",8,BV),(0,s.Lk)("div",UV,[(0,s.Lk)("button",{onClick:t=>r.handleDecline(e.id),class:"button danger"}," Decline ",8,NV),(0,s.Lk)("button",{onClick:t=>r.handleApprove(e.id,e.userId),class:"button primary"}," Approve ",8,XV)])])]))),128))])),n.isModalOpen&&n.selectedApplication?((0,s.uX)(),(0,s.CE)("div",{key:4,class:"modal-overlay",onClick:t[5]||(t[5]=(0,i.D$)((...e)=>r.closeModal&&r.closeModal(...e),["self"]))},[(0,s.Lk)("div",OV,[t[21]||(t[21]=(0,s.Lk)("h3",{class:"modal-title"},"Application Details",-1)),t[22]||(t[22]=(0,s.Lk)("p",{class:"modal-subtitle"}," Review applicant's provided information and documents. ",-1)),(0,s.Lk)("div",qV,[(0,s.Lk)("div",$V,[t[11]||(t[11]=(0,s.Lk)("h4",{class:"detail-title"},"Driver's License Info",-1)),(0,s.Lk)("div",QV,[(0,s.Lk)("div",WV,[t[8]||(t[8]=(0,s.Lk)("label",null,"Full Name",-1)),(0,s.Lk)("p",null,(0,o.v_)(n.selectedApplication.driversLicense?.firstName)+" "+(0,o.v_)(n.selectedApplication.driversLicense?.lastName),1)]),(0,s.Lk)("div",HV,[t[9]||(t[9]=(0,s.Lk)("label",null,"License Number",-1)),(0,s.Lk)("p",null,(0,o.v_)(n.selectedApplication.driversLicense?.licenseNumber||"N/A"),1)])]),(0,s.Lk)("div",jV,[t[10]||(t[10]=(0,s.Lk)("label",null,"License Image",-1)),(0,s.Lk)("a",{href:n.selectedApplication.driversLicense?.licenseImageUrl,target:"_blank",class:"image-link"},[(0,s.Lk)("img",{src:n.selectedApplication.driversLicense?.licenseImageUrl||"https://placehold.co/400x200?text=No+Image",alt:"License Document",class:"document-image",onError:t[1]||(t[1]=(...e)=>r.onImageError&&r.onImageError(...e))},null,40,KV)],8,YV)])]),(0,s.Lk)("div",GV,[t[13]||(t[13]=(0,s.Lk)("h4",{class:"detail-title"},"Identity Verification",-1)),(0,s.Lk)("div",JV,[t[12]||(t[12]=(0,s.Lk)("label",null,"Selfie with ID",-1)),(0,s.Lk)("a",{href:n.selectedApplication.selfieImageUrl,target:"_blank",class:"image-link"},[(0,s.Lk)("img",{src:n.selectedApplication.selfieImageUrl||"https://placehold.co/400x200?text=No+Image",alt:"Selfie with ID",class:"document-image",onError:t[2]||(t[2]=(...e)=>r.onImageError&&r.onImageError(...e))},null,40,ZV)],8,zV)])]),(0,s.Lk)("div",eI,[t[20]||(t[20]=(0,s.Lk)("h4",{class:"detail-title"},"Payout Details",-1)),(0,s.Lk)("div",tI,[(0,s.Lk)("div",aI,[t[14]||(t[14]=(0,s.Lk)("label",null,"Method",-1)),(0,s.Lk)("p",iI,(0,o.v_)(n.selectedApplication.payoutDetails?.payoutType||"N/A"),1)]),(0,s.Lk)("div",sI,[t[15]||(t[15]=(0,s.Lk)("label",null,"Account Name",-1)),(0,s.Lk)("p",null,(0,o.v_)(n.selectedApplication.payoutDetails?.accountName||"N/A"),1)]),(0,s.Lk)("div",oI,[t[16]||(t[16]=(0,s.Lk)("label",null,"Account Number",-1)),(0,s.Lk)("p",null,(0,o.v_)(n.selectedApplication.payoutDetails?.accountNumber||"N/A"),1)]),"bank"===n.selectedApplication.payoutDetails?.payoutType?((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[(0,s.Lk)("div",lI,[t[17]||(t[17]=(0,s.Lk)("label",null,"Bank Name",-1)),(0,s.Lk)("p",null,(0,o.v_)(n.selectedApplication.payoutDetails?.bankName||"N/A"),1)]),(0,s.Lk)("div",nI,[t[18]||(t[18]=(0,s.Lk)("label",null,"Branch",-1)),(0,s.Lk)("p",null,(0,o.v_)(n.selectedApplication.payoutDetails?.branchName||"N/A"),1)])],64)):(0,s.Q3)("",!0)]),n.selectedApplication.payoutDetails?.qrCodeUrl?((0,s.uX)(),(0,s.CE)("div",rI,[t[19]||(t[19]=(0,s.Lk)("label",null,"Payment QR Code",-1)),(0,s.Lk)("a",{href:n.selectedApplication.payoutDetails.qrCodeUrl,target:"_blank",class:"image-link"},[(0,s.Lk)("img",{src:n.selectedApplication.payoutDetails.qrCodeUrl,alt:"QR Code",class:"document-image qr-image",onError:t[3]||(t[3]=(...e)=>r.onImageError&&r.onImageError(...e))},null,40,dI)],8,cI)])):(0,s.Q3)("",!0)])]),(0,s.Lk)("div",uI,[(0,s.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>r.closeModal&&r.closeModal(...e)),class:"button secondary"},"Close")])])])):(0,s.Q3)("",!0)])}var hI={name:"AdminHostApplicationsView",data(){return{loading:!0,error:null,applications:[],selectedApplication:null,isModalOpen:!1}},methods:{...(0,x.i0)(["fetchHostApplications","approveHostApplication","declineHostApplication"]),async loadApplications(){this.loading=!0,this.error=null;try{const e=await this.fetchHostApplications();this.applications=Array.isArray(e)?e:e.data||[]}catch(e){this.error="Failed to load host applications.",console.error(e)}finally{this.loading=!1}},async handleApprove(e,t){if(confirm("Are you sure you want to approve this host?"))try{await this.approveHostApplication({applicationId:e,userId:t}),await this.loadApplications(),alert("Host approved successfully!")}catch(a){alert("Failed to approve application.")}},async handleDecline(e){if(confirm("Are you sure you want to decline this application?"))try{await this.declineHostApplication(e),await this.loadApplications(),alert("Application declined successfully.")}catch(t){console.error(t),alert("Failed to decline application.")}},viewDetails(e){this.selectedApplication=e,this.isModalOpen=!0},closeModal(){this.isModalOpen=!1,this.selectedApplication=null},formatDate(e){if(!e)return"N/A";try{let t;return t=e.seconds?new Date(1e3*e.seconds):e._seconds?new Date(1e3*e._seconds):new Date(e),isNaN(t.getTime())?"Invalid Date":Z.c9.fromJSDate(t).toFormat("LLL dd, yyyy")}catch(t){return"Invalid Date"}},onImageError(e){e.target.src="https://placehold.co/400x200?text=Image+Load+Error"}},created(){this.loadApplications()}};const mI=(0,B.A)(hI,[["render",pI],["__scopeId","data-v-41d57b7c"]]);var vI=mI;const kI={class:"status-container"},gI={key:0,class:"status-card"},fI={key:1,class:"status-card error"},yI={key:2,class:"status-card"},bI={key:0,class:"bi bi-hourglass-split"},LI={key:1,class:"bi bi-patch-check-fill"},wI={key:2,class:"bi bi-x-circle-fill"},CI={class:"title"},SI={class:"subtitle"},PI={class:"button-group"},EI={key:0,class:"button primary"};function DI(e,t,a,i,l,n){const r=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",kI,[l.loading?((0,s.uX)(),(0,s.CE)("div",gI,[...t[0]||(t[0]=[(0,s.Lk)("p",null,"Loading booking status...",-1)])])):l.error?((0,s.uX)(),(0,s.CE)("div",fI,[(0,s.Lk)("p",null,(0,o.v_)(l.error),1)])):l.booking?((0,s.uX)(),(0,s.CE)("div",yI,[(0,s.Lk)("div",{class:(0,o.C4)(["icon-wrapper",n.statusClass])},[n.isPending?((0,s.uX)(),(0,s.CE)("i",bI)):(0,s.Q3)("",!0),n.isConfirmed?((0,s.uX)(),(0,s.CE)("i",LI)):(0,s.Q3)("",!0),n.isDeclined?((0,s.uX)(),(0,s.CE)("i",wI)):(0,s.Q3)("",!0)],2),(0,s.Lk)("h1",CI,(0,o.v_)(n.statusTitle),1),(0,s.Lk)("p",SI,(0,o.v_)(n.statusSubtitle),1),(0,s.Lk)("div",PI,[(0,s.bF)(r,{to:"/dashboard/my-bookings",class:"button secondary"},{default:(0,s.k6)(()=>[...t[1]||(t[1]=[(0,s.eW)("View All Bookings",-1)])]),_:1}),n.isConfirmed?((0,s.uX)(),(0,s.CE)("button",EI,"Start Chat")):(0,s.Q3)("",!0)])])):(0,s.Q3)("",!0)])}var AI={name:"BookingStatusView",props:["bookingId"],data(){return{loading:!0,error:null,booking:null,unsubscribe:null}},computed:{isPending(){return"pending_owner_approval"===this.booking?.paymentStatus},isConfirmed(){return"confirmed"===this.booking?.paymentStatus},isDeclined(){return"declined_by_owner"===this.booking?.paymentStatus},statusClass(){return this.isConfirmed?"confirmed":this.isDeclined?"declined":"pending"},statusTitle(){return this.isConfirmed?"Booking Confirmed!":this.isDeclined?"Booking Declined":"Awaiting Confirmation"},statusSubtitle(){return this.isConfirmed?"The owner has accepted your request. You can now coordinate your trip details.":this.isDeclined?"Unfortunately, the owner has declined your booking request for the selected dates.":"We've notified the owner. You will be updated here automatically once they respond."}},created(){this.listenForBookingUpdates()},beforeUnmount(){this.unsubscribe&&this.unsubscribe()},methods:{listenForBookingUpdates(){const e=(0,Te.H9)(Xe,"bookings",this.bookingId);this.unsubscribe=(0,Te.aQ)(e,e=>{e.exists()?this.booking={id:e.id,...e.data()}:this.error="This booking could not be found.",this.loading=!1},e=>{this.error="Failed to listen for booking updates.",this.loading=!1,console.error(e)})}}};const _I=(0,B.A)(AI,[["render",DI],["__scopeId","data-v-c4db55e2"]]);var VI=_I;const II={class:"chat-container"},FI={class:"conversation-list"},xI={key:0,class:"info-state"},MI={key:1,class:"info-state"},TI={key:2,class:"conversations-scroll-area"},RI=["onClick"],BI={key:0,class:"conversation-content"},UI=["src"],NI={class:"conversation-details"},XI={key:0},OI={class:"conversation-meta"},qI={class:"last-message-time"},$I={key:0,class:"unread-indicator"},QI={class:"chat-window"},WI={key:0,class:"chat-content-window"},HI={class:"chat-header"},jI=["src"],YI={class:"message-area",ref:"messageArea"},KI={class:"message-bubble"},GI={key:0,class:"message-text"},JI=["src"],zI={class:"message-input-area-wrapper"},ZI={key:0,class:"image-preview"},eF=["src"],tF={class:"message-input-area"},aF=["disabled"],iF={key:1,class:"no-chat-selected"};function sF(e,t,a,l,n,r){const c=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",II,[(0,s.Lk)("div",FI,[t[9]||(t[9]=(0,s.Lk)("div",{class:"list-header"},[(0,s.Lk)("h2",null,"Inbox")],-1)),n.loading?((0,s.uX)(),(0,s.CE)("div",xI,[...t[7]||(t[7]=[(0,s.Lk)("p",null,"Loading conversations...",-1)])])):r.sortedConversations&&0!==r.sortedConversations.length?((0,s.uX)(),(0,s.CE)("div",TI,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.sortedConversations,t=>((0,s.uX)(),(0,s.CE)("div",{key:t.id,class:(0,o.C4)(["conversation-item",{active:n.selectedConversation&&n.selectedConversation.id===t.id}]),onClick:e=>r.selectConversation(t)},[t.otherUserDetails?((0,s.uX)(),(0,s.CE)("div",BI,[(0,s.Lk)("img",{src:t.otherUserDetails.profilePhotoUrl||"https://placehold.co/100x100/e2e8f0/666666?text=User",alt:"Avatar",class:"avatar"},null,8,UI),(0,s.Lk)("div",NI,[(0,s.Lk)("p",{class:(0,o.C4)(["user-name",{"unread-text":r.isUnread(t)}])},(0,o.v_)(t.otherUserDetails.name),3),(0,s.Lk)("p",{class:(0,o.C4)(["last-message",{"unread-text":r.isUnread(t)}])},[e.user&&t.lastMessage.senderId===e.user.uid?((0,s.uX)(),(0,s.CE)("span",XI,"You: ")):(0,s.Q3)("",!0),(0,s.eW)(" "+(0,o.v_)(t.lastMessage.text),1)],2)]),(0,s.Lk)("div",OI,[(0,s.Lk)("span",qI,(0,o.v_)(r.formatLastMessageTime(t.lastMessage.timestamp)),1),r.isUnread(t)?((0,s.uX)(),(0,s.CE)("div",$I)):(0,s.Q3)("",!0)])])):(0,s.Q3)("",!0)],10,RI))),128))])):((0,s.uX)(),(0,s.CE)("div",MI,[...t[8]||(t[8]=[(0,s.Lk)("p",null,"You have no messages yet.",-1)])]))]),(0,s.Lk)("div",QI,[n.selectedConversation?((0,s.uX)(),(0,s.CE)("div",WI,[(0,s.Lk)("div",HI,[(0,s.Lk)("img",{src:n.selectedConversation.otherUserDetails.profilePhotoUrl||"https://placehold.co/100x100/e2e8f0/666666?text=User",alt:"Avatar",class:"avatar-small"},null,8,jI),(0,s.Lk)("h3",null,(0,o.v_)(n.selectedConversation.otherUserDetails.name),1),(0,s.bF)(c,{to:`/dashboard/my-bookings/${n.selectedConversation.id}`,class:"booking-link",title:"View Booking"},{default:(0,s.k6)(()=>[...t[10]||(t[10]=[(0,s.Lk)("i",{class:"bi bi-file-text-fill"},null,-1)])]),_:1},8,["to"])]),(0,s.Lk)("div",YI,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.messages,a=>((0,s.uX)(),(0,s.CE)("div",{key:a.id,class:(0,o.C4)(["message-bubble-wrapper",{"is-sender":e.user&&a.senderId===e.user.uid}])},[(0,s.Lk)("div",KI,[a.text?((0,s.uX)(),(0,s.CE)("p",GI,(0,o.v_)(a.text),1)):(0,s.Q3)("",!0),a.imageUrl?((0,s.uX)(),(0,s.CE)("img",{key:1,src:a.imageUrl,alt:"Chat image",class:"chat-image",onLoad:t[0]||(t[0]=(...e)=>r.scrollToBottom&&r.scrollToBottom(...e))},null,40,JI)):(0,s.Q3)("",!0)])],2))),128))],512),(0,s.Lk)("div",zI,[n.stagedImagePreview?((0,s.uX)(),(0,s.CE)("div",ZI,[(0,s.Lk)("img",{src:n.stagedImagePreview,alt:"Image preview"},null,8,eF),(0,s.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>r.cancelImagePreview&&r.cancelImagePreview(...e)),class:"cancel-preview-btn"},[...t[11]||(t[11]=[(0,s.Lk)("i",{class:"bi bi-x"},null,-1)])])])):(0,s.Q3)("",!0),(0,s.Lk)("div",tF,[(0,s.Lk)("input",{type:"file",ref:"fileInput",onChange:t[2]||(t[2]=(...e)=>r.onFileSelected&&r.onFileSelected(...e)),accept:"image/png, image/jpeg",hidden:""},null,544),(0,s.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>r.triggerFileInput&&r.triggerFileInput(...e)),class:"icon-button",title:"Attach image"},[...t[12]||(t[12]=[(0,s.Lk)("i",{class:"bi bi-paperclip"},null,-1)])]),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>n.newMessage=e),onKeyup:t[5]||(t[5]=(0,i.jR)((...e)=>r.handleSendMessage&&r.handleSendMessage(...e),["enter"])),type:"text",placeholder:"Type a message..."},null,544),[[i.Jo,n.newMessage]]),(0,s.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>r.handleSendMessage&&r.handleSendMessage(...e)),class:"send-button",disabled:!r.canSendMessage},[...t[13]||(t[13]=[(0,s.Lk)("i",{class:"bi bi-send-fill"},null,-1)])],8,aF)])])])):((0,s.uX)(),(0,s.CE)("div",iF,[...t[14]||(t[14]=[(0,s.Lk)("i",{class:"bi bi-chat-dots-fill"},null,-1),(0,s.Lk)("p",null,"Select a conversation to start chatting",-1)])]))])])}var oF={name:"ChatView",data(){return{loading:!0,selectedConversation:null,messages:[],newMessage:"",messagesUnsubscribe:null,stagedImageBase64:null,stagedImagePreview:null}},computed:{...(0,x.L8)(["user"]),...(0,x.aH)(["userChats"]),sortedConversations(){return this.userChats&&0!==this.userChats.length?[...this.userChats].sort((e,t)=>{const a=e.lastMessage?.timestamp?._seconds||e.lastMessage?.timestamp?.seconds||0,i=t.lastMessage?.timestamp?._seconds||t.lastMessage?.timestamp?.seconds||0;return i-a}):[]},canSendMessage(){return""!==this.newMessage.trim()||null!==this.stagedImageBase64}},methods:{...(0,x.i0)(["fetchUserChats","sendMessage","markChatAsRead"]),async loadConversations(){this.loading=!0;try{await this.fetchUserChats()}catch(e){console.error("Could not load conversations",e)}finally{this.loading=!1}},selectConversation(e){this.selectedConversation?.id!==e.id&&(this.selectedConversation=e,this.fetchMessages(e.id),this.isUnread(e)&&this.markChatAsRead(e.id))},fetchMessages(e){this.messagesUnsubscribe&&this.messagesUnsubscribe();const t=(0,Te.rJ)(Xe,"chats",e,"messages"),a=(0,Te.P)(t,(0,Te.My)("timestamp"));this.messagesUnsubscribe=(0,Te.aQ)(a,e=>{this.messages=e.docs.map(e=>({id:e.id,...e.data()})),this.scrollToBottom()})},async handleSendMessage(){if(!this.canSendMessage)return;const e={chatId:this.selectedConversation.id,text:this.newMessage.trim(),imageBase64:this.stagedImageBase64};this.newMessage="",this.cancelImagePreview();try{await this.sendMessage(e)}catch(t){alert("Could not send message."),this.newMessage=e.text}},triggerFileInput(){this.$refs.fileInput.click()},onFileSelected(e){const t=e.target.files[0];if(!t)return;if(!t.type.startsWith("image/png")&&!t.type.startsWith("image/jpeg"))return void alert("Please select a valid image file (PNG or JPEG).");if(t.size>5242880)return void alert("File is too large. Please select an image smaller than 5MB.");this.stagedImagePreview=URL.createObjectURL(t);const a=new FileReader;a.onload=e=>{this.stagedImageBase64=e.target.result},a.onerror=e=>{console.error("FileReader error:",e),alert("Error reading file."),this.cancelImagePreview()},a.readAsDataURL(t),e.target.value=null},cancelImagePreview(){this.stagedImageBase64=null,this.stagedImagePreview&&(URL.revokeObjectURL(this.stagedImagePreview),this.stagedImagePreview=null)},isUnread(e){return!(!this.user||!e.lastMessage?.readBy)&&!e.lastMessage.readBy.includes(this.user.uid)},scrollToBottom(){this.$nextTick(()=>{const e=this.$refs.messageArea;e&&(e.scrollTop=e.scrollHeight)})},formatLastMessageTime(e){if(!e)return"";let t;if(e.seconds)t=e.seconds;else if(e._seconds)t=e._seconds;else{if("number"!==typeof e)return console.warn("Invalid timestamp format received:",e),"";t=e}const a=Z.c9.fromSeconds(t),i=Z.c9.now();return a.hasSame(i,"day")?a.toFormat("h:mm a"):a.hasSame(i.minus({days:1}),"day")?"Yesterday":i.diff(a,"weeks").weeks<1?a.toFormat("ccc"):a.toFormat("LLL dd")},formatMessageTimestamp(e){if(!e)return"";let t;if(e.seconds)t=e.seconds;else{if(!e._seconds)return"";t=e._seconds}return Z.c9.fromSeconds(t).toFormat("LLL dd, h:mm a")}},created(){if(this.loadConversations(),this.$route.params.chatId){let e;e=this.$watch("sortedConversations",t=>{if(t.length>0){const a=t.find(e=>e.id===this.$route.params.chatId);a&&this.selectConversation(a),e&&e()}},{immediate:!0})}},beforeUnmount(){this.messagesUnsubscribe&&this.messagesUnsubscribe()}};const lF=(0,B.A)(oF,[["render",sF],["__scopeId","data-v-1b8fec87"]]);var nF=lF;const rF={class:"application-container"},cF={class:"application-card"},dF={key:0,class:"success-message-box"},uF={key:1,class:"form-content"},pF={class:"form-section"},hF={class:"form-group"},mF={class:"form-group"},vF=["src"],kF={key:1,class:"upload-placeholder"},gF={class:"form-section"},fF={class:"form-group"},yF=["value"],bF={key:0,class:"form-group"},LF=["src"],wF={key:1,class:"upload-placeholder"},CF={key:0,class:"error-message"},SF=["disabled"],PF={key:0},EF={key:1};function DF(e,t,a,l,n,r){return(0,s.uX)(),(0,s.CE)("div",rF,[(0,s.Lk)("div",cF,[t[18]||(t[18]=(0,s.Lk)("div",{class:"header-section"},[(0,s.Lk)("h1",{class:"page-title"},"Driver Application"),(0,s.Lk)("p",{class:"page-subtitle"},"To rent or list a vehicle, please submit your documents for verification.")],-1)),n.successMessage?((0,s.uX)(),(0,s.CE)("div",dF,[t[8]||(t[8]=(0,s.Lk)("h4",null,[(0,s.Lk)("i",{class:"bi bi-check-circle-fill"}),(0,s.eW)(" Application Submitted")],-1)),(0,s.Lk)("p",null,(0,o.v_)(n.successMessage),1),(0,s.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$router.push({name:"ProfileSettings"})),class:"button primary"},"Back to Profile")])):((0,s.uX)(),(0,s.CE)("div",uF,[(0,s.Lk)("div",pF,[t[12]||(t[12]=(0,s.Lk)("label",{class:"form-section-label"},"1. Driver's License",-1)),(0,s.Lk)("div",hF,[t[9]||(t[9]=(0,s.Lk)("label",{for:"licenseNumber"},"Driver's License Number",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"licenseNumber","onUpdate:modelValue":t[1]||(t[1]=e=>n.applicationForm.licenseNumber=e),placeholder:"e.g., L12-34-567890"},null,512),[[i.Jo,n.applicationForm.licenseNumber]])]),(0,s.Lk)("div",mF,[t[11]||(t[11]=(0,s.Lk)("label",null,"Photo of Driver's License",-1)),(0,s.Lk)("div",{class:"id-upload-box",onClick:t[2]||(t[2]=t=>e.$refs.licenseInput.click())},[n.licensePreview?((0,s.uX)(),(0,s.CE)("img",{key:0,src:n.licensePreview,alt:"License Preview",class:"id-preview"},null,8,vF)):((0,s.uX)(),(0,s.CE)("div",kF,[...t[10]||(t[10]=[(0,s.Lk)("i",{class:"bi bi-person-vcard"},null,-1),(0,s.Lk)("span",null,"Click to upload photo",-1)])]))]),(0,s.Lk)("input",{type:"file",ref:"licenseInput",onChange:t[3]||(t[3]=e=>r.handleFileChange(e,"license")),accept:"image/*",class:"file-input"},null,544)])]),t[17]||(t[17]=(0,s.Lk)("hr",{class:"divider"},null,-1)),(0,s.Lk)("div",gF,[t[16]||(t[16]=(0,s.Lk)("label",{class:"form-section-label"},"2. Other Primary ID",-1)),(0,s.Lk)("div",fF,[t[14]||(t[14]=(0,s.Lk)("label",{for:"other-id-type"},"Select an ID Type",-1)),(0,s.bo)((0,s.Lk)("select",{id:"other-id-type","onUpdate:modelValue":t[4]||(t[4]=e=>n.applicationForm.otherIdType=e)},[t[13]||(t[13]=(0,s.Lk)("option",{disabled:"",value:""},"-- Please choose an option --",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.philippinePrimaryIDs,e=>((0,s.uX)(),(0,s.CE)("option",{key:e,value:e},(0,o.v_)(e),9,yF))),128))],512),[[i.u1,n.applicationForm.otherIdType]])]),n.applicationForm.otherIdType?((0,s.uX)(),(0,s.CE)("div",bF,[(0,s.Lk)("label",null,"Photo of "+(0,o.v_)(n.applicationForm.otherIdType),1),(0,s.Lk)("div",{class:"id-upload-box",onClick:t[5]||(t[5]=t=>e.$refs.otherIdInput.click())},[n.otherIdPreview?((0,s.uX)(),(0,s.CE)("img",{key:0,src:n.otherIdPreview,alt:"Other ID Preview",class:"id-preview"},null,8,LF)):((0,s.uX)(),(0,s.CE)("div",wF,[...t[15]||(t[15]=[(0,s.Lk)("i",{class:"bi bi-card-image"},null,-1),(0,s.Lk)("span",null,"Click to upload photo",-1)])]))]),(0,s.Lk)("input",{type:"file",ref:"otherIdInput",onChange:t[6]||(t[6]=e=>r.handleFileChange(e,"otherId")),accept:"image/*",class:"file-input"},null,544)])):(0,s.Q3)("",!0)]),n.errorMessage?((0,s.uX)(),(0,s.CE)("p",CF,(0,o.v_)(n.errorMessage),1)):(0,s.Q3)("",!0),(0,s.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>r.submitApplication&&r.submitApplication(...e)),disabled:n.isSubmitting,class:"submit-button"},[n.isSubmitting?((0,s.uX)(),(0,s.CE)("span",PF,"Submitting...")):((0,s.uX)(),(0,s.CE)("span",EF,"Submit Application"))],8,SF)]))])])}var AF={name:"BecomeDriveVerified",data(){return{applicationForm:{licenseNumber:"",otherIdType:"",licenseImageBase64:null,otherIdImageBase64:null},licensePreview:null,otherIdPreview:null,philippinePrimaryIDs:["Philippine National ID (PhilSys)","Passport","Social Security System (SSS) Card","Unified Multi-Purpose ID (UMID)","Professional Regulation Commission (PRC) ID","Voter's ID"],isSubmitting:!1,errorMessage:"",successMessage:""}},methods:{...(0,x.i0)(["submitDriveApplication"]),fileToBase64(e){return new Promise((t,a)=>{const i=new FileReader;i.readAsDataURL(e),i.onload=()=>t(i.result),i.onerror=e=>a(e)})},async handleFileChange(e,t){const a=e.target.files[0];if(a)try{const e=await this.fileToBase64(a);"license"===t?(this.applicationForm.licenseImageBase64=e,this.licensePreview=e):"otherId"===t&&(this.applicationForm.otherIdImageBase64=e,this.otherIdPreview=e)}catch(i){this.errorMessage="Failed to process image file."}},async submitApplication(){this.errorMessage="";const{licenseNumber:e,licenseImageBase64:t,otherIdType:a,otherIdImageBase64:i}=this.applicationForm;if(e&&t&&a&&i){this.isSubmitting=!0;try{await this.submitDriveApplication(this.applicationForm),this.successMessage="Your application has been submitted successfully. Our team will review it within 24-48 hours."}catch(s){this.errorMessage=s.response?.data?.message||"An error occurred during submission. Please try again."}finally{this.isSubmitting=!1}}else this.errorMessage="Please complete all fields and upload both ID photos."}}};const _F=(0,B.A)(AF,[["render",DF],["__scopeId","data-v-614f5cf4"]]);var VF=_F;const IF=[{path:"/dashboard",component:uu,meta:{requiresAuth:!0},children:[{path:"my-bookings",name:"MyBookings",component:Iu,meta:{requiresAuth:!0,authorize:["renter","admin","owner"]}},{path:"my-favorites",name:"MyFavorites",component:Nu,meta:{requiresAuth:!0,authorize:["renter","owner","admin"]}},{path:"my-bookings/:bookingId",name:"BookingDetails",component:um,props:!0,meta:{requiresAuth:!0,authorize:["renter","admin","owner"]}},{path:"profile-settings",name:"ProfileSettings",component:ag,meta:{requiresAuth:!0,authorize:["renter","admin","owner"]}},{path:"inbox",name:"Chat",component:nF,meta:{requiresAuth:!0}},{path:"verify-driver",name:"BecomeDriveVerified",component:VF,meta:{requiresAuth:!0,authorize:["renter"]}},{path:"owner/vehicles",name:"OwnerVehicles",component:Fg,meta:{requiresAuth:!0,authorize:["owner","admin"]}},{path:"earnings",name:"OwnerBilling",component:gP,meta:{requiresAuth:!0,authorize:["owner","admin"]}},{path:"owner/vehicles/add",name:"AddVehicle",component:uw,props:{initialVehicle:{},isEditMode:!1},meta:{requiresAuth:!0,authorize:["owner","admin"]}},{path:"owner/motorcycles/add",name:"AddMotorcycle",component:PC,props:{initialVehicle:{},isEditMode:!1},meta:{requiresAuth:!0,authorize:["owner","admin"]}},{path:"owner/vehicles/edit/:vehicleId",name:"EditVehicle",component:fC,props:!0,meta:{requiresAuth:!0,authorize:["owner","admin"]}},{path:"owner/bookings",name:"OwnerBookings",component:cE,meta:{requiresAuth:!0,authorize:["owner","admin"]}},{path:"admin",component:ou,redirect:{name:"AdminDashboard"},children:[{path:"dashboard",name:"AdminDashboard",component:LV,meta:{requiresAuth:!0,authorize:["admin"]}},{path:"users",name:"AdminUsers",component:S_,meta:{requiresAuth:!0,authorize:["admin"]}},{path:"vehicles",name:"AdminVehicles",component:sD,meta:{requiresAuth:!0,authorize:["admin"]}},{path:"bookings",name:"AdminBookings",component:VA,meta:{requiresAuth:!0,authorize:["admin"]}},{path:"host-applications",name:"AdminHostApplications",component:vI,meta:{requiresAuth:!0,authorize:["admin"]}},{path:"driver-applications",name:"AdminDriveApplications",component:()=>a.e(996).then(a.bind(a,7996)),meta:{requiresAuth:!0,authorize:["admin"]}},{path:"reports",name:"AdminReports",component:()=>a.e(199).then(a.bind(a,2199)),meta:{requiresAuth:!0,authorize:["admin"]}}]},{path:"",redirect:{name:"MyBookings"}}]}],FF=[{path:"/",name:"Home",component:ba},{path:"/about",name:"About",component:Pa},{path:"/contact",name:"Contact",component:Yr},{path:"/how-it-works",name:"HowItWorks",component:Zr},{path:"/careers",name:"Careers",component:sc},{path:"/blog",name:"Blog",component:xc},{path:"/blog/:slug",name:"BlogPostDetail",component:Yc,props:!0},{path:"/faq",name:"FAQ",component:vd},{path:"/hosting-guide",name:"HostingGuide",component:Cd},{path:"/privacy-policy",name:"PrivacyPolicy",component:Id},{path:"/terms-of-service",name:"TermsOfService",component:Nd},{path:"/vehicles",name:"VehicleList",component:hs},{path:"/vehicles/:id",name:"VehicleDetail",component:Il,props:!0},{path:"/login",name:"Login",component:Zl},{path:"/register",name:"Register",component:fn},{path:"/become-a-host",name:"BecomeOwnerApplication",component:_r,meta:{requiresAuth:!0,authorize:["renter"],requiresDriveVerified:!0}},{path:"/application-submitted",name:"ApplicationSubmitted",component:rg,meta:{requiresAuth:!0}},{path:"/users/:userId",name:"UserProfileView",component:ag,props:!0},{path:"/booking/verify-payment/:bookingId",name:"PaymentVerification",component:gP,props:!0,meta:{requiresAuth:!0}},{path:"/booking/summary/:bookingId",name:"BookingSummary",component:QP,props:!0,meta:{requiresAuth:!0,authorize:["renter","owner","admin"]}},{path:"/booking-status/:bookingId",name:"BookingStatus",component:VI,props:!0,meta:{requiresAuth:!0}},{path:"/chat/:chatId",name:"ChatConversation",component:nF,props:!0,meta:{requiresAuth:!0}},{path:"/trust-and-safety",name:"TrustAndSafety",component:()=>a.e(498).then(a.bind(a,1498))},...IF,{path:"/:catchAll(.*)",name:"NotFound",component:wn}],xF=(0,Se.aE)({history:(0,Se.LA)("/"),routes:FF});xF.beforeEach(async(e,t,a)=>{const i=Oe.getters.isAuthReady;i||await Oe.dispatch("initializeAuth");const s=e.matched.some(e=>e.meta.requiresAuth),o=e.meta.authorize,l=Oe.getters.isAuthenticated,n=Oe.getters.userRole,r=Oe.state.user?.isApprovedToDrive||!1,c=e.matched.some(e=>e.meta.requiresDriveVerified);!l||"Login"!==e.name&&"Register"!==e.name?s&&!l?a("/login"):s&&o&&!o.includes(n)?(console.warn(`[Router Guard] User role '${n}' not authorized for route '${e.path}'. Redirecting.`),a("admin"===n?"/dashboard/admin/dashboard":"owner"===n?"/dashboard/owner/vehicles":"/dashboard/my-bookings")):c&&!r&&"renter"===n?(console.warn("[Router Guard] User not approved to drive. Redirecting to driver verification."),a({name:"BecomeDriveVerified"})):a():a("admin"===n?"/dashboard/admin/dashboard":"owner"===n?"/dashboard/owner/vehicles":"/dashboard/my-bookings")});var MF=xF;(0,i.Ef)(Ce).use(Oe).use(MF).mount("#app")}},t={};function a(i){var s=t[i];if(void 0!==s)return s.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,i,s,o){if(!i){var l=1/0;for(d=0;d<e.length;d++){i=e[d][0],s=e[d][1],o=e[d][2];for(var n=!0,r=0;r<i.length;r++)(!1&o||l>=o)&&Object.keys(a.O).every(function(e){return a.O[e](i[r])})?i.splice(r--,1):(n=!1,o<l&&(l=o));if(n){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[i,s,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce(function(t,i){return a.f[i](e,t),t},[]))}}(),function(){a.u=function(e){return"js/"+e+"."+{199:"455bc899",498:"b46b0517",996:"b081b9c5"}[e]+".js"}}(),function(){a.miniCssF=function(e){return"css/"+e+"."+{199:"b348c73b",498:"dd9ce310",996:"9e99bc0a"}[e]+".css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="vehicle-rental-frontend:";a.l=function(i,s,o,l){if(e[i])e[i].push(s);else{var n,r;if(void 0!==o)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==i||u.getAttribute("data-webpack")==t+o){n=u;break}}n||(r=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,a.nc&&n.setAttribute("nonce",a.nc),n.setAttribute("data-webpack",t+o),n.src=i),e[i]=[s];var p=function(t,a){n.onerror=n.onload=null,clearTimeout(h);var s=e[i];if(delete e[i],n.parentNode&&n.parentNode.removeChild(n),s&&s.forEach(function(e){return e(a)}),t)return t(a)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=p.bind(null,n.onerror),n.onload=p.bind(null,n.onload),r&&document.head.appendChild(n)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,i,s,o){var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",a.nc&&(l.nonce=a.nc);var n=function(a){if(l.onerror=l.onload=null,"load"===a.type)s();else{var i=a&&a.type,n=a&&a.target&&a.target.href||t,r=new Error("Loading CSS chunk "+e+" failed.\n("+i+": "+n+")");r.name="ChunkLoadError",r.code="CSS_CHUNK_LOAD_FAILED",r.type=i,r.request=n,l.parentNode&&l.parentNode.removeChild(l),o(r)}};return l.onerror=l.onload=n,l.href=t,i?i.parentNode.insertBefore(l,i.nextSibling):document.head.appendChild(l),l},t=function(e,t){for(var a=document.getElementsByTagName("link"),i=0;i<a.length;i++){var s=a[i],o=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(o===e||o===t))return s}var l=document.getElementsByTagName("style");for(i=0;i<l.length;i++){s=l[i],o=s.getAttribute("data-href");if(o===e||o===t)return s}},i=function(i){return new Promise(function(s,o){var l=a.miniCssF(i),n=a.p+l;if(t(l,n))return s();e(i,n,null,s,o)})},s={524:0};a.f.miniCss=function(e,t){var a={199:1,498:1,996:1};s[e]?t.push(s[e]):0!==s[e]&&a[e]&&t.push(s[e]=i(e).then(function(){s[e]=0},function(t){throw delete s[e],t}))}}}(),function(){var e={524:0};a.f.j=function(t,i){var s=a.o(e,t)?e[t]:void 0;if(0!==s)if(s)i.push(s[2]);else{var o=new Promise(function(a,i){s=e[t]=[a,i]});i.push(s[2]=o);var l=a.p+a.u(t),n=new Error,r=function(i){if(a.o(e,t)&&(s=e[t],0!==s&&(e[t]=void 0),s)){var o=i&&("load"===i.type?"missing":i.type),l=i&&i.target&&i.target.src;n.message="Loading chunk "+t+" failed.\n("+o+": "+l+")",n.name="ChunkLoadError",n.type=o,n.request=l,s[1](n)}};a.l(l,r,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,i){var s,o,l=i[0],n=i[1],r=i[2],c=0;if(l.some(function(t){return 0!==e[t]})){for(s in n)a.o(n,s)&&(a.m[s]=n[s]);if(r)var d=r(a)}for(t&&t(i);c<l.length;c++)o=l[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(d)},i=self["webpackChunkvehicle_rental_frontend"]=self["webpackChunkvehicle_rental_frontend"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=a.O(void 0,[504],function(){return a(9821)});i=a.O(i)})();
//# sourceMappingURL=app.a66ced89.js.map